{"version":3,"file":"test.js","sources":["../src/trix/config/attachments.js","../src/trix/config/block_attributes.js","../src/trix/config/browser.js","../src/trix/config/css.js","../src/trix/config/dompurify.js","../src/trix/config/lang.js","../src/trix/config/file_size_formatting.js","../src/trix/constants.js","../src/trix/core/helpers/extend.js","../src/trix/core/helpers/dom.js","../src/trix/config/input.js","../src/trix/config/key_names.js","../src/trix/config/parser.js","../src/trix/config/text_attributes.js","../src/trix/config/toolbar.js","../src/trix/config/undo.js","../src/trix/core/basic_object.js","../src/trix/core/utilities/utf16_string.js","../src/trix/core/object.js","../src/trix/core/helpers/arrays.js","../src/trix/core/helpers/bidi.js","../src/trix/core/helpers/config.js","../src/trix/core/helpers/custom_elements.js","../src/trix/core/helpers/events.js","../src/trix/core/helpers/functions.js","../src/trix/core/helpers/objects.js","../src/trix/core/helpers/ranges.js","../src/trix/observers/selection_change_observer.js","../src/trix/core/helpers/strings.js","../src/trix/core/collections/hash.js","../src/trix/core/collections/object_group.js","../src/trix/core/collections/object_map.js","../src/trix/core/collections/element_store.js","../src/trix/core/utilities/operation.js","../src/trix/views/object_view.js","../node_modules/dompurify/dist/purify.es.mjs","../src/trix/models/html_sanitizer.js","../src/trix/views/attachment_view.js","../src/trix/views/previewable_attachment_view.js","../src/trix/views/piece_view.js","../src/trix/views/text_view.js","../src/trix/views/block_view.js","../src/trix/views/document_view.js","../src/trix/models/piece.js","../src/trix/operations/image_preload_operation.js","../src/trix/models/attachment.js","../src/trix/models/attachment_piece.js","../src/trix/models/string_piece.js","../src/trix/models/splittable_list.js","../src/trix/models/text.js","../src/trix/models/block.js","../src/trix/models/document.js","../src/trix/models/html_parser.js","../src/trix/core/serialization.js","../src/trix/models/managed_attachment.js","../src/trix/models/attachment_manager.js","../src/trix/models/line_break_insertion.js","../src/trix/models/composition.js","../src/trix/models/undo_manager.js","../src/trix/filters/filter.js","../src/trix/filters/attachment_gallery_filter.js","../src/trix/models/editor.js","../src/trix/models/location_mapper.js","../src/trix/models/point_mapper.js","../src/trix/models/selection_manager.js","../src/trix/controllers/attachment_editor_controller.js","../src/trix/controllers/composition_controller.js","../src/trix/controllers/controller.js","../src/trix/observers/mutation_observer.js","../src/trix/operations/file_verification_operation.js","../src/trix/models/flaky_android_keyboard_detector.js","../src/trix/controllers/input_controller.js","../src/trix/controllers/level_0_input_controller.js","../src/trix/controllers/level_2_input_controller.js","../src/trix/controllers/toolbar_controller.js","../src/trix/controllers/editor_controller.js","../src/trix/elements/trix_toolbar_element.js","../src/trix/elements/trix_editor_element.js","../src/trix/trix.js","../src/trix/core/helpers/global.js","../src/test/test_helpers/event_helpers.js","../src/test/test_helpers/assertions.js","../src/test/test_helpers/fixtures/editor_default_aria_label.js","../src/test/test_helpers/fixtures/editor_empty.js","../src/test/test_helpers/fixtures/editor_html.js","../src/test/test_helpers/fixtures/editor_in_table.js","../src/test/test_helpers/fixtures/editor_with_block_styles.js","../src/test/test_helpers/fixtures/editor_with_bold_styles.js","../src/test/test_helpers/fixtures/test_image_url.js","../src/test/test_helpers/fixtures/editor_with_image.js","../src/test/test_helpers/fixtures/editor_with_labels.js","../src/test/test_helpers/fixtures/editor_with_styled_content.js","../src/test/test_helpers/fixtures/editor_with_toolbar_and_input.js","../src/test/test_helpers/fixtures/editors_with_forms.js","../src/test/test_helpers/fixtures/fixtures.js","../src/test/test_helpers/test_helpers.js","../src/test/test_helpers/test_stubs.js","../src/test/test_helpers/functions.js","../src/test/test_helpers/timing_helpers.js","../node_modules/rangy/lib/rangy-core.js","../node_modules/rangy/lib/rangy-textrange.js","../src/test/test_helpers/selection_helpers.js","../src/test/test_helpers/input_helpers.js","../src/test/test_helpers/editor_helpers.js","../src/test/test_helpers/toolbar_helpers.js","../src/test/test_helper.js","../src/test/unit/attachment_test.js","../src/test/unit/bidi_test.js","../src/test/unit/block_test.js","../src/test/unit/composition_test.js","../src/test/unit/document_test.js","../src/test/unit/document_view_test.js","../src/test/unit/helpers/custom_elements_test.js","../src/test/unit/html_parser_test.js","../src/test/unit/html_sanitizer_test.js","../src/test/unit/location_mapper_test.js","../src/test/unit/mutation_observer_test.js","../src/test/unit/serialization_test.js","../src/test/unit/string_change_summary_test.js","../src/test/unit/text_test.js","../src/test/system/accessibility_test.js","../src/test/system/attachment_caption_test.js","../src/test/system/attachment_gallery_test.js","../src/test/system/attachment_test.js","../src/test/system/basic_input_test.js","../src/test/system/block_formatting_test.js","../src/test/system/caching_test.js","../src/test/system/canceled_input_test.js","../src/test/system/composition_input_test.js","../src/test/system/cursor_movement_test.js","../src/test/system/custom_element_test.js","../src/test/system/html_loading_test.js","../src/test/system/html_reparsing_test.js","../src/test/system/html_replacement_test.js","../src/test/system/installation_process_test.js","../src/test/system/level_2_input_test.js","../src/test/system/list_formatting_test.js","../node_modules/idiomorph/dist/idiomorph.esm.js","../src/test/system/morphing_test.js","../src/test/system/mutation_input_test.js","../src/test/system/pasting_test.js","../src/test/system/text_formatting_test.js","../src/test/system/undo_test.js","../src/test/test.js"],"sourcesContent":["export const attachmentSelector = \"[data-trix-attachment]\"\n\nconst attachments = {\n  preview: {\n    presentation: \"gallery\",\n    caption: {\n      name: true,\n      size: true,\n    },\n  },\n  file: {\n    caption: {\n      size: true,\n    },\n  },\n}\nexport default attachments\n","const attributes = {\n  default: {\n    tagName: \"div\",\n    parse: false,\n  },\n  quote: {\n    tagName: \"blockquote\",\n    nestable: true,\n  },\n  heading1: {\n    tagName: \"h1\",\n    terminal: true,\n    breakOnReturn: true,\n    group: false,\n  },\n  code: {\n    tagName: \"pre\",\n    terminal: true,\n    htmlAttributes: [ \"language\" ],\n    text: {\n      plaintext: true,\n    },\n  },\n  bulletList: {\n    tagName: \"ul\",\n    parse: false,\n  },\n  bullet: {\n    tagName: \"li\",\n    listAttribute: \"bulletList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  numberList: {\n    tagName: \"ol\",\n    parse: false,\n  },\n  number: {\n    tagName: \"li\",\n    listAttribute: \"numberList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  attachmentGallery: {\n    tagName: \"div\",\n    exclusive: true,\n    terminal: true,\n    parse: false,\n    group: false,\n  },\n}\n\nconst tagName = (element) => element?.tagName?.toLowerCase()\n\nexport default attributes\n","const androidVersionMatch = navigator.userAgent.match(/android\\s([0-9]+.*Chrome)/i)\nconst androidVersion = androidVersionMatch && parseInt(androidVersionMatch[1])\n\nexport default {\n  // Android emits composition events when moving the cursor through existing text\n  // Introduced in Chrome 65: https://bugs.chromium.org/p/chromium/issues/detail?id=764439#c9\n  composesExistingText: /Android.*Chrome/.test(navigator.userAgent),\n\n  // Android 13, especially on Samsung keyboards, emits extra compositionend and beforeinput events\n  // that can make the input handler lose the current selection or enter an infinite input -> render -> input\n  // loop.\n  recentAndroid: androidVersion && androidVersion > 12,\n  samsungAndroid: androidVersion && navigator.userAgent.match(/Android.*SM-/),\n\n  // IE 11 activates resizing handles on editable elements that have \"layout\"\n  forcesObjectResizing: /Trident.*rv:11/.test(navigator.userAgent),\n  // https://www.w3.org/TR/input-events-1/ + https://www.w3.org/TR/input-events-2/\n  supportsInputEvents: typeof InputEvent !== \"undefined\" &&\n    [ \"data\", \"getTargetRanges\", \"inputType\" ].every(prop => prop in InputEvent.prototype),\n}\n","export default {\n  attachment: \"attachment\",\n  attachmentCaption: \"attachment__caption\",\n  attachmentCaptionEditor: \"attachment__caption-editor\",\n  attachmentMetadata: \"attachment__metadata\",\n  attachmentMetadataContainer: \"attachment__metadata-container\",\n  attachmentName: \"attachment__name\",\n  attachmentProgress: \"attachment__progress\",\n  attachmentSize: \"attachment__size\",\n  attachmentToolbar: \"attachment__toolbar\",\n  attachmentGallery: \"attachment-gallery\",\n}\n","export default {\n  ADD_ATTR: [ \"language\" ],\n  SAFE_FOR_XML: false,\n  RETURN_DOM: true\n}\n","export default {\n  attachFiles: \"Attach Files\",\n  bold: \"Bold\",\n  bullets: \"Bullets\",\n  byte: \"Byte\",\n  bytes: \"Bytes\",\n  captionPlaceholder: \"Add a caption…\",\n  code: \"Code\",\n  heading1: \"Heading\",\n  indent: \"Increase Level\",\n  italic: \"Italic\",\n  link: \"Link\",\n  numbers: \"Numbers\",\n  outdent: \"Decrease Level\",\n  quote: \"Quote\",\n  redo: \"Redo\",\n  remove: \"Remove\",\n  strike: \"Strikethrough\",\n  undo: \"Undo\",\n  unlink: \"Unlink\",\n  url: \"URL\",\n  urlPlaceholder: \"Enter a URL…\",\n  GB: \"GB\",\n  KB: \"KB\",\n  MB: \"MB\",\n  PB: \"PB\",\n  TB: \"TB\",\n}\n","/* eslint-disable\n    no-case-declarations,\n*/\nimport lang from \"trix/config/lang\"\n\nconst sizes = [ lang.bytes, lang.KB, lang.MB, lang.GB, lang.TB, lang.PB ]\n\nexport default {\n  prefix: \"IEC\",\n  precision: 2,\n\n  formatter(number) {\n    switch (number) {\n      case 0:\n        return `0 ${lang.bytes}`\n      case 1:\n        return `1 ${lang.byte}`\n      default:\n        let base\n\n        if (this.prefix === \"SI\") {\n          base = 1000\n        } else if (this.prefix === \"IEC\") {\n          base = 1024\n        }\n\n        const exp = Math.floor(Math.log(number) / Math.log(base))\n        const humanSize = number / Math.pow(base, exp)\n        const string = humanSize.toFixed(this.precision)\n        const withoutInsignificantZeros = string.replace(/0*$/, \"\").replace(/\\.$/, \"\")\n        return `${withoutInsignificantZeros} ${sizes[exp]}`\n    }\n  },\n}\n","export const ZERO_WIDTH_SPACE = \"\\uFEFF\"\nexport const NON_BREAKING_SPACE = \"\\u00A0\"\nexport const OBJECT_REPLACEMENT_CHARACTER = \"\\uFFFC\"\n","export const extend = function(properties) {\n  for (const key in properties) {\n    const value = properties[key]\n    this[key] = value\n  }\n  return this\n}\n","import blockAttributes from \"trix/config/block_attributes\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { extend } from \"./extend\"\nimport { attachmentSelector } from \"trix/config/attachments\"\n\nconst html = document.documentElement\nconst match = html.matches\n\nexport const handleEvent = function(eventName, { onElement, matchingSelector, withCallback, inPhase, preventDefault, times } = {}) {\n  const element = onElement ? onElement : html\n  const selector = matchingSelector\n  const useCapture = inPhase === \"capturing\"\n\n  const handler = function(event) {\n    if (times != null && --times === 0) {\n      handler.destroy()\n    }\n    const target = findClosestElementFromNode(event.target, { matchingSelector: selector })\n    if (target != null) {\n      withCallback?.call(target, event, target)\n      if (preventDefault) {\n        event.preventDefault()\n      }\n    }\n  }\n\n  handler.destroy = () => element.removeEventListener(eventName, handler, useCapture)\n\n  element.addEventListener(eventName, handler, useCapture)\n  return handler\n}\n\nexport const handleEventOnce = function(eventName, options = {}) {\n  options.times = 1\n  return handleEvent(eventName, options)\n}\n\nexport const createEvent = function(eventName, { bubbles, cancelable, attributes } = {}) {\n  bubbles = bubbles !== false\n  cancelable = cancelable !== false\n\n  const event = document.createEvent(\"Events\")\n  event.initEvent(eventName, bubbles, cancelable)\n  if (attributes != null) {\n    extend.call(event, attributes)\n  }\n  return event\n}\n\nexport const triggerEvent = function(eventName, { onElement, bubbles, cancelable, attributes } = {}) {\n  const element = onElement != null ? onElement : html\n  const event = createEvent(eventName, { bubbles, cancelable, attributes })\n  return element.dispatchEvent(event)\n}\n\nexport const elementMatchesSelector = function(element, selector) {\n  if (element?.nodeType === 1) {\n    return match.call(element, selector)\n  }\n}\n\nexport const findClosestElementFromNode = function(node, { matchingSelector, untilNode } = {}) {\n  while (node && node.nodeType !== Node.ELEMENT_NODE) {\n    node = node.parentNode\n  }\n  if (node == null) {\n    return\n  }\n\n  if (matchingSelector != null) {\n    if (node.closest && untilNode == null) {\n      return node.closest(matchingSelector)\n    } else {\n      while (node && node !== untilNode) {\n        if (elementMatchesSelector(node, matchingSelector)) {\n          return node\n        }\n        node = node.parentNode\n      }\n    }\n  } else {\n    return node\n  }\n}\n\nexport const findInnerElement = function(element) {\n  while (element?.firstElementChild) {\n    element = element.firstElementChild\n  }\n  return element\n}\n\nexport const innerElementIsActive = (element) =>\n  document.activeElement !== element && elementContainsNode(element, document.activeElement)\n\nexport const elementContainsNode = function(element, node) {\n  if (!element || !node) {\n    return\n  }\n  while (node) {\n    if (node === element) {\n      return true\n    }\n    node = node.parentNode\n  }\n}\n\nexport const findNodeFromContainerAndOffset = function(container, offset) {\n  if (!container) {\n    return\n  }\n  if (container.nodeType === Node.TEXT_NODE) {\n    return container\n  } else if (offset === 0) {\n    return container.firstChild != null ? container.firstChild : container\n  } else {\n    return container.childNodes.item(offset - 1)\n  }\n}\n\nexport const findElementFromContainerAndOffset = function(container, offset) {\n  const node = findNodeFromContainerAndOffset(container, offset)\n  return findClosestElementFromNode(node)\n}\n\nexport const findChildIndexOfNode = function(node) {\n  if (!node?.parentNode) {\n    return\n  }\n  let childIndex = 0\n  node = node.previousSibling\n  while (node) {\n    childIndex++\n    node = node.previousSibling\n  }\n  return childIndex\n}\n\nexport const removeNode = (node) => node?.parentNode?.removeChild(node)\n\nexport const walkTree = function(tree, { onlyNodesOfType, usingFilter, expandEntityReferences } = {}) {\n  const whatToShow = (() => {\n    switch (onlyNodesOfType) {\n      case \"element\":\n        return NodeFilter.SHOW_ELEMENT\n      case \"text\":\n        return NodeFilter.SHOW_TEXT\n      case \"comment\":\n        return NodeFilter.SHOW_COMMENT\n      default:\n        return NodeFilter.SHOW_ALL\n    }\n  })()\n\n  return document.createTreeWalker(\n    tree,\n    whatToShow,\n    usingFilter != null ? usingFilter : null,\n    expandEntityReferences === true\n  )\n}\n\nexport const tagName = (element) => element?.tagName?.toLowerCase()\n\nexport const makeElement = function(tag, options = {}) {\n  let key, value\n  if (typeof tag === \"object\") {\n    options = tag\n    tag = options.tagName\n  } else {\n    options = { attributes: options }\n  }\n\n  const element = document.createElement(tag)\n\n  if (options.editable != null) {\n    if (options.attributes == null) {\n      options.attributes = {}\n    }\n    options.attributes.contenteditable = options.editable\n  }\n\n  if (options.attributes) {\n    for (key in options.attributes) {\n      value = options.attributes[key]\n      element.setAttribute(key, value)\n    }\n  }\n\n  if (options.style) {\n    for (key in options.style) {\n      value = options.style[key]\n      element.style[key] = value\n    }\n  }\n\n  if (options.data) {\n    for (key in options.data) {\n      value = options.data[key]\n      element.dataset[key] = value\n    }\n  }\n\n  if (options.className) {\n    options.className.split(\" \").forEach((className) => {\n      element.classList.add(className)\n    })\n  }\n\n  if (options.textContent) {\n    element.textContent = options.textContent\n  }\n\n  if (options.childNodes) {\n    [].concat(options.childNodes).forEach((childNode) => {\n      element.appendChild(childNode)\n    })\n  }\n\n  return element\n}\n\nlet blockTagNames = undefined\n\nexport const getBlockTagNames = function() {\n  if (blockTagNames != null) {\n    return blockTagNames\n  }\n\n  blockTagNames = []\n  for (const key in blockAttributes) {\n    const attributes = blockAttributes[key]\n    if (attributes.tagName) {\n      blockTagNames.push(attributes.tagName)\n    }\n  }\n\n  return blockTagNames\n}\n\nexport const nodeIsBlockContainer = (node) => nodeIsBlockStartComment(node?.firstChild)\n\nexport const nodeProbablyIsBlockContainer = function(node) {\n  return getBlockTagNames().includes(tagName(node)) && !getBlockTagNames().includes(tagName(node.firstChild))\n}\n\nexport const nodeIsBlockStart = function(node, { strict } = { strict: true }) {\n  if (strict) {\n    return nodeIsBlockStartComment(node)\n  } else {\n    return (\n      nodeIsBlockStartComment(node) || !nodeIsBlockStartComment(node.firstChild) && nodeProbablyIsBlockContainer(node)\n    )\n  }\n}\n\nexport const nodeIsBlockStartComment = (node) => nodeIsCommentNode(node) && node?.data === \"block\"\n\nexport const nodeIsCommentNode = (node) => node?.nodeType === Node.COMMENT_NODE\n\nexport const nodeIsCursorTarget = function(node, { name } = {}) {\n  if (!node) {\n    return\n  }\n  if (nodeIsTextNode(node)) {\n    if (node.data === ZERO_WIDTH_SPACE) {\n      if (name) {\n        return node.parentNode.dataset.trixCursorTarget === name\n      } else {\n        return true\n      }\n    }\n  } else {\n    return nodeIsCursorTarget(node.firstChild)\n  }\n}\n\nexport const nodeIsAttachmentElement = (node) => elementMatchesSelector(node, attachmentSelector)\n\nexport const nodeIsEmptyTextNode = (node) => nodeIsTextNode(node) && node?.data === \"\"\n\nexport const nodeIsTextNode = (node) => node?.nodeType === Node.TEXT_NODE\n","import browser from \"trix/config/browser\"\nimport { makeElement, removeNode } from \"trix/core/helpers/dom\"\n\nconst input = {\n  level2Enabled: true,\n\n  getLevel() {\n    if (this.level2Enabled && browser.supportsInputEvents) {\n      return 2\n    } else {\n      return 0\n    }\n  },\n  pickFiles(callback) {\n    const input = makeElement(\"input\", { type: \"file\", multiple: true, hidden: true, id: this.fileInputId })\n\n    input.addEventListener(\"change\", () => {\n      callback(input.files)\n      removeNode(input)\n    })\n\n    removeNode(document.getElementById(this.fileInputId))\n    document.body.appendChild(input)\n    input.click()\n  }\n}\n\nexport default input\n","export default {\n  8: \"backspace\",\n  9: \"tab\",\n  13: \"return\",\n  27: \"escape\",\n  37: \"left\",\n  39: \"right\",\n  46: \"delete\",\n  68: \"d\",\n  72: \"h\",\n  79: \"o\",\n}\n","export default {\n  removeBlankTableCells: false,\n  tableCellSeparator: \" | \",\n  tableRowSeparator: \"\\n\",\n}\n","import { attachmentSelector } from \"trix/config/attachments\"\n\nexport default {\n  bold: {\n    tagName: \"strong\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontWeight === \"bold\" || style.fontWeight >= 600\n    },\n  },\n  italic: {\n    tagName: \"em\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontStyle === \"italic\"\n    },\n  },\n  href: {\n    groupTagName: \"a\",\n    parser(element) {\n      const matchingSelector = `a:not(${attachmentSelector})`\n      const link = element.closest(matchingSelector)\n      if (link) {\n        return link.getAttribute(\"href\")\n      }\n    },\n  },\n  strike: {\n    tagName: \"del\",\n    inheritable: true,\n  },\n  frozen: {\n    style: { backgroundColor: \"highlight\" },\n  },\n}\n","import lang from \"trix/config/lang\"\n\nexport default {\n  getDefaultHTML() {\n    return `<div class=\"trix-button-row\">\n      <span class=\"trix-button-group trix-button-group--text-tools\" data-trix-button-group=\"text-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bold\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"${lang.bold}\" tabindex=\"-1\">${lang.bold}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-italic\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"${lang.italic}\" tabindex=\"-1\">${lang.italic}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-strike\" data-trix-attribute=\"strike\" title=\"${lang.strike}\" tabindex=\"-1\">${lang.strike}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-link\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\" title=\"${lang.link}\" tabindex=\"-1\">${lang.link}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--block-tools\" data-trix-button-group=\"block-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-heading-1\" data-trix-attribute=\"heading1\" title=\"${lang.heading1}\" tabindex=\"-1\">${lang.heading1}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-quote\" data-trix-attribute=\"quote\" title=\"${lang.quote}\" tabindex=\"-1\">${lang.quote}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-code\" data-trix-attribute=\"code\" title=\"${lang.code}\" tabindex=\"-1\">${lang.code}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bullet-list\" data-trix-attribute=\"bullet\" title=\"${lang.bullets}\" tabindex=\"-1\">${lang.bullets}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-number-list\" data-trix-attribute=\"number\" title=\"${lang.numbers}\" tabindex=\"-1\">${lang.numbers}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-decrease-nesting-level\" data-trix-action=\"decreaseNestingLevel\" title=\"${lang.outdent}\" tabindex=\"-1\">${lang.outdent}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-increase-nesting-level\" data-trix-action=\"increaseNestingLevel\" title=\"${lang.indent}\" tabindex=\"-1\">${lang.indent}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--file-tools\" data-trix-button-group=\"file-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-attach\" data-trix-action=\"attachFiles\" title=\"${lang.attachFiles}\" tabindex=\"-1\">${lang.attachFiles}</button>\n      </span>\n\n      <span class=\"trix-button-group-spacer\"></span>\n\n      <span class=\"trix-button-group trix-button-group--history-tools\" data-trix-button-group=\"history-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-undo\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"${lang.undo}\" tabindex=\"-1\">${lang.undo}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-redo\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"${lang.redo}\" tabindex=\"-1\">${lang.redo}</button>\n      </span>\n    </div>\n\n    <div class=\"trix-dialogs\" data-trix-dialogs>\n      <div class=\"trix-dialog trix-dialog--link\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\n        <div class=\"trix-dialog__link-fields\">\n          <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"${lang.urlPlaceholder}\" aria-label=\"${lang.url}\" data-trix-validate-href required data-trix-input>\n          <div class=\"trix-button-group\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.link}\" data-trix-method=\"setAttribute\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.unlink}\" data-trix-method=\"removeAttribute\">\n          </div>\n        </div>\n      </div>\n    </div>`\n  },\n}\n","const undo = { interval: 5000 }\nexport default undo\n","export default class BasicObject {\n  static proxyMethod(expression) {\n    const { name, toMethod, toProperty, optional } = parseProxyMethodExpression(expression)\n\n    this.prototype[name] = function() {\n      let subject\n      let object\n\n      if (toMethod) {\n        if (optional) {\n          object = this[toMethod]?.()\n        } else {\n          object = this[toMethod]()\n        }\n      } else if (toProperty) {\n        object = this[toProperty]\n      }\n\n      if (optional) {\n        subject = object?.[name]\n        if (subject) {\n          return apply.call(subject, object, arguments)\n        }\n      } else {\n        subject = object[name]\n        return apply.call(subject, object, arguments)\n      }\n    }\n  }\n}\n\nconst parseProxyMethodExpression = function(expression) {\n  const match = expression.match(proxyMethodExpressionPattern)\n  if (!match) {\n    throw new Error(`can't parse @proxyMethod expression: ${expression}`)\n  }\n\n  const args = { name: match[4] }\n\n  if (match[2] != null) {\n    args.toMethod = match[1]\n  } else {\n    args.toProperty = match[1]\n  }\n\n  if (match[3] != null) {\n    args.optional = true\n  }\n\n  return args\n}\n\nconst { apply } = Function.prototype\n\nconst proxyMethodExpressionPattern = new RegExp(\"\\\n^\\\n(.+?)\\\n(\\\\(\\\\))?\\\n(\\\\?)?\\\n\\\\.\\\n(.+?)\\\n$\\\n\")\n","import BasicObject from \"trix/core/basic_object\"\n\nexport default class UTF16String extends BasicObject {\n  static box(value = \"\") {\n    if (value instanceof this) {\n      return value\n    } else {\n      return this.fromUCS2String(value?.toString())\n    }\n  }\n\n  static fromUCS2String(ucs2String) {\n    return new this(ucs2String, ucs2decode(ucs2String))\n  }\n\n  static fromCodepoints(codepoints) {\n    return new this(ucs2encode(codepoints), codepoints)\n  }\n\n  constructor(ucs2String, codepoints) {\n    super(...arguments)\n    this.ucs2String = ucs2String\n    this.codepoints = codepoints\n    this.length = this.codepoints.length\n    this.ucs2Length = this.ucs2String.length\n  }\n\n  offsetToUCS2Offset(offset) {\n    return ucs2encode(this.codepoints.slice(0, Math.max(0, offset))).length\n  }\n\n  offsetFromUCS2Offset(ucs2Offset) {\n    return ucs2decode(this.ucs2String.slice(0, Math.max(0, ucs2Offset))).length\n  }\n\n  slice() {\n    return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))\n  }\n\n  charAt(offset) {\n    return this.slice(offset, offset + 1)\n  }\n\n  isEqualTo(value) {\n    return this.constructor.box(value).ucs2String === this.ucs2String\n  }\n\n  toJSON() {\n    return this.ucs2String\n  }\n\n  getCacheKey() {\n    return this.ucs2String\n  }\n\n  toString() {\n    return this.ucs2String\n  }\n}\n\nconst hasArrayFrom = Array.from?.(\"\\ud83d\\udc7c\").length === 1\nconst hasStringCodePointAt = \" \".codePointAt?.(0) != null\nconst hasStringFromCodePoint = String.fromCodePoint?.(32, 128124) === \" \\ud83d\\udc7c\"\n\n// UCS-2 conversion helpers ported from Mathias Bynens' Punycode.js:\n// https://github.com/bestiejs/punycode.js#punycodeucs2\n\nlet ucs2decode, ucs2encode\n\n// Creates an array containing the numeric code points of each Unicode\n// character in the string. While JavaScript uses UCS-2 internally,\n// this function will convert a pair of surrogate halves (each of which\n// UCS-2 exposes as separate characters) into a single code point,\n// matching UTF-16.\nif (hasArrayFrom && hasStringCodePointAt) {\n  ucs2decode = (string) => Array.from(string).map((char) => char.codePointAt(0))\n} else {\n  ucs2decode = function(string) {\n    const output = []\n    let counter = 0\n    const { length } = string\n\n    while (counter < length) {\n      let value = string.charCodeAt(counter++)\n      if (0xd800 <= value && value <= 0xdbff && counter < length) {\n        // high surrogate, and there is a next character\n        const extra = string.charCodeAt(counter++)\n        if ((extra & 0xfc00) === 0xdc00) {\n          // low surrogate\n          value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000\n        } else {\n          // unmatched surrogate; only append this code unit, in case the\n          // next code unit is the high surrogate of a surrogate pair\n          counter--\n        }\n      }\n      output.push(value)\n    }\n\n    return output\n  }\n}\n\n// Creates a string based on an array of numeric code points.\nif (hasStringFromCodePoint) {\n  ucs2encode = (array) => String.fromCodePoint(...Array.from(array || []))\n} else {\n  ucs2encode = function(array) {\n    const characters = (() => {\n      const result = []\n\n      Array.from(array).forEach((value) => {\n        let output = \"\"\n        if (value > 0xffff) {\n          value -= 0x10000\n          output += String.fromCharCode(value >>> 10 & 0x3ff | 0xd800)\n          value = 0xdc00 | value & 0x3ff\n        }\n        result.push(output + String.fromCharCode(value))\n      })\n\n      return result\n    })()\n\n    return characters.join(\"\")\n  }\n}\n","import BasicObject from \"trix/core/basic_object\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nlet id = 0\n\nexport default class TrixObject extends BasicObject {\n  static fromJSONString(jsonString) {\n    return this.fromJSON(JSON.parse(jsonString))\n  }\n\n  constructor() {\n    super(...arguments)\n    this.id = ++id\n  }\n\n  hasSameConstructorAs(object) {\n    return this.constructor === object?.constructor\n  }\n\n  isEqualTo(object) {\n    return this === object\n  }\n\n  inspect() {\n    const parts = []\n    const contents = this.contentsForInspection() || {}\n\n    for (const key in contents) {\n      const value = contents[key]\n      parts.push(`${key}=${value}`)\n    }\n\n    return `#<${this.constructor.name}:${this.id}${parts.length ? ` ${parts.join(\", \")}` : \"\"}>`\n  }\n\n  contentsForInspection() {}\n\n  toJSONString() {\n    return JSON.stringify(this)\n  }\n\n  toUTF16String() {\n    return UTF16String.box(this)\n  }\n\n  getCacheKey() {\n    return this.id.toString()\n  }\n}\n","/* eslint-disable\n    id-length,\n*/\nexport const arraysAreEqual = function(a = [], b = []) {\n  if (a.length !== b.length) {\n    return false\n  }\n  for (let index = 0; index < a.length; index++) {\n    const value = a[index]\n    if (value !== b[index]) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const arrayStartsWith = (a = [], b = []) => arraysAreEqual(a.slice(0, b.length), b)\n\nexport const spliceArray = function(array, ...args) {\n  const result = array.slice(0)\n  result.splice(...args)\n  return result\n}\n\nexport const summarizeArrayChange = function(oldArray = [], newArray = []) {\n  const added = []\n  const removed = []\n\n  const existingValues = new Set()\n\n  oldArray.forEach((value) => {\n    existingValues.add(value)\n  })\n\n  const currentValues = new Set()\n\n  newArray.forEach((value) => {\n    currentValues.add(value)\n    if (!existingValues.has(value)) {\n      added.push(value)\n    }\n  })\n\n  oldArray.forEach((value) => {\n    if (!currentValues.has(value)) {\n      removed.push(value)\n    }\n  })\n\n  return { added, removed }\n}\n","import { makeElement } from \"trix/core/helpers/dom\"\n\n// https://github.com/mathiasbynens/unicode-2.1.8/blob/master/Bidi_Class/Right_To_Left/regex.js\nconst RTL_PATTERN =\n  /[\\u05BE\\u05C0\\u05C3\\u05D0-\\u05EA\\u05F0-\\u05F4\\u061B\\u061F\\u0621-\\u063A\\u0640-\\u064A\\u066D\\u0671-\\u06B7\\u06BA-\\u06BE\\u06C0-\\u06CE\\u06D0-\\u06D5\\u06E5\\u06E6\\u200F\\u202B\\u202E\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE72\\uFE74\\uFE76-\\uFEFC]/\n\nexport const getDirection = (function() {\n  const input = makeElement(\"input\", { dir: \"auto\", name: \"x\", dirName: \"x.dir\" })\n  const textArea = makeElement(\"textarea\", { dir: \"auto\", name: \"y\", dirName: \"y.dir\" })\n  const form = makeElement(\"form\")\n  form.appendChild(input)\n  form.appendChild(textArea)\n\n  const supportsDirName = (function() {\n    try {\n      return new FormData(form).has(textArea.dirName)\n    } catch (error) {\n      return false\n    }\n  })()\n\n  const supportsDirSelector = (function() {\n    try {\n      return input.matches(\":dir(ltr),:dir(rtl)\")\n    } catch (error) {\n      return false\n    }\n  })()\n\n  if (supportsDirName) {\n    return function(string) {\n      textArea.value = string\n      return new FormData(form).get(textArea.dirName)\n    }\n  } else if (supportsDirSelector) {\n    return function(string) {\n      input.value = string\n      if (input.matches(\":dir(rtl)\")) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  } else {\n    return function(string) {\n      const char = string.trim().charAt(0)\n      if (RTL_PATTERN.test(char)) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  }\n})()\n","import * as config from \"trix/config\"\n\nlet allAttributeNames = null\nlet blockAttributeNames = null\nlet textAttributeNames = null\nlet listAttributeNames = null\n\nexport const getAllAttributeNames = () => {\n  if (!allAttributeNames) {\n    allAttributeNames = getTextAttributeNames().concat(getBlockAttributeNames())\n  }\n  return allAttributeNames\n}\n\nexport const getBlockConfig = (attributeName) => config.blockAttributes[attributeName]\n\nexport const getBlockAttributeNames = () => {\n  if (!blockAttributeNames) {\n    blockAttributeNames = Object.keys(config.blockAttributes)\n  }\n  return blockAttributeNames\n}\n\nexport const getTextConfig = (attributeName) => config.textAttributes[attributeName]\n\nexport const getTextAttributeNames = () => {\n  if (!textAttributeNames) {\n    textAttributeNames = Object.keys(config.textAttributes)\n  }\n  return textAttributeNames\n}\n\nexport const getListAttributeNames = () => {\n  if (!listAttributeNames) {\n    listAttributeNames = []\n    for (const key in config.blockAttributes) {\n      const { listAttribute } = config.blockAttributes[key]\n      if (listAttribute != null) {\n        listAttributeNames.push(listAttribute)\n      }\n    }\n  }\n  return listAttributeNames\n}\n","/* eslint-disable\n*/\nexport const installDefaultCSSForTagName = function(tagName, defaultCSS) {\n  const styleElement = insertStyleElementForTagName(tagName)\n  styleElement.textContent = defaultCSS.replace(/%t/g, tagName)\n}\n\nconst insertStyleElementForTagName = function(tagName) {\n  const element = document.createElement(\"style\")\n  element.setAttribute(\"type\", \"text/css\")\n  element.setAttribute(\"data-tag-name\", tagName.toLowerCase())\n  const nonce = getCSPNonce()\n  if (nonce) {\n    element.setAttribute(\"nonce\", nonce)\n  }\n  document.head.insertBefore(element, document.head.firstChild)\n  return element\n}\n\nconst getCSPNonce = function() {\n  const element = getMetaElement(\"trix-csp-nonce\") || getMetaElement(\"csp-nonce\")\n  if (element) {\n    const { nonce, content } = element\n    return nonce == \"\" ? content : nonce\n  }\n}\n\nconst getMetaElement = (name) => document.head.querySelector(`meta[name=${name}]`)\n","const testTransferData = { \"application/x-trix-feature-detection\": \"test\" }\n\nexport const dataTransferIsPlainText = function(dataTransfer) {\n  const text = dataTransfer.getData(\"text/plain\")\n  const html = dataTransfer.getData(\"text/html\")\n\n  if (text && html) {\n    const { body } = new DOMParser().parseFromString(html, \"text/html\")\n    if (body.textContent === text) {\n      return !body.querySelector(\"*\")\n    }\n  } else {\n    return text?.length\n  }\n}\n\nexport const dataTransferIsMsOfficePaste = ({ dataTransfer }) => {\n  return dataTransfer.types.includes(\"Files\") &&\n    dataTransfer.types.includes(\"text/html\") &&\n    dataTransfer.getData(\"text/html\").includes(\"urn:schemas-microsoft-com:office:office\")\n}\n\nexport const dataTransferIsWritable = function(dataTransfer) {\n  if (!dataTransfer?.setData) return false\n\n  for (const key in testTransferData) {\n    const value = testTransferData[key]\n\n    try {\n      dataTransfer.setData(key, value)\n      if (!dataTransfer.getData(key) === value) return false\n    } catch (error) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const keyEventIsKeyboardCommand = (function() {\n  if (/Mac|^iP/.test(navigator.platform)) {\n    return (event) => event.metaKey\n  } else {\n    return (event) => event.ctrlKey\n  }\n})()\n\nexport function shouldRenderInmmediatelyToDealWithIOSDictation(inputEvent) {\n  if (/iPhone|iPad/.test(navigator.userAgent)) {\n    // Handle garbled content and duplicated newlines when using dictation on iOS 18+. Upon dictation completion, iOS sends\n    // the list of insertText / insertParagraph events in a quick sequence. If we don't render\n    // the editor synchronously, the internal range fails to update and results in garbled content or duplicated newlines.\n    //\n    // This workaround is necessary because iOS doesn't send composing events as expected while dictating:\n    // https://bugs.webkit.org/show_bug.cgi?id=261764\n    return !inputEvent.inputType || inputEvent.inputType === \"insertParagraph\"\n  } else {\n    return false\n  }\n}\n","export const defer = (fn) => setTimeout(fn, 1)\n","/* eslint-disable\n    id-length,\n*/\nexport const copyObject = function(object = {}) {\n  const result = {}\n  for (const key in object) {\n    const value = object[key]\n    result[key] = value\n  }\n  return result\n}\n\nexport const objectsAreEqual = function(a = {}, b = {}) {\n  if (Object.keys(a).length !== Object.keys(b).length) {\n    return false\n  }\n  for (const key in a) {\n    const value = a[key]\n    if (value !== b[key]) {\n      return false\n    }\n  }\n  return true\n}\n","import { copyObject, objectsAreEqual } from \"trix/core/helpers/objects\"\n\nexport const normalizeRange = function(range) {\n  if (range == null) return\n\n  if (!Array.isArray(range)) {\n    range = [ range, range ]\n  }\n  return [ copyValue(range[0]), copyValue(range[1] != null ? range[1] : range[0]) ]\n}\n\nexport const rangeIsCollapsed = function(range) {\n  if (range == null) return\n\n  const [ start, end ] = normalizeRange(range)\n  return rangeValuesAreEqual(start, end)\n}\n\nexport const rangesAreEqual = function(leftRange, rightRange) {\n  if (leftRange == null || rightRange == null) return\n\n  const [ leftStart, leftEnd ] = normalizeRange(leftRange)\n  const [ rightStart, rightEnd ] = normalizeRange(rightRange)\n  return rangeValuesAreEqual(leftStart, rightStart) && rangeValuesAreEqual(leftEnd, rightEnd)\n}\n\nconst copyValue = function(value) {\n  if (typeof value === \"number\") {\n    return value\n  } else {\n    return copyObject(value)\n  }\n}\n\nconst rangeValuesAreEqual = function(left, right) {\n  if (typeof left === \"number\") {\n    return left === right\n  } else {\n    return objectsAreEqual(left, right)\n  }\n}\n","import BasicObject from \"trix/core/basic_object\"\n\nexport default class SelectionChangeObserver extends BasicObject {\n  constructor() {\n    super(...arguments)\n    this.update = this.update.bind(this)\n    this.selectionManagers = []\n  }\n\n  start() {\n    if (!this.started) {\n      this.started = true\n      document.addEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false\n      return document.removeEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  registerSelectionManager(selectionManager) {\n    if (!this.selectionManagers.includes(selectionManager)) {\n      this.selectionManagers.push(selectionManager)\n      return this.start()\n    }\n  }\n\n  unregisterSelectionManager(selectionManager) {\n    this.selectionManagers = this.selectionManagers.filter((sm) => sm !== selectionManager)\n    if (this.selectionManagers.length === 0) {\n      return this.stop()\n    }\n  }\n\n  notifySelectionManagersOfSelectionChange() {\n    return this.selectionManagers.map((selectionManager) => selectionManager.selectionDidChange())\n  }\n\n  update() {\n    this.notifySelectionManagersOfSelectionChange()\n  }\n\n  reset() {\n    this.update()\n  }\n}\n\nexport const selectionChangeObserver = new SelectionChangeObserver()\n\nexport const getDOMSelection = function() {\n  const selection = window.getSelection()\n  if (selection.rangeCount > 0) {\n    return selection\n  }\n}\n\nexport const getDOMRange = function() {\n  const domRange = getDOMSelection()?.getRangeAt(0)\n  if (domRange) {\n    if (!domRangeIsPrivate(domRange)) {\n      return domRange\n    }\n  }\n}\n\nexport const setDOMRange = function(domRange) {\n  const selection = window.getSelection()\n  selection.removeAllRanges()\n  selection.addRange(domRange)\n  return selectionChangeObserver.update()\n}\n\n// In Firefox, clicking certain <input> elements changes the selection to a\n// private element used to draw its UI. Attempting to access properties of those\n// elements throws an error.\n// https://bugzilla.mozilla.org/show_bug.cgi?id=208427\nconst domRangeIsPrivate = (domRange) => nodeIsPrivate(domRange.startContainer) || nodeIsPrivate(domRange.endContainer)\n\nconst nodeIsPrivate = (node) => !Object.getPrototypeOf(node)\n","/* eslint-disable\n    id-length,\n    no-useless-escape,\n*/\nimport { NON_BREAKING_SPACE, ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nexport const normalizeSpaces = (string) =>\n  string.replace(new RegExp(`${ZERO_WIDTH_SPACE}`, \"g\"), \"\").replace(new RegExp(`${NON_BREAKING_SPACE}`, \"g\"), \" \")\n\nexport const normalizeNewlines = (string) => string.replace(/\\r\\n?/g, \"\\n\")\n\nexport const breakableWhitespacePattern = new RegExp(`[^\\\\S${NON_BREAKING_SPACE}]`)\n\nexport const squishBreakableWhitespace = (string) =>\n  string\n    // Replace all breakable whitespace characters with a space\n    .replace(new RegExp(`${breakableWhitespacePattern.source}`, \"g\"), \" \")\n    // Replace two or more spaces with a single space\n    .replace(/\\ {2,}/g, \" \")\n\nexport const summarizeStringChange = function(oldString, newString) {\n  let added, removed\n  oldString = UTF16String.box(oldString)\n  newString = UTF16String.box(newString)\n\n  if (newString.length < oldString.length) {\n    [ removed, added ] = utf16StringDifferences(oldString, newString)\n  } else {\n    [ added, removed ] = utf16StringDifferences(newString, oldString)\n  }\n\n  return { added, removed }\n}\n\nconst utf16StringDifferences = function(a, b) {\n  if (a.isEqualTo(b)) {\n    return [ \"\", \"\" ]\n  }\n\n  const diffA = utf16StringDifference(a, b)\n  const { length } = diffA.utf16String\n\n  let diffB\n\n  if (length) {\n    const { offset } = diffA\n    const codepoints = a.codepoints.slice(0, offset).concat(a.codepoints.slice(offset + length))\n    diffB = utf16StringDifference(b, UTF16String.fromCodepoints(codepoints))\n  } else {\n    diffB = utf16StringDifference(b, a)\n  }\n\n  return [ diffA.utf16String.toString(), diffB.utf16String.toString() ]\n}\n\nconst utf16StringDifference = function(a, b) {\n  let leftIndex = 0\n  let rightIndexA = a.length\n  let rightIndexB = b.length\n\n  while (leftIndex < rightIndexA && a.charAt(leftIndex).isEqualTo(b.charAt(leftIndex))) {\n    leftIndex++\n  }\n\n  while (rightIndexA > leftIndex + 1 && a.charAt(rightIndexA - 1).isEqualTo(b.charAt(rightIndexB - 1))) {\n    rightIndexA--\n    rightIndexB--\n  }\n\n  return {\n    utf16String: a.slice(leftIndex, rightIndexA),\n    offset: leftIndex,\n  }\n}\n","import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport { arraysAreEqual } from \"trix/core/helpers\"\n\nexport default class Hash extends TrixObject {\n  static fromCommonAttributesOfObjects(objects = []) {\n    if (!objects.length) {\n      return new this()\n    }\n    let hash = box(objects[0])\n    let keys = hash.getKeys()\n\n    objects.slice(1).forEach((object) => {\n      keys = hash.getKeysCommonToHash(box(object))\n      hash = hash.slice(keys)\n    })\n\n    return hash\n  }\n\n  static box(values) {\n    return box(values)\n  }\n\n  constructor(values = {}) {\n    super(...arguments)\n    this.values = copy(values)\n  }\n\n  add(key, value) {\n    return this.merge(object(key, value))\n  }\n\n  remove(key) {\n    return new Hash(copy(this.values, key))\n  }\n\n  get(key) {\n    return this.values[key]\n  }\n\n  has(key) {\n    return key in this.values\n  }\n\n  merge(values) {\n    return new Hash(merge(this.values, unbox(values)))\n  }\n\n  slice(keys) {\n    const values = {}\n\n    Array.from(keys).forEach((key) => {\n      if (this.has(key)) {\n        values[key] = this.values[key]\n      }\n    })\n\n    return new Hash(values)\n  }\n\n  getKeys() {\n    return Object.keys(this.values)\n  }\n\n  getKeysCommonToHash(hash) {\n    hash = box(hash)\n    return this.getKeys().filter((key) => this.values[key] === hash.values[key])\n  }\n\n  isEqualTo(values) {\n    return arraysAreEqual(this.toArray(), box(values).toArray())\n  }\n\n  isEmpty() {\n    return this.getKeys().length === 0\n  }\n\n  toArray() {\n    if (!this.array) {\n      const result = []\n      for (const key in this.values) {\n        const value = this.values[key]\n        result.push(result.push(key, value))\n      }\n      this.array = result.slice(0)\n    }\n\n    return this.array\n  }\n\n  toObject() {\n    return copy(this.values)\n  }\n\n  toJSON() {\n    return this.toObject()\n  }\n\n  contentsForInspection() {\n    return { values: JSON.stringify(this.values) }\n  }\n}\n\nconst object = function(key, value) {\n  const result = {}\n  result[key] = value\n  return result\n}\n\nconst merge = function(object, values) {\n  const result = copy(object)\n  for (const key in values) {\n    const value = values[key]\n    result[key] = value\n  }\n  return result\n}\n\nconst copy = function(object, keyToRemove) {\n  const result = {}\n  const sortedKeys = Object.keys(object).sort()\n\n  sortedKeys.forEach((key) => {\n    if (key !== keyToRemove) {\n      result[key] = object[key]\n    }\n  })\n\n  return result\n}\n\nconst box = function(object) {\n  if (object instanceof Hash) {\n    return object\n  } else {\n    return new Hash(object)\n  }\n}\n\nconst unbox = function(object) {\n  if (object instanceof Hash) {\n    return object.values\n  } else {\n    return object\n  }\n}\n","export default class ObjectGroup {\n  static groupObjects(ungroupedObjects = [], { depth, asTree } = {}) {\n    let group\n    if (asTree) {\n      if (depth == null) {\n        depth = 0\n      }\n    }\n    const objects = []\n\n    Array.from(ungroupedObjects).forEach((object) => {\n      if (group) {\n        if (object.canBeGrouped?.(depth) && group[group.length - 1].canBeGroupedWith?.(object, depth)) {\n          group.push(object)\n          return\n        } else {\n          objects.push(new this(group, { depth, asTree }))\n          group = null\n        }\n      }\n\n      if (object.canBeGrouped?.(depth)) {\n        group = [ object ]\n      } else {\n        objects.push(object)\n      }\n    })\n\n    if (group) {\n      objects.push(new this(group, { depth, asTree }))\n    }\n    return objects\n  }\n\n  constructor(objects = [], { depth, asTree }) {\n    this.objects = objects\n    if (asTree) {\n      this.depth = depth\n      this.objects = this.constructor.groupObjects(this.objects, { asTree, depth: this.depth + 1 })\n    }\n  }\n\n  getObjects() {\n    return this.objects\n  }\n\n  getDepth() {\n    return this.depth\n  }\n\n  getCacheKey() {\n    const keys = [ \"objectGroup\" ]\n    Array.from(this.getObjects()).forEach((object) => {\n      keys.push(object.getCacheKey())\n    })\n    return keys.join(\"/\")\n  }\n}\n","import BasicObject from \"trix/core/basic_object\"\n\nexport default class ObjectMap extends BasicObject {\n  constructor(objects = []) {\n    super(...arguments)\n    this.objects = {}\n\n    Array.from(objects).forEach((object) => {\n      const hash = JSON.stringify(object)\n      if (this.objects[hash] == null) {\n        this.objects[hash] = object\n      }\n    })\n  }\n\n  find(object) {\n    const hash = JSON.stringify(object)\n    return this.objects[hash]\n  }\n}\n","export default class ElementStore {\n  constructor(elements) {\n    this.reset(elements)\n  }\n\n  add(element) {\n    const key = getKey(element)\n    this.elements[key] = element\n  }\n\n  remove(element) {\n    const key = getKey(element)\n    const value = this.elements[key]\n    if (value) {\n      delete this.elements[key]\n      return value\n    }\n  }\n\n  reset(elements = []) {\n    this.elements = {}\n    Array.from(elements).forEach((element) => {\n      this.add(element)\n    })\n    return elements\n  }\n}\n\nconst getKey = (element) => element.dataset.trixStoreKey\n","import BasicObject from \"trix/core/basic_object\"\n\nexport default class Operation extends BasicObject {\n  isPerforming() {\n    return this.performing === true\n  }\n\n  hasPerformed() {\n    return this.performed === true\n  }\n\n  hasSucceeded() {\n    return this.performed && this.succeeded\n  }\n\n  hasFailed() {\n    return this.performed && !this.succeeded\n  }\n\n  getPromise() {\n    if (!this.promise) {\n      this.promise = new Promise((resolve, reject) => {\n        this.performing = true\n        return this.perform((succeeded, result) => {\n          this.succeeded = succeeded\n          this.performing = false\n          this.performed = true\n\n          if (this.succeeded) {\n            resolve(result)\n          } else {\n            reject(result)\n          }\n        })\n      })\n    }\n\n    return this.promise\n  }\n\n  perform(callback) {\n    return callback(false)\n  }\n\n  release() {\n    this.promise?.cancel?.()\n    this.promise = null\n    this.performing = null\n    this.performed = null\n    this.succeeded = null\n  }\n}\n\nOperation.proxyMethod(\"getPromise().then\")\nOperation.proxyMethod(\"getPromise().catch\")\n","import BasicObject from \"trix/core/basic_object\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\n\nexport default class ObjectView extends BasicObject {\n  constructor(object, options = {}) {\n    super(...arguments)\n    this.object = object\n    this.options = options\n    this.childViews = []\n    this.rootView = this\n  }\n\n  getNodes() {\n    if (!this.nodes) { this.nodes = this.createNodes() }\n    return this.nodes.map((node) => node.cloneNode(true))\n  }\n\n  invalidate() {\n    this.nodes = null\n    this.childViews = []\n    return this.parentView?.invalidate()\n  }\n\n  invalidateViewForObject(object) {\n    return this.findViewForObject(object)?.invalidate()\n  }\n\n  findOrCreateCachedChildView(viewClass, object, options) {\n    let view = this.getCachedViewForObject(object)\n    if (view) {\n      this.recordChildView(view)\n    } else {\n      view = this.createChildView(...arguments)\n      this.cacheViewForObject(view, object)\n    }\n    return view\n  }\n\n  createChildView(viewClass, object, options = {}) {\n    if (object instanceof ObjectGroup) {\n      options.viewClass = viewClass\n      viewClass = ObjectGroupView\n    }\n\n    const view = new viewClass(object, options)\n    return this.recordChildView(view)\n  }\n\n  recordChildView(view) {\n    view.parentView = this\n    view.rootView = this.rootView\n    this.childViews.push(view)\n    return view\n  }\n\n  getAllChildViews() {\n    let views = []\n\n    this.childViews.forEach((childView) => {\n      views.push(childView)\n      views = views.concat(childView.getAllChildViews())\n    })\n\n    return views\n  }\n\n  findElement() {\n    return this.findElementForObject(this.object)\n  }\n\n  findElementForObject(object) {\n    const id = object?.id\n    if (id) {\n      return this.rootView.element.querySelector(`[data-trix-id='${id}']`)\n    }\n  }\n\n  findViewForObject(object) {\n    for (const view of this.getAllChildViews()) {\n      if (view.object === object) {\n        return view\n      }\n    }\n  }\n\n  getViewCache() {\n    if (this.rootView === this) {\n      if (this.isViewCachingEnabled()) {\n        if (!this.viewCache) { this.viewCache = {} }\n        return this.viewCache\n      }\n    } else {\n      return this.rootView.getViewCache()\n    }\n  }\n\n  isViewCachingEnabled() {\n    return this.shouldCacheViews !== false\n  }\n\n  enableViewCaching() {\n    this.shouldCacheViews = true\n  }\n\n  disableViewCaching() {\n    this.shouldCacheViews = false\n  }\n\n  getCachedViewForObject(object) {\n    return this.getViewCache()?.[object.getCacheKey()]\n  }\n\n  cacheViewForObject(view, object) {\n    const cache = this.getViewCache()\n    if (cache) {\n      cache[object.getCacheKey()] = view\n    }\n  }\n\n  garbageCollectCachedViews() {\n    const cache = this.getViewCache()\n    if (cache) {\n      const views = this.getAllChildViews().concat(this)\n      const objectKeys = views.map((view) => view.object.getCacheKey())\n      for (const key in cache) {\n        if (!objectKeys.includes(key)) {\n          delete cache[key]\n        }\n      }\n    }\n  }\n}\n\nexport class ObjectGroupView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.objectGroup = this.object\n    this.viewClass = this.options.viewClass\n    delete this.options.viewClass\n  }\n\n  getChildViews() {\n    if (!this.childViews.length) {\n      Array.from(this.objectGroup.getObjects()).forEach((object) => {\n        this.findOrCreateCachedChildView(this.viewClass, object, this.options)\n      })\n    }\n    return this.childViews\n  }\n\n  createNodes() {\n    const element = this.createContainerElement()\n\n    this.getChildViews().forEach((view) => {\n      Array.from(view.getNodes()).forEach((node) => {\n        element.appendChild(node)\n      })\n    })\n\n    return [ element ]\n  }\n\n  createContainerElement(depth = this.objectGroup.getDepth()) {\n    return this.getChildViews()[0].createContainerElement(depth)\n  }\n}\n","/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(func, thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n    return func.apply(thisArg, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(Func) {\n  return function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return construct(Func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'search', 'section', 'select', 'shadow', 'slot', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'enterkeyhint', 'exportparts', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'inputmode', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'part', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'slot', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'exportparts', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inert', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'part', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'slot', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.2.7';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (§7.3.3)\n   *   - DOM Tree Accessors (§3.1.5)\n   *   - Form Element Parent-Child Relations (§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n   *   - HTMLCollection (§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (SAFE_FOR_XML && currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w!]/g, currentNode.innerHTML) && regExpTest(/<[/\\w!]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName, lcTag)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title|textarea)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Make sure we cannot easily use animated hrefs, even if animations are allowed */\n      if (lcName === 'attributename' && stringMatch(value, 'href')) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n","import BasicObject from \"trix/core/basic_object\"\n\nimport { nodeIsAttachmentElement, removeNode, tagName, walkTree } from \"trix/core/helpers\"\nimport DOMPurify from \"dompurify\"\nimport * as config from \"trix/config\"\n\nDOMPurify.addHook(\"uponSanitizeAttribute\", function (node, data) {\n  const allowedAttributePattern = /^data-trix-/\n  if (allowedAttributePattern.test(data.attrName)) {\n    data.forceKeepAttr = true\n  }\n})\n\nconst DEFAULT_ALLOWED_ATTRIBUTES = \"style href src width height language class\".split(\" \")\nconst DEFAULT_FORBIDDEN_PROTOCOLS = \"javascript:\".split(\" \")\nconst DEFAULT_FORBIDDEN_ELEMENTS = \"script iframe form noscript\".split(\" \")\n\nexport default class HTMLSanitizer extends BasicObject {\n  static setHTML(element, html, options) {\n    const sanitizedElement = new this(html, options).sanitize()\n    const sanitizedHtml = sanitizedElement.getHTML ? sanitizedElement.getHTML() : sanitizedElement.outerHTML\n    element.innerHTML = sanitizedHtml\n  }\n\n  static sanitize(html, options) {\n    const sanitizer = new this(html, options)\n    sanitizer.sanitize()\n    return sanitizer\n  }\n\n  constructor(html, { allowedAttributes, forbiddenProtocols, forbiddenElements, purifyOptions } = {}) {\n    super(...arguments)\n    this.allowedAttributes = allowedAttributes || DEFAULT_ALLOWED_ATTRIBUTES\n    this.forbiddenProtocols = forbiddenProtocols || DEFAULT_FORBIDDEN_PROTOCOLS\n    this.forbiddenElements = forbiddenElements || DEFAULT_FORBIDDEN_ELEMENTS\n    this.purifyOptions = purifyOptions || {}\n    this.body = createBodyElementForHTML(html)\n  }\n\n  sanitize() {\n    this.sanitizeElements()\n    this.normalizeListElementNesting()\n    const purifyConfig = Object.assign({}, config.dompurify, this.purifyOptions)\n    DOMPurify.setConfig(purifyConfig)\n    this.body = DOMPurify.sanitize(this.body)\n\n    return this.body\n  }\n\n  getHTML() {\n    return this.body.innerHTML\n  }\n\n  getBody() {\n    return this.body\n  }\n\n  // Private\n\n  sanitizeElements() {\n    const walker = walkTree(this.body)\n    const nodesToRemove = []\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n      switch (node.nodeType) {\n        case Node.ELEMENT_NODE:\n          if (this.elementIsRemovable(node)) {\n            nodesToRemove.push(node)\n          } else {\n            this.sanitizeElement(node)\n          }\n          break\n        case Node.COMMENT_NODE:\n          nodesToRemove.push(node)\n          break\n      }\n    }\n\n    nodesToRemove.forEach((node) => removeNode(node))\n\n    return this.body\n  }\n\n  sanitizeElement(element) {\n    if (element.hasAttribute(\"href\")) {\n      if (this.forbiddenProtocols.includes(element.protocol)) {\n        element.removeAttribute(\"href\")\n      }\n    }\n\n    Array.from(element.attributes).forEach(({ name }) => {\n      if (!this.allowedAttributes.includes(name) && name.indexOf(\"data-trix\") !== 0) {\n        element.removeAttribute(name)\n      }\n    })\n\n    return element\n  }\n\n  normalizeListElementNesting() {\n    Array.from(this.body.querySelectorAll(\"ul,ol\")).forEach((listElement) => {\n      const previousElement = listElement.previousElementSibling\n      if (previousElement) {\n        if (tagName(previousElement) === \"li\") {\n          previousElement.appendChild(listElement)\n        }\n      }\n    })\n\n    return this.body\n  }\n\n  elementIsRemovable(element) {\n    if (element?.nodeType !== Node.ELEMENT_NODE) return\n    return this.elementIsForbidden(element) || this.elementIsntSerializable(element)\n  }\n\n  elementIsForbidden(element) {\n    return this.forbiddenElements.includes(tagName(element))\n  }\n\n  elementIsntSerializable(element) {\n    return element.getAttribute(\"data-trix-serialize\") === \"false\" && !nodeIsAttachmentElement(element)\n  }\n}\n\nconst createBodyElementForHTML = function(html = \"\") {\n  // Remove everything after </html>\n  html = html.replace(/<\\/html[^>]*>[^]*$/i, \"</html>\")\n  const doc = document.implementation.createHTMLDocument(\"\")\n  doc.documentElement.innerHTML = html\n\n  Array.from(doc.head.querySelectorAll(\"style\")).forEach((element) => {\n    doc.body.appendChild(element)\n  })\n\n  return doc.body\n}\n","import * as config from \"trix/config\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { copyObject, makeElement } from \"trix/core/helpers\"\nimport ObjectView from \"trix/views/object_view\"\nimport HTMLSanitizer from \"trix/models/html_sanitizer\"\nimport DOMPurify from \"dompurify\"\n\nconst { css } = config\n\nexport default class AttachmentView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.attachment = this.object\n    this.attachment.uploadProgressDelegate = this\n    this.attachmentPiece = this.options.piece\n  }\n\n  createContentNodes() {\n    return []\n  }\n\n  createNodes() {\n    let innerElement\n    const figure = innerElement = makeElement({\n      tagName: \"figure\",\n      className: this.getClassName(),\n      data: this.getData(),\n      editable: false,\n    })\n\n    const href = this.getHref()\n    if (href) {\n      innerElement = makeElement({ tagName: \"a\", editable: false, attributes: { href, tabindex: -1 } })\n      figure.appendChild(innerElement)\n    }\n\n    if (this.attachment.hasContent()) {\n      HTMLSanitizer.setHTML(innerElement, this.attachment.getContent())\n    } else {\n      this.createContentNodes().forEach((node) => {\n        innerElement.appendChild(node)\n      })\n    }\n\n    innerElement.appendChild(this.createCaptionElement())\n\n    if (this.attachment.isPending()) {\n      this.progressElement = makeElement({\n        tagName: \"progress\",\n        attributes: {\n          class: css.attachmentProgress,\n          value: this.attachment.getUploadProgress(),\n          max: 100,\n        },\n        data: {\n          trixMutable: true,\n          trixStoreKey: [ \"progressElement\", this.attachment.id ].join(\"/\"),\n        },\n      })\n\n      figure.appendChild(this.progressElement)\n    }\n\n    return [ createCursorTarget(\"left\"), figure, createCursorTarget(\"right\") ]\n  }\n\n  createCaptionElement() {\n    const figcaption = makeElement({ tagName: \"figcaption\", className: css.attachmentCaption })\n    const caption = this.attachmentPiece.getCaption()\n    if (caption) {\n      figcaption.classList.add(`${css.attachmentCaption}--edited`)\n      figcaption.textContent = caption\n    } else {\n      let name, size\n      const captionConfig = this.getCaptionConfig()\n      if (captionConfig.name) {\n        name = this.attachment.getFilename()\n      }\n      if (captionConfig.size) {\n        size = this.attachment.getFormattedFilesize()\n      }\n\n      if (name) {\n        const nameElement = makeElement({ tagName: \"span\", className: css.attachmentName, textContent: name })\n        figcaption.appendChild(nameElement)\n      }\n\n      if (size) {\n        if (name) {\n          figcaption.appendChild(document.createTextNode(\" \"))\n        }\n        const sizeElement = makeElement({ tagName: \"span\", className: css.attachmentSize, textContent: size })\n        figcaption.appendChild(sizeElement)\n      }\n    }\n\n    return figcaption\n  }\n\n  getClassName() {\n    const names = [ css.attachment, `${css.attachment}--${this.attachment.getType()}` ]\n    const extension = this.attachment.getExtension()\n    if (extension) {\n      names.push(`${css.attachment}--${extension}`)\n    }\n    return names.join(\" \")\n  }\n\n  getData() {\n    const data = {\n      trixAttachment: JSON.stringify(this.attachment),\n      trixContentType: this.attachment.getContentType(),\n      trixId: this.attachment.id,\n    }\n\n    const { attributes } = this.attachmentPiece\n    if (!attributes.isEmpty()) {\n      data.trixAttributes = JSON.stringify(attributes)\n    }\n\n    if (this.attachment.isPending()) {\n      data.trixSerialize = false\n    }\n\n    return data\n  }\n\n  getHref() {\n    if (!htmlContainsTagName(this.attachment.getContent(), \"a\")) {\n      const href = this.attachment.getHref()\n      if (href && DOMPurify.isValidAttribute(\"a\", \"href\", href)) {\n        return href\n      }\n    }\n  }\n\n  getCaptionConfig() {\n    const type = this.attachment.getType()\n    const captionConfig = copyObject(config.attachments[type]?.caption)\n    if (type === \"file\") {\n      captionConfig.name = true\n    }\n    return captionConfig\n  }\n\n  findProgressElement() {\n    return this.findElement()?.querySelector(\"progress\")\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeUploadProgress() {\n    const value = this.attachment.getUploadProgress()\n    const progressElement = this.findProgressElement()\n    if (progressElement) {\n      progressElement.value = value\n    }\n  }\n}\n\nconst createCursorTarget = (name) =>\n  makeElement({\n    tagName: \"span\",\n    textContent: ZERO_WIDTH_SPACE,\n    data: {\n      trixCursorTarget: name,\n      trixSerialize: false,\n    },\n  })\n\nconst htmlContainsTagName = function(html, tagName) {\n  const div = makeElement(\"div\")\n  HTMLSanitizer.setHTML(div, html || \"\")\n  return div.querySelector(tagName)\n}\n","import * as config from \"trix/config\"\nimport { makeElement } from \"trix/core/helpers\"\n\nimport AttachmentView from \"trix/views/attachment_view\"\n\nexport default class PreviewableAttachmentView extends AttachmentView {\n  constructor() {\n    super(...arguments)\n    this.attachment.previewDelegate = this\n  }\n\n  createContentNodes() {\n    this.image = makeElement({\n      tagName: \"img\",\n      attributes: {\n        src: \"\",\n      },\n      data: {\n        trixMutable: true,\n      },\n    })\n\n    this.refresh(this.image)\n    return [ this.image ]\n  }\n\n  createCaptionElement() {\n    const figcaption = super.createCaptionElement(...arguments)\n    if (!figcaption.textContent) {\n      figcaption.setAttribute(\"data-trix-placeholder\", config.lang.captionPlaceholder)\n    }\n    return figcaption\n  }\n\n  refresh(image) {\n    if (!image) { image = this.findElement()?.querySelector(\"img\") }\n    if (image) {\n      return this.updateAttributesForImage(image)\n    }\n  }\n\n  updateAttributesForImage(image) {\n    const url = this.attachment.getURL()\n    const previewURL = this.attachment.getPreviewURL()\n    image.src = previewURL || url\n\n    if (previewURL === url) {\n      image.removeAttribute(\"data-trix-serialized-attributes\")\n    } else {\n      const serializedAttributes = JSON.stringify({ src: url })\n      image.setAttribute(\"data-trix-serialized-attributes\", serializedAttributes)\n    }\n\n    const width = this.attachment.getWidth()\n    const height = this.attachment.getHeight()\n    const alt = this.attachment.getAttribute(\"alt\")\n\n    if (width != null) {\n      image.width = width\n    }\n    if (height != null) {\n      image.height = height\n    }\n    if (alt != null) {\n      image.alt = alt\n    }\n\n    const storeKey = [ \"imageElement\", this.attachment.id, image.src, image.width, image.height ].join(\"/\")\n    image.dataset.trixStoreKey = storeKey\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeAttributes() {\n    this.refresh(this.image)\n    return this.refresh()\n  }\n}\n","/* eslint-disable\n    no-useless-escape,\n    no-var,\n*/\nimport { NON_BREAKING_SPACE } from \"trix/constants\"\n\nimport ObjectView from \"trix/views/object_view\"\nimport AttachmentView from \"trix/views/attachment_view\"\nimport PreviewableAttachmentView from \"trix/views/previewable_attachment_view\"\n\nimport { findInnerElement, getTextConfig, makeElement } from \"trix/core/helpers\"\n\nexport default class PieceView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.piece = this.object\n    this.attributes = this.piece.getAttributes()\n    this.textConfig = this.options.textConfig\n    this.context = this.options.context\n\n    if (this.piece.attachment) {\n      this.attachment = this.piece.attachment\n    } else {\n      this.string = this.piece.toString()\n    }\n  }\n\n  createNodes() {\n    let nodes = this.attachment ? this.createAttachmentNodes() : this.createStringNodes()\n    const element = this.createElement()\n    if (element) {\n      const innerElement = findInnerElement(element)\n      Array.from(nodes).forEach((node) => {\n        innerElement.appendChild(node)\n      })\n      nodes = [ element ]\n    }\n    return nodes\n  }\n\n  createAttachmentNodes() {\n    const constructor = this.attachment.isPreviewable() ? PreviewableAttachmentView : AttachmentView\n\n    const view = this.createChildView(constructor, this.piece.attachment, { piece: this.piece })\n    return view.getNodes()\n  }\n\n  createStringNodes() {\n    if (this.textConfig?.plaintext) {\n      return [ document.createTextNode(this.string) ]\n    } else {\n      const nodes = []\n      const iterable = this.string.split(\"\\n\")\n      for (let index = 0; index < iterable.length; index++) {\n        const substring = iterable[index]\n        if (index > 0) {\n          const element = makeElement(\"br\")\n          nodes.push(element)\n        }\n\n        if (substring.length) {\n          const node = document.createTextNode(this.preserveSpaces(substring))\n          nodes.push(node)\n        }\n      }\n      return nodes\n    }\n  }\n\n  createElement() {\n    let element, key, value\n    const styles = {}\n\n    for (key in this.attributes) {\n      value = this.attributes[key]\n      const config = getTextConfig(key)\n      if (config) {\n        if (config.tagName) {\n          var innerElement\n          const pendingElement = makeElement(config.tagName)\n\n          if (innerElement) {\n            innerElement.appendChild(pendingElement)\n            innerElement = pendingElement\n          } else {\n            element = innerElement = pendingElement\n          }\n        }\n\n        if (config.styleProperty) {\n          styles[config.styleProperty] = value\n        }\n\n        if (config.style) {\n          for (key in config.style) {\n            value = config.style[key]\n            styles[key] = value\n          }\n        }\n      }\n    }\n\n    if (Object.keys(styles).length) {\n      if (!element) { element = makeElement(\"span\") }\n      for (key in styles) {\n        value = styles[key]\n        element.style[key] = value\n      }\n    }\n    return element\n  }\n\n  createContainerElement() {\n    for (const key in this.attributes) {\n      const value = this.attributes[key]\n      const config = getTextConfig(key)\n      if (config) {\n        if (config.groupTagName) {\n          const attributes = {}\n          attributes[key] = value\n          return makeElement(config.groupTagName, attributes)\n        }\n      }\n    }\n  }\n\n  preserveSpaces(string) {\n    if (this.context.isLast) {\n      string = string.replace(/\\ $/, NON_BREAKING_SPACE)\n    }\n\n    string = string\n      .replace(/(\\S)\\ {3}(\\S)/g, `$1 ${NON_BREAKING_SPACE} $2`)\n      .replace(/\\ {2}/g, `${NON_BREAKING_SPACE} `)\n      .replace(/\\ {2}/g, ` ${NON_BREAKING_SPACE}`)\n\n    if (this.context.isFirst || this.context.followsWhitespace) {\n      string = string.replace(/^\\ /, NON_BREAKING_SPACE)\n    }\n\n    return string\n  }\n}\n","/* eslint-disable\n    no-var,\n*/\nimport ObjectView from \"trix/views/object_view\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\nimport PieceView from \"trix/views/piece_view\"\n\nexport default class TextView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.text = this.object\n    this.textConfig = this.options.textConfig\n  }\n\n  createNodes() {\n    const nodes = []\n    const pieces = ObjectGroup.groupObjects(this.getPieces())\n    const lastIndex = pieces.length - 1\n\n    for (let index = 0; index < pieces.length; index++) {\n      const piece = pieces[index]\n      const context = {}\n      if (index === 0) {\n        context.isFirst = true\n      }\n      if (index === lastIndex) {\n        context.isLast = true\n      }\n      if (endsWithWhitespace(previousPiece)) {\n        context.followsWhitespace = true\n      }\n\n      const view = this.findOrCreateCachedChildView(PieceView, piece, { textConfig: this.textConfig, context })\n      nodes.push(...Array.from(view.getNodes() || []))\n\n      var previousPiece = piece\n    }\n    return nodes\n  }\n\n  getPieces() {\n    return Array.from(this.text.getPieces()).filter((piece) => !piece.hasAttribute(\"blockBreak\"))\n  }\n}\n\nconst endsWithWhitespace = (piece) => /\\s$/.test(piece?.toString())\n","import * as config from \"trix/config\"\nimport ObjectView from \"trix/views/object_view\"\nimport TextView from \"trix/views/text_view\"\n\nimport { getBlockConfig, makeElement } from \"trix/core/helpers\"\nconst { css } = config\n\nexport default class BlockView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.block = this.object\n    this.attributes = this.block.getAttributes()\n  }\n\n  createNodes() {\n    const comment = document.createComment(\"block\")\n    const nodes = [ comment ]\n    if (this.block.isEmpty()) {\n      nodes.push(makeElement(\"br\"))\n    } else {\n      const textConfig = getBlockConfig(this.block.getLastAttribute())?.text\n      const textView = this.findOrCreateCachedChildView(TextView, this.block.text, { textConfig })\n      nodes.push(...Array.from(textView.getNodes() || []))\n      if (this.shouldAddExtraNewlineElement()) {\n        nodes.push(makeElement(\"br\"))\n      }\n    }\n\n    if (this.attributes.length) {\n      return nodes\n    } else {\n      let attributes\n      const { tagName } = config.blockAttributes.default\n      if (this.block.isRTL()) {\n        attributes = { dir: \"rtl\" }\n      }\n\n      const element = makeElement({ tagName, attributes })\n      nodes.forEach((node) => element.appendChild(node))\n      return [ element ]\n    }\n  }\n\n  createContainerElement(depth) {\n    const attributes = {}\n    let className\n    const attributeName = this.attributes[depth]\n\n    const { tagName, htmlAttributes = [] } = getBlockConfig(attributeName)\n\n    if (depth === 0 && this.block.isRTL()) {\n      Object.assign(attributes, { dir: \"rtl\" })\n    }\n\n    if (attributeName === \"attachmentGallery\") {\n      const size = this.block.getBlockBreakPosition()\n      className = `${css.attachmentGallery} ${css.attachmentGallery}--${size}`\n    }\n\n    Object.entries(this.block.htmlAttributes).forEach(([ name, value ]) => {\n      if (htmlAttributes.includes(name)) {\n        attributes[name] = value\n      }\n    })\n\n    return makeElement({ tagName, className, attributes })\n  }\n\n  // A single <br> at the end of a block element has no visual representation\n  // so add an extra one.\n  shouldAddExtraNewlineElement() {\n    return /\\n\\n$/.test(this.block.toString())\n  }\n}\n","import { createEvent, makeElement } from \"trix/core/helpers\"\n\nimport ElementStore from \"trix/core/collections/element_store\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\nimport ObjectView from \"trix/views/object_view\"\nimport BlockView from \"trix/views/block_view\"\n\nimport { defer } from \"trix/core/helpers\"\n\nexport default class DocumentView extends ObjectView {\n  static render(document) {\n    const element = makeElement(\"div\")\n    const view = new this(document, { element })\n    view.render()\n    view.sync()\n    return element\n  }\n\n  constructor() {\n    super(...arguments)\n    this.element = this.options.element\n    this.elementStore = new ElementStore()\n    this.setDocument(this.object)\n  }\n\n  setDocument(document) {\n    if (!document.isEqualTo(this.document)) {\n      this.document = this.object = document\n    }\n  }\n\n  render() {\n    this.childViews = []\n\n    this.shadowElement = makeElement(\"div\")\n\n    if (!this.document.isEmpty()) {\n      const objects = ObjectGroup.groupObjects(this.document.getBlocks(), { asTree: true })\n\n      Array.from(objects).forEach((object) => {\n        const view = this.findOrCreateCachedChildView(BlockView, object)\n        Array.from(view.getNodes()).map((node) => this.shadowElement.appendChild(node))\n      })\n    }\n  }\n\n  isSynced() {\n    return elementsHaveEqualHTML(this.shadowElement, this.element)\n  }\n\n  sync() {\n    const render = (element, documentFragment) => {\n      while (element.lastChild) {\n        element.removeChild(element.lastChild)\n      }\n      element.appendChild(documentFragment)\n    }\n\n    const event = createEvent(\"trix-before-render\", { cancelable: false, attributes: { render } })\n    this.element.dispatchEvent(event)\n\n    const fragment = this.createDocumentFragmentForSync()\n    event.render(this.element, fragment)\n    return this.didSync()\n  }\n\n  // Private\n\n  didSync() {\n    this.elementStore.reset(findStoredElements(this.element))\n    return defer(() => this.garbageCollectCachedViews())\n  }\n\n  createDocumentFragmentForSync() {\n    const fragment = document.createDocumentFragment()\n\n    Array.from(this.shadowElement.childNodes).forEach((node) => {\n      fragment.appendChild(node.cloneNode(true))\n    })\n\n    Array.from(findStoredElements(fragment)).forEach((element) => {\n      const storedElement = this.elementStore.remove(element)\n      if (storedElement) {\n        element.parentNode.replaceChild(storedElement, element)\n      }\n    })\n\n    return fragment\n  }\n}\n\nconst findStoredElements = (element) => element.querySelectorAll(\"[data-trix-store-key]\")\n\nconst elementsHaveEqualHTML = (element, otherElement) =>\n  ignoreSpaces(element.innerHTML) === ignoreSpaces(otherElement.innerHTML)\n\nconst ignoreSpaces = (html) => html.replace(/&nbsp;/g, \" \")\n","import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Hash from \"trix/core/collections/hash\"\n\nexport default class Piece extends TrixObject {\n  static types = {}\n\n  static registerType(type, constructor) {\n    constructor.type = type\n    this.types[type] = constructor\n  }\n\n  static fromJSON(pieceJSON) {\n    const constructor = this.types[pieceJSON.type]\n    if (constructor) {\n      return constructor.fromJSON(pieceJSON)\n    }\n  }\n\n  constructor(value, attributes = {}) {\n    super(...arguments)\n    this.attributes = Hash.box(attributes)\n  }\n\n  copyWithAttributes(attributes) {\n    return new this.constructor(this.getValue(), attributes)\n  }\n\n  copyWithAdditionalAttributes(attributes) {\n    return this.copyWithAttributes(this.attributes.merge(attributes))\n  }\n\n  copyWithoutAttribute(attribute) {\n    return this.copyWithAttributes(this.attributes.remove(attribute))\n  }\n\n  copy() {\n    return this.copyWithAttributes(this.attributes)\n  }\n\n  getAttribute(attribute) {\n    return this.attributes.get(attribute)\n  }\n\n  getAttributesHash() {\n    return this.attributes\n  }\n\n  getAttributes() {\n    return this.attributes.toObject()\n  }\n\n  hasAttribute(attribute) {\n    return this.attributes.has(attribute)\n  }\n\n  hasSameStringValueAsPiece(piece) {\n    return piece && this.toString() === piece.toString()\n  }\n\n  hasSameAttributesAsPiece(piece) {\n    return piece && (this.attributes === piece.attributes || this.attributes.isEqualTo(piece.attributes))\n  }\n\n  isBlockBreak() {\n    return false\n  }\n\n  isEqualTo(piece) {\n    return (\n      super.isEqualTo(...arguments) ||\n      this.hasSameConstructorAs(piece) &&\n        this.hasSameStringValueAsPiece(piece) &&\n        this.hasSameAttributesAsPiece(piece)\n    )\n  }\n\n  isEmpty() {\n    return this.length === 0\n  }\n\n  isSerializable() {\n    return true\n  }\n\n  toJSON() {\n    return {\n      type: this.constructor.type,\n      attributes: this.getAttributes(),\n    }\n  }\n\n  contentsForInspection() {\n    return {\n      type: this.constructor.type,\n      attributes: this.attributes.inspect(),\n    }\n  }\n\n  // Grouping\n\n  canBeGrouped() {\n    return this.hasAttribute(\"href\")\n  }\n\n  canBeGroupedWith(piece) {\n    return this.getAttribute(\"href\") === piece.getAttribute(\"href\")\n  }\n\n  // Splittable\n\n  getLength() {\n    return this.length\n  }\n\n  canBeConsolidatedWith(piece) {\n    return false\n  }\n}\n","import Operation from \"trix/core/utilities/operation\"\n\nexport default class ImagePreloadOperation extends Operation {\n  constructor(url) {\n    super(...arguments)\n    this.url = url\n  }\n\n  perform(callback) {\n    const image = new Image()\n\n    image.onload = () => {\n      image.width = this.width = image.naturalWidth\n      image.height = this.height = image.naturalHeight\n      return callback(true, image)\n    }\n\n    image.onerror = () => callback(false)\n\n    image.src = this.url\n  }\n}\n","import * as config from \"trix/config\"\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Hash from \"trix/core/collections/hash\"\nimport ImagePreloadOperation from \"trix/operations/image_preload_operation\"\n\nexport default class Attachment extends TrixObject {\n  static previewablePattern = /^image(\\/(gif|png|webp|jpe?g)|$)/\n\n  static attachmentForFile(file) {\n    const attributes = this.attributesForFile(file)\n    const attachment = new this(attributes)\n    attachment.setFile(file)\n    return attachment\n  }\n\n  static attributesForFile(file) {\n    return new Hash({\n      filename: file.name,\n      filesize: file.size,\n      contentType: file.type,\n    })\n  }\n\n  static fromJSON(attachmentJSON) {\n    return new this(attachmentJSON)\n  }\n\n  constructor(attributes = {}) {\n    super(attributes)\n    this.releaseFile = this.releaseFile.bind(this)\n    this.attributes = Hash.box(attributes)\n    this.didChangeAttributes()\n  }\n\n  setAttribute(attribute, value) {\n    this.setAttributes({ [attribute]: value })\n  }\n\n  getAttribute(attribute) {\n    return this.attributes.get(attribute)\n  }\n\n  hasAttribute(attribute) {\n    return this.attributes.has(attribute)\n  }\n\n  getAttributes() {\n    return this.attributes.toObject()\n  }\n\n  setAttributes(attributes = {}) {\n    const newAttributes = this.attributes.merge(attributes)\n    if (!this.attributes.isEqualTo(newAttributes)) {\n      this.attributes = newAttributes\n      this.didChangeAttributes()\n      this.previewDelegate?.attachmentDidChangeAttributes?.(this)\n      return this.delegate?.attachmentDidChangeAttributes?.(this)\n    }\n  }\n\n  didChangeAttributes() {\n    if (this.isPreviewable()) {\n      return this.preloadURL()\n    }\n  }\n\n  isPending() {\n    return this.file != null && !(this.getURL() || this.getHref())\n  }\n\n  isPreviewable() {\n    if (this.attributes.has(\"previewable\")) {\n      return this.attributes.get(\"previewable\")\n    } else {\n      return Attachment.previewablePattern.test(this.getContentType())\n    }\n  }\n\n  getType() {\n    if (this.hasContent()) {\n      return \"content\"\n    } else if (this.isPreviewable()) {\n      return \"preview\"\n    } else {\n      return \"file\"\n    }\n  }\n\n  getURL() {\n    return this.attributes.get(\"url\")\n  }\n\n  getHref() {\n    return this.attributes.get(\"href\")\n  }\n\n  getFilename() {\n    return this.attributes.get(\"filename\") || \"\"\n  }\n\n  getFilesize() {\n    return this.attributes.get(\"filesize\")\n  }\n\n  getFormattedFilesize() {\n    const filesize = this.attributes.get(\"filesize\")\n    if (typeof filesize === \"number\") {\n      return config.fileSize.formatter(filesize)\n    } else {\n      return \"\"\n    }\n  }\n\n  getExtension() {\n    return this.getFilename()\n      .match(/\\.(\\w+)$/)?.[1]\n      .toLowerCase()\n  }\n\n  getContentType() {\n    return this.attributes.get(\"contentType\")\n  }\n\n  hasContent() {\n    return this.attributes.has(\"content\")\n  }\n\n  getContent() {\n    return this.attributes.get(\"content\")\n  }\n\n  getWidth() {\n    return this.attributes.get(\"width\")\n  }\n\n  getHeight() {\n    return this.attributes.get(\"height\")\n  }\n\n  getFile() {\n    return this.file\n  }\n\n  setFile(file) {\n    this.file = file\n    if (this.isPreviewable()) {\n      return this.preloadFile()\n    }\n  }\n\n  releaseFile() {\n    this.releasePreloadedFile()\n    this.file = null\n  }\n\n  getUploadProgress() {\n    return this.uploadProgress != null ? this.uploadProgress : 0\n  }\n\n  setUploadProgress(value) {\n    if (this.uploadProgress !== value) {\n      this.uploadProgress = value\n      return this.uploadProgressDelegate?.attachmentDidChangeUploadProgress?.(this)\n    }\n  }\n\n  toJSON() {\n    return this.getAttributes()\n  }\n\n  getCacheKey() {\n    return [ super.getCacheKey(...arguments), this.attributes.getCacheKey(), this.getPreviewURL() ].join(\"/\")\n  }\n\n  // Previewable\n\n  getPreviewURL() {\n    return this.previewURL || this.preloadingURL\n  }\n\n  setPreviewURL(url) {\n    if (url !== this.getPreviewURL()) {\n      this.previewURL = url\n      this.previewDelegate?.attachmentDidChangeAttributes?.(this)\n      return this.delegate?.attachmentDidChangePreviewURL?.(this)\n    }\n  }\n\n  preloadURL() {\n    return this.preload(this.getURL(), this.releaseFile)\n  }\n\n  preloadFile() {\n    if (this.file) {\n      this.fileObjectURL = URL.createObjectURL(this.file)\n      return this.preload(this.fileObjectURL)\n    }\n  }\n\n  releasePreloadedFile() {\n    if (this.fileObjectURL) {\n      URL.revokeObjectURL(this.fileObjectURL)\n      this.fileObjectURL = null\n    }\n  }\n\n  preload(url, callback) {\n    if (url && url !== this.getPreviewURL()) {\n      this.preloadingURL = url\n      const operation = new ImagePreloadOperation(url)\n      return operation\n        .then(({ width, height }) => {\n          if (!this.getWidth() || !this.getHeight()) {\n            this.setAttributes({ width, height })\n          }\n          this.preloadingURL = null\n          this.setPreviewURL(url)\n          return callback?.()\n        })\n        .catch(() => {\n          this.preloadingURL = null\n          return callback?.()\n        })\n    }\n  }\n}\n","import { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport Attachment from \"trix/models/attachment\"\nimport Piece from \"trix/models/piece\"\n\nexport default class AttachmentPiece extends Piece {\n  static permittedAttributes = [ \"caption\", \"presentation\" ]\n\n  static fromJSON(pieceJSON) {\n    return new this(Attachment.fromJSON(pieceJSON.attachment), pieceJSON.attributes)\n  }\n\n  constructor(attachment) {\n    super(...arguments)\n    this.attachment = attachment\n    this.length = 1\n    this.ensureAttachmentExclusivelyHasAttribute(\"href\")\n    if (!this.attachment.hasContent()) {\n      this.removeProhibitedAttributes()\n    }\n  }\n\n  ensureAttachmentExclusivelyHasAttribute(attribute) {\n    if (this.hasAttribute(attribute)) {\n      if (!this.attachment.hasAttribute(attribute)) {\n        this.attachment.setAttributes(this.attributes.slice([ attribute ]))\n      }\n      this.attributes = this.attributes.remove(attribute)\n    }\n  }\n\n  removeProhibitedAttributes() {\n    const attributes = this.attributes.slice(AttachmentPiece.permittedAttributes)\n    if (!attributes.isEqualTo(this.attributes)) {\n      this.attributes = attributes\n    }\n  }\n\n  getValue() {\n    return this.attachment\n  }\n\n  isSerializable() {\n    return !this.attachment.isPending()\n  }\n\n  getCaption() {\n    return this.attributes.get(\"caption\") || \"\"\n  }\n\n  isEqualTo(piece) {\n    return super.isEqualTo(piece) && this.attachment.id === piece?.attachment?.id\n  }\n\n  toString() {\n    return OBJECT_REPLACEMENT_CHARACTER\n  }\n\n  toJSON() {\n    const json = super.toJSON(...arguments)\n    json.attachment = this.attachment\n    return json\n  }\n\n  getCacheKey() {\n    return [ super.getCacheKey(...arguments), this.attachment.getCacheKey() ].join(\"/\")\n  }\n\n  toConsole() {\n    return JSON.stringify(this.toString())\n  }\n}\n\nPiece.registerType(\"attachment\", AttachmentPiece)\n","import Piece from \"trix/models/piece\"\n\nimport { normalizeNewlines } from \"trix/core/helpers\"\n\nexport default class StringPiece extends Piece {\n  static fromJSON(pieceJSON) {\n    return new this(pieceJSON.string, pieceJSON.attributes)\n  }\n\n  constructor(string) {\n    super(...arguments)\n    this.string = normalizeNewlines(string)\n    this.length = this.string.length\n  }\n\n  getValue() {\n    return this.string\n  }\n\n  toString() {\n    return this.string.toString()\n  }\n\n  isBlockBreak() {\n    return this.toString() === \"\\n\" && this.getAttribute(\"blockBreak\") === true\n  }\n\n  toJSON() {\n    const result = super.toJSON(...arguments)\n    result.string = this.string\n    return result\n  }\n\n  // Splittable\n\n  canBeConsolidatedWith(piece) {\n    return piece && this.hasSameConstructorAs(piece) && this.hasSameAttributesAsPiece(piece)\n  }\n\n  consolidateWith(piece) {\n    return new this.constructor(this.toString() + piece.toString(), this.attributes)\n  }\n\n  splitAtOffset(offset) {\n    let left, right\n    if (offset === 0) {\n      left = null\n      right = this\n    } else if (offset === this.length) {\n      left = this\n      right = null\n    } else {\n      left = new this.constructor(this.string.slice(0, offset), this.attributes)\n      right = new this.constructor(this.string.slice(offset), this.attributes)\n    }\n    return [ left, right ]\n  }\n\n  toConsole() {\n    let { string } = this\n    if (string.length > 15) {\n      string = string.slice(0, 14) + \"…\"\n    }\n    return JSON.stringify(string.toString())\n  }\n}\n\nPiece.registerType(\"string\", StringPiece)\n","/* eslint-disable\n    prefer-const,\n*/\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport { spliceArray } from \"trix/core/helpers\"\n\nexport default class SplittableList extends TrixObject {\n  static box(objects) {\n    if (objects instanceof this) {\n      return objects\n    } else {\n      return new this(objects)\n    }\n  }\n\n  constructor(objects = []) {\n    super(...arguments)\n    this.objects = objects.slice(0)\n    this.length = this.objects.length\n  }\n\n  indexOf(object) {\n    return this.objects.indexOf(object)\n  }\n\n  splice(...args) {\n    return new this.constructor(spliceArray(this.objects, ...args))\n  }\n\n  eachObject(callback) {\n    return this.objects.map((object, index) => callback(object, index))\n  }\n\n  insertObjectAtIndex(object, index) {\n    return this.splice(index, 0, object)\n  }\n\n  insertSplittableListAtIndex(splittableList, index) {\n    return this.splice(index, 0, ...splittableList.objects)\n  }\n\n  insertSplittableListAtPosition(splittableList, position) {\n    const [ objects, index ] = this.splitObjectAtPosition(position)\n    return new this.constructor(objects).insertSplittableListAtIndex(splittableList, index)\n  }\n\n  editObjectAtIndex(index, callback) {\n    return this.replaceObjectAtIndex(callback(this.objects[index]), index)\n  }\n\n  replaceObjectAtIndex(object, index) {\n    return this.splice(index, 1, object)\n  }\n\n  removeObjectAtIndex(index) {\n    return this.splice(index, 1)\n  }\n\n  getObjectAtIndex(index) {\n    return this.objects[index]\n  }\n\n  getSplittableListInRange(range) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    return new this.constructor(objects.slice(leftIndex, rightIndex + 1))\n  }\n\n  selectSplittableList(test) {\n    const objects = this.objects.filter((object) => test(object))\n    return new this.constructor(objects)\n  }\n\n  removeObjectsInRange(range) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    return new this.constructor(objects).splice(leftIndex, rightIndex - leftIndex + 1)\n  }\n\n  transformObjectsInRange(range, transform) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    const transformedObjects = objects.map((object, index) =>\n      leftIndex <= index && index <= rightIndex ? transform(object) : object\n    )\n    return new this.constructor(transformedObjects)\n  }\n\n  splitObjectsAtRange(range) {\n    let rightOuterIndex\n    let [ objects, leftInnerIndex, offset ] = this.splitObjectAtPosition(startOfRange(range))\n    ;[ objects, rightOuterIndex ] = new this.constructor(objects).splitObjectAtPosition(endOfRange(range) + offset)\n\n    return [ objects, leftInnerIndex, rightOuterIndex - 1 ]\n  }\n\n  getObjectAtPosition(position) {\n    const { index } = this.findIndexAndOffsetAtPosition(position)\n    return this.objects[index]\n  }\n\n  splitObjectAtPosition(position) {\n    let splitIndex, splitOffset\n    const { index, offset } = this.findIndexAndOffsetAtPosition(position)\n    const objects = this.objects.slice(0)\n    if (index != null) {\n      if (offset === 0) {\n        splitIndex = index\n        splitOffset = 0\n      } else {\n        const object = this.getObjectAtIndex(index)\n        const [ leftObject, rightObject ] = object.splitAtOffset(offset)\n        objects.splice(index, 1, leftObject, rightObject)\n        splitIndex = index + 1\n        splitOffset = leftObject.getLength() - offset\n      }\n    } else {\n      splitIndex = objects.length\n      splitOffset = 0\n    }\n\n    return [ objects, splitIndex, splitOffset ]\n  }\n\n  consolidate() {\n    const objects = []\n    let pendingObject = this.objects[0]\n\n    this.objects.slice(1).forEach((object) => {\n      if (pendingObject.canBeConsolidatedWith?.(object)) {\n        pendingObject = pendingObject.consolidateWith(object)\n      } else {\n        objects.push(pendingObject)\n        pendingObject = object\n      }\n    })\n\n    if (pendingObject) {\n      objects.push(pendingObject)\n    }\n\n    return new this.constructor(objects)\n  }\n\n  consolidateFromIndexToIndex(startIndex, endIndex) {\n    const objects = this.objects.slice(0)\n    const objectsInRange = objects.slice(startIndex, endIndex + 1)\n    const consolidatedInRange = new this.constructor(objectsInRange).consolidate().toArray()\n    return this.splice(startIndex, objectsInRange.length, ...consolidatedInRange)\n  }\n\n  findIndexAndOffsetAtPosition(position) {\n    let index\n    let currentPosition = 0\n    for (index = 0; index < this.objects.length; index++) {\n      const object = this.objects[index]\n      const nextPosition = currentPosition + object.getLength()\n      if (currentPosition <= position && position < nextPosition) {\n        return { index, offset: position - currentPosition }\n      }\n      currentPosition = nextPosition\n    }\n    return { index: null, offset: null }\n  }\n\n  findPositionAtIndexAndOffset(index, offset) {\n    let position = 0\n    for (let currentIndex = 0; currentIndex < this.objects.length; currentIndex++) {\n      const object = this.objects[currentIndex]\n      if (currentIndex < index) {\n        position += object.getLength()\n      } else if (currentIndex === index) {\n        position += offset\n        break\n      }\n    }\n    return position\n  }\n\n  getEndPosition() {\n    if (this.endPosition == null) {\n      this.endPosition = 0\n      this.objects.forEach((object) => this.endPosition += object.getLength())\n    }\n\n    return this.endPosition\n  }\n\n  toString() {\n    return this.objects.join(\"\")\n  }\n\n  toArray() {\n    return this.objects.slice(0)\n  }\n\n  toJSON() {\n    return this.toArray()\n  }\n\n  isEqualTo(splittableList) {\n    return super.isEqualTo(...arguments) || objectArraysAreEqual(this.objects, splittableList?.objects)\n  }\n\n  contentsForInspection() {\n    return {\n      objects: `[${this.objects.map((object) => object.inspect()).join(\", \")}]`,\n    }\n  }\n}\n\nconst objectArraysAreEqual = function(left, right = []) {\n  if (left.length !== right.length) {\n    return false\n  }\n  let result = true\n  for (let index = 0; index < left.length; index++) {\n    const object = left[index]\n    if (result && !object.isEqualTo(right[index])) {\n      result = false\n    }\n  }\n  return result\n}\n\nconst startOfRange = (range) => range[0]\n\nconst endOfRange = (range) => range[1]\n","import TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport { getDirection } from \"trix/core/helpers\"\n\nimport Piece from \"trix/models/piece\"\nimport AttachmentPiece from \"trix/models/attachment_piece\"\nimport StringPiece from \"trix/models/string_piece\"\nimport SplittableList from \"trix/models/splittable_list\"\n\nimport Hash from \"trix/core/collections/hash\"\n\nexport default class Text extends TrixObject {\n  static textForAttachmentWithAttributes(attachment, attributes) {\n    const piece = new AttachmentPiece(attachment, attributes)\n    return new this([ piece ])\n  }\n\n  static textForStringWithAttributes(string, attributes) {\n    const piece = new StringPiece(string, attributes)\n    return new this([ piece ])\n  }\n\n  static fromJSON(textJSON) {\n    const pieces = Array.from(textJSON).map((pieceJSON) => Piece.fromJSON(pieceJSON))\n    return new this(pieces)\n  }\n\n  constructor(pieces = []) {\n    super(...arguments)\n    const notEmpty = pieces.filter((piece) => !piece.isEmpty())\n    this.pieceList = new SplittableList(notEmpty)\n  }\n\n  copy() {\n    return this.copyWithPieceList(this.pieceList)\n  }\n\n  copyWithPieceList(pieceList) {\n    return new this.constructor(pieceList.consolidate().toArray())\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const pieces = this.getPieces().map((piece) => objectMap.find(piece) || piece)\n    return new this.constructor(pieces)\n  }\n\n  appendText(text) {\n    return this.insertTextAtPosition(text, this.getLength())\n  }\n\n  insertTextAtPosition(text, position) {\n    return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(text.pieceList, position))\n  }\n\n  removeTextAtRange(range) {\n    return this.copyWithPieceList(this.pieceList.removeObjectsInRange(range))\n  }\n\n  replaceTextAtRange(text, range) {\n    return this.removeTextAtRange(range).insertTextAtPosition(text, range[0])\n  }\n\n  moveTextFromRangeToPosition(range, position) {\n    if (range[0] <= position && position <= range[1]) return\n    const text = this.getTextAtRange(range)\n    const length = text.getLength()\n    if (range[0] < position) {\n      position -= length\n    }\n    return this.removeTextAtRange(range).insertTextAtPosition(text, position)\n  }\n\n  addAttributeAtRange(attribute, value, range) {\n    const attributes = {}\n    attributes[attribute] = value\n    return this.addAttributesAtRange(attributes, range)\n  }\n\n  addAttributesAtRange(attributes, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithAdditionalAttributes(attributes))\n    )\n  }\n\n  removeAttributeAtRange(attribute, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithoutAttribute(attribute))\n    )\n  }\n\n  setAttributesAtRange(attributes, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithAttributes(attributes))\n    )\n  }\n\n  getAttributesAtPosition(position) {\n    return this.pieceList.getObjectAtPosition(position)?.getAttributes() || {}\n  }\n\n  getCommonAttributes() {\n    const objects = Array.from(this.pieceList.toArray()).map((piece) => piece.getAttributes())\n    return Hash.fromCommonAttributesOfObjects(objects).toObject()\n  }\n\n  getCommonAttributesAtRange(range) {\n    return this.getTextAtRange(range).getCommonAttributes() || {}\n  }\n\n  getExpandedRangeForAttributeAtOffset(attributeName, offset) {\n    let right\n    let left = right = offset\n    const length = this.getLength()\n\n    while (left > 0 && this.getCommonAttributesAtRange([ left - 1, right ])[attributeName]) {\n      left--\n    }\n    while (right < length && this.getCommonAttributesAtRange([ offset, right + 1 ])[attributeName]) {\n      right++\n    }\n\n    return [ left, right ]\n  }\n\n  getTextAtRange(range) {\n    return this.copyWithPieceList(this.pieceList.getSplittableListInRange(range))\n  }\n\n  getStringAtRange(range) {\n    return this.pieceList.getSplittableListInRange(range).toString()\n  }\n\n  getStringAtPosition(position) {\n    return this.getStringAtRange([ position, position + 1 ])\n  }\n\n  startsWithString(string) {\n    return this.getStringAtRange([ 0, string.length ]) === string\n  }\n\n  endsWithString(string) {\n    const length = this.getLength()\n    return this.getStringAtRange([ length - string.length, length ]) === string\n  }\n\n  getAttachmentPieces() {\n    return this.pieceList.toArray().filter((piece) => !!piece.attachment)\n  }\n\n  getAttachments() {\n    return this.getAttachmentPieces().map((piece) => piece.attachment)\n  }\n\n  getAttachmentAndPositionById(attachmentId) {\n    let position = 0\n    for (const piece of this.pieceList.toArray()) {\n      if (piece.attachment?.id === attachmentId) {\n        return { attachment: piece.attachment, position }\n      }\n      position += piece.length\n    }\n    return { attachment: null, position: null }\n  }\n\n  getAttachmentById(attachmentId) {\n    const { attachment } = this.getAttachmentAndPositionById(attachmentId)\n    return attachment\n  }\n\n  getRangeOfAttachment(attachment) {\n    const attachmentAndPosition = this.getAttachmentAndPositionById(attachment.id)\n    const position = attachmentAndPosition.position\n    attachment = attachmentAndPosition.attachment\n    if (attachment) {\n      return [ position, position + 1 ]\n    }\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    if (range) {\n      return this.addAttributesAtRange(attributes, range)\n    } else {\n      return this\n    }\n  }\n\n  getLength() {\n    return this.pieceList.getEndPosition()\n  }\n\n  isEmpty() {\n    return this.getLength() === 0\n  }\n\n  isEqualTo(text) {\n    return super.isEqualTo(text) || text?.pieceList?.isEqualTo(this.pieceList)\n  }\n\n  isBlockBreak() {\n    return this.getLength() === 1 && this.pieceList.getObjectAtIndex(0).isBlockBreak()\n  }\n\n  eachPiece(callback) {\n    return this.pieceList.eachObject(callback)\n  }\n\n  getPieces() {\n    return this.pieceList.toArray()\n  }\n\n  getPieceAtPosition(position) {\n    return this.pieceList.getObjectAtPosition(position)\n  }\n\n  contentsForInspection() {\n    return { pieceList: this.pieceList.inspect() }\n  }\n\n  toSerializableText() {\n    const pieceList = this.pieceList.selectSplittableList((piece) => piece.isSerializable())\n    return this.copyWithPieceList(pieceList)\n  }\n\n  toString() {\n    return this.pieceList.toString()\n  }\n\n  toJSON() {\n    return this.pieceList.toJSON()\n  }\n\n  toConsole() {\n    return JSON.stringify(this.pieceList.toArray().map((piece) => JSON.parse(piece.toConsole())))\n  }\n\n  // BIDI\n\n  getDirection() {\n    return getDirection(this.toString())\n  }\n\n  isRTL() {\n    return this.getDirection() === \"rtl\"\n  }\n}\n","import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Text from \"trix/models/text\"\n\nimport {\n  arraysAreEqual,\n  getBlockConfig,\n  getListAttributeNames,\n  objectsAreEqual,\n  spliceArray,\n} from \"trix/core/helpers\"\n\nexport default class Block extends TrixObject {\n  static fromJSON(blockJSON) {\n    const text = Text.fromJSON(blockJSON.text)\n    return new this(text, blockJSON.attributes, blockJSON.htmlAttributes)\n  }\n\n  constructor(text, attributes, htmlAttributes) {\n    super(...arguments)\n    this.text = applyBlockBreakToText(text || new Text())\n    this.attributes = attributes || []\n    this.htmlAttributes = htmlAttributes || {}\n  }\n\n  isEmpty() {\n    return this.text.isBlockBreak()\n  }\n\n  isEqualTo(block) {\n    if (super.isEqualTo(block)) return true\n\n    return this.text.isEqualTo(block?.text) && arraysAreEqual(this.attributes, block?.attributes) && objectsAreEqual(this.htmlAttributes, block?.htmlAttributes)\n  }\n\n  copyWithText(text) {\n    return new Block(text, this.attributes, this.htmlAttributes)\n  }\n\n  copyWithoutText() {\n    return this.copyWithText(null)\n  }\n\n  copyWithAttributes(attributes) {\n    return new Block(this.text, attributes, this.htmlAttributes)\n  }\n\n  copyWithoutAttributes() {\n    return this.copyWithAttributes(null)\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const mappedText = objectMap.find(this.text)\n    if (mappedText) {\n      return this.copyWithText(mappedText)\n    } else {\n      return this.copyWithText(this.text.copyUsingObjectMap(objectMap))\n    }\n  }\n\n  addAttribute(attribute) {\n    const attributes = this.attributes.concat(expandAttribute(attribute))\n    return this.copyWithAttributes(attributes)\n  }\n\n  addHTMLAttribute(attribute, value) {\n    const htmlAttributes = Object.assign({}, this.htmlAttributes, { [attribute]: value })\n    return new Block(this.text, this.attributes, htmlAttributes)\n  }\n\n  removeAttribute(attribute) {\n    const { listAttribute } = getBlockConfig(attribute)\n    const attributes = removeLastValue(removeLastValue(this.attributes, attribute), listAttribute)\n    return this.copyWithAttributes(attributes)\n  }\n\n  removeLastAttribute() {\n    return this.removeAttribute(this.getLastAttribute())\n  }\n\n  getLastAttribute() {\n    return getLastElement(this.attributes)\n  }\n\n  getAttributes() {\n    return this.attributes.slice(0)\n  }\n\n  getAttributeLevel() {\n    return this.attributes.length\n  }\n\n  getAttributeAtLevel(level) {\n    return this.attributes[level - 1]\n  }\n\n  hasAttribute(attributeName) {\n    return this.attributes.includes(attributeName)\n  }\n\n  hasAttributes() {\n    return this.getAttributeLevel() > 0\n  }\n\n  getLastNestableAttribute() {\n    return getLastElement(this.getNestableAttributes())\n  }\n\n  getNestableAttributes() {\n    return this.attributes.filter((attribute) => getBlockConfig(attribute).nestable)\n  }\n\n  getNestingLevel() {\n    return this.getNestableAttributes().length\n  }\n\n  decreaseNestingLevel() {\n    const attribute = this.getLastNestableAttribute()\n    if (attribute) {\n      return this.removeAttribute(attribute)\n    } else {\n      return this\n    }\n  }\n\n  increaseNestingLevel() {\n    const attribute = this.getLastNestableAttribute()\n    if (attribute) {\n      const index = this.attributes.lastIndexOf(attribute)\n      const attributes = spliceArray(this.attributes, index + 1, 0, ...expandAttribute(attribute))\n      return this.copyWithAttributes(attributes)\n    } else {\n      return this\n    }\n  }\n\n  getListItemAttributes() {\n    return this.attributes.filter((attribute) => getBlockConfig(attribute).listAttribute)\n  }\n\n  isListItem() {\n    return getBlockConfig(this.getLastAttribute())?.listAttribute\n  }\n\n  isTerminalBlock() {\n    return getBlockConfig(this.getLastAttribute())?.terminal\n  }\n\n  breaksOnReturn() {\n    return getBlockConfig(this.getLastAttribute())?.breakOnReturn\n  }\n\n  findLineBreakInDirectionFromPosition(direction, position) {\n    const string = this.toString()\n    let result\n    switch (direction) {\n      case \"forward\":\n        result = string.indexOf(\"\\n\", position)\n        break\n      case \"backward\":\n        result = string.slice(0, position).lastIndexOf(\"\\n\")\n    }\n\n    if (result !== -1) {\n      return result\n    }\n  }\n\n  contentsForInspection() {\n    return {\n      text: this.text.inspect(),\n      attributes: this.attributes,\n    }\n  }\n\n  toString() {\n    return this.text.toString()\n  }\n\n  toJSON() {\n    return {\n      text: this.text,\n      attributes: this.attributes,\n      htmlAttributes: this.htmlAttributes,\n    }\n  }\n\n  // BIDI\n\n  getDirection() {\n    return this.text.getDirection()\n  }\n\n  isRTL() {\n    return this.text.isRTL()\n  }\n\n  // Splittable\n\n  getLength() {\n    return this.text.getLength()\n  }\n\n  canBeConsolidatedWith(block) {\n    return !this.hasAttributes() && !block.hasAttributes() && this.getDirection() === block.getDirection()\n  }\n\n  consolidateWith(block) {\n    const newlineText = Text.textForStringWithAttributes(\"\\n\")\n    const text = this.getTextWithoutBlockBreak().appendText(newlineText)\n    return this.copyWithText(text.appendText(block.text))\n  }\n\n  splitAtOffset(offset) {\n    let left, right\n    if (offset === 0) {\n      left = null\n      right = this\n    } else if (offset === this.getLength()) {\n      left = this\n      right = null\n    } else {\n      left = this.copyWithText(this.text.getTextAtRange([ 0, offset ]))\n      right = this.copyWithText(this.text.getTextAtRange([ offset, this.getLength() ]))\n    }\n    return [ left, right ]\n  }\n\n  getBlockBreakPosition() {\n    return this.text.getLength() - 1\n  }\n\n  getTextWithoutBlockBreak() {\n    if (textEndsInBlockBreak(this.text)) {\n      return this.text.getTextAtRange([ 0, this.getBlockBreakPosition() ])\n    } else {\n      return this.text.copy()\n    }\n  }\n\n  // Grouping\n\n  canBeGrouped(depth) {\n    return this.attributes[depth]\n  }\n\n  canBeGroupedWith(otherBlock, depth) {\n    const otherAttributes = otherBlock.getAttributes()\n    const otherAttribute = otherAttributes[depth]\n    const attribute = this.attributes[depth]\n\n    return (\n      attribute === otherAttribute &&\n      !(getBlockConfig(attribute).group === false && !getListAttributeNames().includes(otherAttributes[depth + 1])) &&\n      (this.getDirection() === otherBlock.getDirection() || otherBlock.isEmpty())\n    )\n  }\n}\n\n// Block breaks\n\nconst applyBlockBreakToText = function(text) {\n  text = unmarkExistingInnerBlockBreaksInText(text)\n  text = addBlockBreakToText(text)\n  return text\n}\n\nconst unmarkExistingInnerBlockBreaksInText = function(text) {\n  let modified = false\n  const pieces = text.getPieces()\n\n  let innerPieces = pieces.slice(0, pieces.length - 1)\n  const lastPiece = pieces[pieces.length - 1]\n\n  if (!lastPiece) return text\n\n  innerPieces = innerPieces.map((piece) => {\n    if (piece.isBlockBreak()) {\n      modified = true\n      return unmarkBlockBreakPiece(piece)\n    } else {\n      return piece\n    }\n  })\n\n  if (modified) {\n    return new Text([ ...innerPieces, lastPiece ])\n  } else {\n    return text\n  }\n}\n\nconst blockBreakText = Text.textForStringWithAttributes(\"\\n\", { blockBreak: true })\n\nconst addBlockBreakToText = function(text) {\n  if (textEndsInBlockBreak(text)) {\n    return text\n  } else {\n    return text.appendText(blockBreakText)\n  }\n}\n\nconst textEndsInBlockBreak = function(text) {\n  const length = text.getLength()\n  if (length === 0) {\n    return false\n  }\n  const endText = text.getTextAtRange([ length - 1, length ])\n  return endText.isBlockBreak()\n}\n\nconst unmarkBlockBreakPiece = (piece) => piece.copyWithoutAttribute(\"blockBreak\")\n\n// Attributes\n\nconst expandAttribute = function(attribute) {\n  const { listAttribute } = getBlockConfig(attribute)\n  if (listAttribute) {\n    return [ listAttribute, attribute ]\n  } else {\n    return [ attribute ]\n  }\n}\n\n// Array helpers\n\nconst getLastElement = (array) => array.slice(-1)[0]\n\nconst removeLastValue = function(array, value) {\n  const index = array.lastIndexOf(value)\n  if (index === -1) {\n    return array\n  } else {\n    return spliceArray(array, index, 1)\n  }\n}\n","import * as config from \"trix/config\"\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport SplittableList from \"trix/models/splittable_list\"\nimport Hash from \"trix/core/collections/hash\"\nimport ObjectMap from \"trix/core/collections/object_map\"\n\nimport { arraysAreEqual, getBlockConfig, normalizeRange, rangeIsCollapsed } from \"trix/core/helpers\"\n\nexport default class Document extends TrixObject {\n  static fromJSON(documentJSON) {\n    const blocks = Array.from(documentJSON).map((blockJSON) => Block.fromJSON(blockJSON))\n    return new this(blocks)\n  }\n\n  static fromString(string, textAttributes) {\n    const text = Text.textForStringWithAttributes(string, textAttributes)\n    return new this([ new Block(text) ])\n  }\n\n  constructor(blocks = []) {\n    super(...arguments)\n    if (blocks.length === 0) {\n      blocks = [ new Block() ]\n    }\n    this.blockList = SplittableList.box(blocks)\n  }\n\n  isEmpty() {\n    const block = this.getBlockAtIndex(0)\n    return this.blockList.length === 1 && block.isEmpty() && !block.hasAttributes()\n  }\n\n  copy(options = {}) {\n    const blocks = options.consolidateBlocks ? this.blockList.consolidate().toArray() : this.blockList.toArray()\n\n    return new this.constructor(blocks)\n  }\n\n  copyUsingObjectsFromDocument(sourceDocument) {\n    const objectMap = new ObjectMap(sourceDocument.getObjects())\n    return this.copyUsingObjectMap(objectMap)\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const blocks = this.getBlocks().map((block) => {\n      const mappedBlock = objectMap.find(block)\n      return mappedBlock || block.copyUsingObjectMap(objectMap)\n    })\n    return new this.constructor(blocks)\n  }\n\n  copyWithBaseBlockAttributes(blockAttributes = []) {\n    const blocks = this.getBlocks().map((block) => {\n      const attributes = blockAttributes.concat(block.getAttributes())\n      return block.copyWithAttributes(attributes)\n    })\n\n    return new this.constructor(blocks)\n  }\n\n  replaceBlock(oldBlock, newBlock) {\n    const index = this.blockList.indexOf(oldBlock)\n    if (index === -1) {\n      return this\n    }\n    return new this.constructor(this.blockList.replaceObjectAtIndex(newBlock, index))\n  }\n\n  insertDocumentAtRange(document, range) {\n    const { blockList } = document\n    range = normalizeRange(range)\n    let [ position ] = range\n    const { index, offset } = this.locationFromPosition(position)\n\n    let result = this\n    const block = this.getBlockAtPosition(position)\n\n    if (rangeIsCollapsed(range) && block.isEmpty() && !block.hasAttributes()) {\n      result = new this.constructor(result.blockList.removeObjectAtIndex(index))\n    } else if (block.getBlockBreakPosition() === offset) {\n      position++\n    }\n\n    result = result.removeTextAtRange(range)\n    return new this.constructor(result.blockList.insertSplittableListAtPosition(blockList, position))\n  }\n\n  mergeDocumentAtRange(document, range) {\n    let formattedDocument, result\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const blockAttributes = this.getBlockAtIndex(startLocation.index).getAttributes()\n    const baseBlockAttributes = document.getBaseBlockAttributes()\n    const trailingBlockAttributes = blockAttributes.slice(-baseBlockAttributes.length)\n\n    if (arraysAreEqual(baseBlockAttributes, trailingBlockAttributes)) {\n      const leadingBlockAttributes = blockAttributes.slice(0, -baseBlockAttributes.length)\n      formattedDocument = document.copyWithBaseBlockAttributes(leadingBlockAttributes)\n    } else {\n      formattedDocument = document.copy({ consolidateBlocks: true }).copyWithBaseBlockAttributes(blockAttributes)\n    }\n\n    const blockCount = formattedDocument.getBlockCount()\n    const firstBlock = formattedDocument.getBlockAtIndex(0)\n\n    if (arraysAreEqual(blockAttributes, firstBlock.getAttributes())) {\n      const firstText = firstBlock.getTextWithoutBlockBreak()\n      result = this.insertTextAtRange(firstText, range)\n\n      if (blockCount > 1) {\n        formattedDocument = new this.constructor(formattedDocument.getBlocks().slice(1))\n        const position = startPosition + firstText.getLength()\n        result = result.insertDocumentAtRange(formattedDocument, position)\n      }\n    } else {\n      result = this.insertDocumentAtRange(formattedDocument, range)\n    }\n\n    return result\n  }\n\n  insertTextAtRange(text, range) {\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const { index, offset } = this.locationFromPosition(startPosition)\n\n    const document = this.removeTextAtRange(range)\n    return new this.constructor(\n      document.blockList.editObjectAtIndex(index, (block) =>\n        block.copyWithText(block.text.insertTextAtPosition(text, offset))\n      )\n    )\n  }\n\n  removeTextAtRange(range) {\n    let blocks\n    range = normalizeRange(range)\n    const [ leftPosition, rightPosition ] = range\n    if (rangeIsCollapsed(range)) {\n      return this\n    }\n    const [ leftLocation, rightLocation ] = Array.from(this.locationRangeFromRange(range))\n\n    const leftIndex = leftLocation.index\n    const leftOffset = leftLocation.offset\n    const leftBlock = this.getBlockAtIndex(leftIndex)\n\n    const rightIndex = rightLocation.index\n    const rightOffset = rightLocation.offset\n    const rightBlock = this.getBlockAtIndex(rightIndex)\n\n    const removeRightNewline =\n      rightPosition - leftPosition === 1 &&\n      leftBlock.getBlockBreakPosition() === leftOffset &&\n      rightBlock.getBlockBreakPosition() !== rightOffset &&\n      rightBlock.text.getStringAtPosition(rightOffset) === \"\\n\"\n\n    if (removeRightNewline) {\n      blocks = this.blockList.editObjectAtIndex(rightIndex, (block) =>\n        block.copyWithText(block.text.removeTextAtRange([ rightOffset, rightOffset + 1 ]))\n      )\n    } else {\n      let block\n      const leftText = leftBlock.text.getTextAtRange([ 0, leftOffset ])\n      const rightText = rightBlock.text.getTextAtRange([ rightOffset, rightBlock.getLength() ])\n      const text = leftText.appendText(rightText)\n\n      const removingLeftBlock = leftIndex !== rightIndex && leftOffset === 0\n      const useRightBlock = removingLeftBlock && leftBlock.getAttributeLevel() >= rightBlock.getAttributeLevel()\n\n      if (useRightBlock) {\n        block = rightBlock.copyWithText(text)\n      } else {\n        block = leftBlock.copyWithText(text)\n      }\n\n      const affectedBlockCount = rightIndex + 1 - leftIndex\n      blocks = this.blockList.splice(leftIndex, affectedBlockCount, block)\n    }\n\n    return new this.constructor(blocks)\n  }\n\n  moveTextFromRangeToPosition(range, position) {\n    let text\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    if (startPosition <= position && position <= endPosition) {\n      return this\n    }\n\n    let document = this.getDocumentAtRange(range)\n    let result = this.removeTextAtRange(range)\n\n    const movingRightward = startPosition < position\n    if (movingRightward) {\n      position -= document.getLength()\n    }\n\n    const [ firstBlock, ...blocks ] = document.getBlocks()\n    if (blocks.length === 0) {\n      text = firstBlock.getTextWithoutBlockBreak()\n      if (movingRightward) {\n        position += 1\n      }\n    } else {\n      text = firstBlock.text\n    }\n\n    result = result.insertTextAtRange(text, position)\n    if (blocks.length === 0) {\n      return result\n    }\n\n    document = new this.constructor(blocks)\n    position += text.getLength()\n\n    return result.insertDocumentAtRange(document, position)\n  }\n\n  addAttributeAtRange(attribute, value, range) {\n    let { blockList } = this\n    this.eachBlockAtRange(\n      range,\n      (block, textRange, index) =>\n        blockList = blockList.editObjectAtIndex(index, function() {\n          if (getBlockConfig(attribute)) {\n            return block.addAttribute(attribute, value)\n          } else {\n            if (textRange[0] === textRange[1]) {\n              return block\n            } else {\n              return block.copyWithText(block.text.addAttributeAtRange(attribute, value, textRange))\n            }\n          }\n        })\n    )\n    return new this.constructor(blockList)\n  }\n\n  addAttribute(attribute, value) {\n    let { blockList } = this\n    this.eachBlock(\n      (block, index) => blockList = blockList.editObjectAtIndex(index, () => block.addAttribute(attribute, value))\n    )\n    return new this.constructor(blockList)\n  }\n\n  removeAttributeAtRange(attribute, range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      if (getBlockConfig(attribute)) {\n        blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(attribute))\n      } else if (textRange[0] !== textRange[1]) {\n        blockList = blockList.editObjectAtIndex(index, () =>\n          block.copyWithText(block.text.removeAttributeAtRange(attribute, textRange))\n        )\n      }\n    })\n    return new this.constructor(blockList)\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    const [ startPosition ] = Array.from(range)\n    const { index } = this.locationFromPosition(startPosition)\n    const text = this.getTextAtIndex(index)\n\n    return new this.constructor(\n      this.blockList.editObjectAtIndex(index, (block) =>\n        block.copyWithText(text.updateAttributesForAttachment(attributes, attachment))\n      )\n    )\n  }\n\n  removeAttributeForAttachment(attribute, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    return this.removeAttributeAtRange(attribute, range)\n  }\n\n  setHTMLAttributeAtPosition(position, name, value) {\n    const block = this.getBlockAtPosition(position)\n    const updatedBlock = block.addHTMLAttribute(name, value)\n    return this.replaceBlock(block, updatedBlock)\n  }\n\n  insertBlockBreakAtRange(range) {\n    let blocks\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const { offset } = this.locationFromPosition(startPosition)\n\n    const document = this.removeTextAtRange(range)\n    if (offset === 0) {\n      blocks = [ new Block() ]\n    }\n    return new this.constructor(\n      document.blockList.insertSplittableListAtPosition(new SplittableList(blocks), startPosition)\n    )\n  }\n\n  applyBlockAttributeAtRange(attributeName, value, range) {\n    const expanded = this.expandRangeToLineBreaksAndSplitBlocks(range)\n    let document = expanded.document\n    range = expanded.range\n    const blockConfig = getBlockConfig(attributeName)\n\n    if (blockConfig.listAttribute) {\n      document = document.removeLastListAttributeAtRange(range, { exceptAttributeName: attributeName })\n      const converted = document.convertLineBreaksToBlockBreaksInRange(range)\n      document = converted.document\n      range = converted.range\n    } else if (blockConfig.exclusive) {\n      document = document.removeBlockAttributesAtRange(range)\n    } else if (blockConfig.terminal) {\n      document = document.removeLastTerminalAttributeAtRange(range)\n    } else {\n      document = document.consolidateBlocksAtRange(range)\n    }\n\n    return document.addAttributeAtRange(attributeName, value, range)\n  }\n\n  removeLastListAttributeAtRange(range, options = {}) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      const lastAttributeName = block.getLastAttribute()\n      if (!lastAttributeName) {\n        return\n      }\n      if (!getBlockConfig(lastAttributeName).listAttribute) {\n        return\n      }\n      if (lastAttributeName === options.exceptAttributeName) {\n        return\n      }\n      blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(lastAttributeName))\n    })\n    return new this.constructor(blockList)\n  }\n\n  removeLastTerminalAttributeAtRange(range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      const lastAttributeName = block.getLastAttribute()\n      if (!lastAttributeName) {\n        return\n      }\n      if (!getBlockConfig(lastAttributeName).terminal) {\n        return\n      }\n      blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(lastAttributeName))\n    })\n    return new this.constructor(blockList)\n  }\n\n  removeBlockAttributesAtRange(range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      if (block.hasAttributes()) {\n        blockList = blockList.editObjectAtIndex(index, () => block.copyWithoutAttributes())\n      }\n    })\n    return new this.constructor(blockList)\n  }\n\n  expandRangeToLineBreaksAndSplitBlocks(range) {\n    let position\n    range = normalizeRange(range)\n    let [ startPosition, endPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n    let document = this\n\n    const startBlock = document.getBlockAtIndex(startLocation.index)\n    startLocation.offset = startBlock.findLineBreakInDirectionFromPosition(\"backward\", startLocation.offset)\n    if (startLocation.offset != null) {\n      position = document.positionFromLocation(startLocation)\n      document = document.insertBlockBreakAtRange([ position, position + 1 ])\n      endLocation.index += 1\n      endLocation.offset -= document.getBlockAtIndex(startLocation.index).getLength()\n      startLocation.index += 1\n    }\n    startLocation.offset = 0\n\n    if (endLocation.offset === 0 && endLocation.index > startLocation.index) {\n      endLocation.index -= 1\n      endLocation.offset = document.getBlockAtIndex(endLocation.index).getBlockBreakPosition()\n    } else {\n      const endBlock = document.getBlockAtIndex(endLocation.index)\n      if (endBlock.text.getStringAtRange([ endLocation.offset - 1, endLocation.offset ]) === \"\\n\") {\n        endLocation.offset -= 1\n      } else {\n        endLocation.offset = endBlock.findLineBreakInDirectionFromPosition(\"forward\", endLocation.offset)\n      }\n      if (endLocation.offset !== endBlock.getBlockBreakPosition()) {\n        position = document.positionFromLocation(endLocation)\n        document = document.insertBlockBreakAtRange([ position, position + 1 ])\n      }\n    }\n\n    startPosition = document.positionFromLocation(startLocation)\n    endPosition = document.positionFromLocation(endLocation)\n    range = normalizeRange([ startPosition, endPosition ])\n\n    return { document, range }\n  }\n\n  convertLineBreaksToBlockBreaksInRange(range) {\n    range = normalizeRange(range)\n    let [ position ] = range\n    const string = this.getStringAtRange(range).slice(0, -1)\n    let document = this\n\n    string.replace(/.*?\\n/g, function(match) {\n      position += match.length\n      document = document.insertBlockBreakAtRange([ position - 1, position ])\n    })\n\n    return { document, range }\n  }\n\n  consolidateBlocksAtRange(range) {\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    const startIndex = this.locationFromPosition(startPosition).index\n    const endIndex = this.locationFromPosition(endPosition).index\n    return new this.constructor(this.blockList.consolidateFromIndexToIndex(startIndex, endIndex))\n  }\n\n  getDocumentAtRange(range) {\n    range = normalizeRange(range)\n    const blocks = this.blockList.getSplittableListInRange(range).toArray()\n    return new this.constructor(blocks)\n  }\n\n  getStringAtRange(range) {\n    let endIndex\n    const array = range = normalizeRange(range),\n      endPosition = array[array.length - 1]\n    if (endPosition !== this.getLength()) {\n      endIndex = -1\n    }\n    return this.getDocumentAtRange(range).toString().slice(0, endIndex)\n  }\n\n  getBlockAtIndex(index) {\n    return this.blockList.getObjectAtIndex(index)\n  }\n\n  getBlockAtPosition(position) {\n    const { index } = this.locationFromPosition(position)\n    return this.getBlockAtIndex(index)\n  }\n\n  getTextAtIndex(index) {\n    return this.getBlockAtIndex(index)?.text\n  }\n\n  getTextAtPosition(position) {\n    const { index } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index)\n  }\n\n  getPieceAtPosition(position) {\n    const { index, offset } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index).getPieceAtPosition(offset)\n  }\n\n  getCharacterAtPosition(position) {\n    const { index, offset } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index).getStringAtRange([ offset, offset + 1 ])\n  }\n\n  getLength() {\n    return this.blockList.getEndPosition()\n  }\n\n  getBlocks() {\n    return this.blockList.toArray()\n  }\n\n  getBlockCount() {\n    return this.blockList.length\n  }\n\n  getEditCount() {\n    return this.editCount\n  }\n\n  eachBlock(callback) {\n    return this.blockList.eachObject(callback)\n  }\n\n  eachBlockAtRange(range, callback) {\n    let block, textRange\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n\n    if (startLocation.index === endLocation.index) {\n      block = this.getBlockAtIndex(startLocation.index)\n      textRange = [ startLocation.offset, endLocation.offset ]\n      return callback(block, textRange, startLocation.index)\n    } else {\n      for (let index = startLocation.index; index <= endLocation.index; index++) {\n        block = this.getBlockAtIndex(index)\n        if (block) {\n          switch (index) {\n            case startLocation.index:\n              textRange = [ startLocation.offset, block.text.getLength() ]\n              break\n            case endLocation.index:\n              textRange = [ 0, endLocation.offset ]\n              break\n            default:\n              textRange = [ 0, block.text.getLength() ]\n          }\n          callback(block, textRange, index)\n        }\n      }\n    }\n  }\n\n  getCommonAttributesAtRange(range) {\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    if (rangeIsCollapsed(range)) {\n      return this.getCommonAttributesAtPosition(startPosition)\n    } else {\n      const textAttributes = []\n      const blockAttributes = []\n\n      this.eachBlockAtRange(range, function(block, textRange) {\n        if (textRange[0] !== textRange[1]) {\n          textAttributes.push(block.text.getCommonAttributesAtRange(textRange))\n          return blockAttributes.push(attributesForBlock(block))\n        }\n      })\n\n      return Hash.fromCommonAttributesOfObjects(textAttributes)\n        .merge(Hash.fromCommonAttributesOfObjects(blockAttributes))\n        .toObject()\n    }\n  }\n\n  getCommonAttributesAtPosition(position) {\n    let key, value\n    const { index, offset } = this.locationFromPosition(position)\n    const block = this.getBlockAtIndex(index)\n    if (!block) {\n      return {}\n    }\n\n    const commonAttributes = attributesForBlock(block)\n    const attributes = block.text.getAttributesAtPosition(offset)\n    const attributesLeft = block.text.getAttributesAtPosition(offset - 1)\n    const inheritableAttributes = Object.keys(config.textAttributes).filter((key) => {\n      return config.textAttributes[key].inheritable\n    })\n\n    for (key in attributesLeft) {\n      value = attributesLeft[key]\n      if (value === attributes[key] || inheritableAttributes.includes(key)) {\n        commonAttributes[key] = value\n      }\n    }\n\n    return commonAttributes\n  }\n\n  getRangeOfCommonAttributeAtPosition(attributeName, position) {\n    const { index, offset } = this.locationFromPosition(position)\n    const text = this.getTextAtIndex(index)\n    const [ startOffset, endOffset ] = Array.from(text.getExpandedRangeForAttributeAtOffset(attributeName, offset))\n\n    const start = this.positionFromLocation({ index, offset: startOffset })\n    const end = this.positionFromLocation({ index, offset: endOffset })\n    return normalizeRange([ start, end ])\n  }\n\n  getBaseBlockAttributes() {\n    let baseBlockAttributes = this.getBlockAtIndex(0).getAttributes()\n\n    for (let blockIndex = 1; blockIndex < this.getBlockCount(); blockIndex++) {\n      const blockAttributes = this.getBlockAtIndex(blockIndex).getAttributes()\n      const lastAttributeIndex = Math.min(baseBlockAttributes.length, blockAttributes.length)\n\n      baseBlockAttributes = (() => {\n        const result = []\n        for (let index = 0; index < lastAttributeIndex; index++) {\n          if (blockAttributes[index] !== baseBlockAttributes[index]) {\n            break\n          }\n          result.push(blockAttributes[index])\n        }\n        return result\n      })()\n    }\n\n    return baseBlockAttributes\n  }\n\n  getAttachmentById(attachmentId) {\n    for (const attachment of this.getAttachments()) {\n      if (attachment.id === attachmentId) {\n        return attachment\n      }\n    }\n  }\n\n  getAttachmentPieces() {\n    let attachmentPieces = []\n    this.blockList.eachObject(({ text }) => attachmentPieces = attachmentPieces.concat(text.getAttachmentPieces()))\n    return attachmentPieces\n  }\n\n  getAttachments() {\n    return this.getAttachmentPieces().map((piece) => piece.attachment)\n  }\n\n  getRangeOfAttachment(attachment) {\n    let position = 0\n    const iterable = this.blockList.toArray()\n    for (let index = 0; index < iterable.length; index++) {\n      const { text } = iterable[index]\n      const textRange = text.getRangeOfAttachment(attachment)\n      if (textRange) {\n        return normalizeRange([ position + textRange[0], position + textRange[1] ])\n      }\n      position += text.getLength()\n    }\n  }\n\n  getLocationRangeOfAttachment(attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    return this.locationRangeFromRange(range)\n  }\n\n  getAttachmentPieceForAttachment(attachment) {\n    for (const piece of this.getAttachmentPieces()) {\n      if (piece.attachment === attachment) {\n        return piece\n      }\n    }\n  }\n\n  findRangesForBlockAttribute(attributeName) {\n    let position = 0\n    const ranges = []\n\n    this.getBlocks().forEach((block) => {\n      const length = block.getLength()\n      if (block.hasAttribute(attributeName)) {\n        ranges.push([ position, position + length ])\n      }\n      position += length\n    })\n\n    return ranges\n  }\n\n  findRangesForTextAttribute(attributeName, { withValue } = {}) {\n    let position = 0\n    let range = []\n    const ranges = []\n\n    const match = function(piece) {\n      if (withValue) {\n        return piece.getAttribute(attributeName) === withValue\n      } else {\n        return piece.hasAttribute(attributeName)\n      }\n    }\n\n    this.getPieces().forEach((piece) => {\n      const length = piece.getLength()\n      if (match(piece)) {\n        if (range[1] === position) {\n          range[1] = position + length\n        } else {\n          ranges.push(range = [ position, position + length ])\n        }\n      }\n      position += length\n    })\n\n    return ranges\n  }\n\n  locationFromPosition(position) {\n    const location = this.blockList.findIndexAndOffsetAtPosition(Math.max(0, position))\n    if (location.index != null) {\n      return location\n    } else {\n      const blocks = this.getBlocks()\n      return { index: blocks.length - 1, offset: blocks[blocks.length - 1].getLength() }\n    }\n  }\n\n  positionFromLocation(location) {\n    return this.blockList.findPositionAtIndexAndOffset(location.index, location.offset)\n  }\n\n  locationRangeFromPosition(position) {\n    return normalizeRange(this.locationFromPosition(position))\n  }\n\n  locationRangeFromRange(range) {\n    range = normalizeRange(range)\n    if (!range) return\n\n    const [ startPosition, endPosition ] = Array.from(range)\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n    return normalizeRange([ startLocation, endLocation ])\n  }\n\n  rangeFromLocationRange(locationRange) {\n    let rightPosition\n    locationRange = normalizeRange(locationRange)\n    const leftPosition = this.positionFromLocation(locationRange[0])\n    if (!rangeIsCollapsed(locationRange)) {\n      rightPosition = this.positionFromLocation(locationRange[1])\n    }\n    return normalizeRange([ leftPosition, rightPosition ])\n  }\n\n  isEqualTo(document) {\n    return this.blockList.isEqualTo(document?.blockList)\n  }\n\n  getTexts() {\n    return this.getBlocks().map((block) => block.text)\n  }\n\n  getPieces() {\n    const pieces = []\n\n    Array.from(this.getTexts()).forEach((text) => {\n      pieces.push(...Array.from(text.getPieces() || []))\n    })\n\n    return pieces\n  }\n\n  getObjects() {\n    return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())\n  }\n\n  toSerializableDocument() {\n    const blocks = []\n    this.blockList.eachObject((block) => blocks.push(block.copyWithText(block.text.toSerializableText())))\n    return new this.constructor(blocks)\n  }\n\n  toString() {\n    return this.blockList.toString()\n  }\n\n  toJSON() {\n    return this.blockList.toJSON()\n  }\n\n  toConsole() {\n    return JSON.stringify(this.blockList.toArray().map((block) => JSON.parse(block.text.toConsole())))\n  }\n}\n\nconst attributesForBlock = function(block) {\n  const attributes = {}\n  const attributeName = block.getLastAttribute()\n  if (attributeName) {\n    attributes[attributeName] = true\n  }\n  return attributes\n}\n","/* eslint-disable\n    no-case-declarations,\n    no-irregular-whitespace,\n*/\nimport * as config from \"trix/config\"\nimport BasicObject from \"trix/core/basic_object\"\nimport Document from \"trix/models/document\"\nimport HTMLSanitizer from \"trix/models/html_sanitizer\"\n\nimport {\n  arraysAreEqual,\n  breakableWhitespacePattern,\n  elementContainsNode,\n  findClosestElementFromNode,\n  getBlockTagNames,\n  makeElement,\n  nodeIsAttachmentElement,\n  normalizeSpaces,\n  removeNode,\n  squishBreakableWhitespace,\n  tagName,\n  walkTree,\n} from \"trix/core/helpers\"\n\nconst pieceForString = (string, attributes = {}) => {\n  const type = \"string\"\n  string = normalizeSpaces(string)\n  return { string, attributes, type }\n}\n\nconst pieceForAttachment = (attachment, attributes = {}) => {\n  const type = \"attachment\"\n  return { attachment, attributes, type }\n}\n\nconst blockForAttributes = (attributes = {}, htmlAttributes = {}) => {\n  const text = []\n  return { text, attributes, htmlAttributes }\n}\n\nconst parseTrixDataAttribute = (element, name) => {\n  try {\n    return JSON.parse(element.getAttribute(`data-trix-${name}`))\n  } catch (error) {\n    return {}\n  }\n}\n\nconst getImageDimensions = (element) => {\n  const width = element.getAttribute(\"width\")\n  const height = element.getAttribute(\"height\")\n  const dimensions = {}\n  if (width) {\n    dimensions.width = parseInt(width, 10)\n  }\n  if (height) {\n    dimensions.height = parseInt(height, 10)\n  }\n  return dimensions\n}\n\nexport default class HTMLParser extends BasicObject {\n  static parse(html, options) {\n    const parser = new this(html, options)\n    parser.parse()\n    return parser\n  }\n\n  constructor(html, { referenceElement, purifyOptions } = {}) {\n    super(...arguments)\n    this.html = html\n    this.referenceElement = referenceElement\n    this.purifyOptions = purifyOptions\n    this.blocks = []\n    this.blockElements = []\n    this.processedElements = []\n  }\n\n  getDocument() {\n    return Document.fromJSON(this.blocks)\n  }\n\n  // HTML parsing\n\n  parse() {\n    try {\n      this.createHiddenContainer()\n      HTMLSanitizer.setHTML(this.containerElement, this.html, { purifyOptions: this.purifyOptions })\n      const walker = walkTree(this.containerElement, { usingFilter: nodeFilter })\n      while (walker.nextNode()) {\n        this.processNode(walker.currentNode)\n      }\n      return this.translateBlockElementMarginsToNewlines()\n    } finally {\n      this.removeHiddenContainer()\n    }\n  }\n\n  createHiddenContainer() {\n    if (this.referenceElement) {\n      this.containerElement = this.referenceElement.cloneNode(false)\n      this.containerElement.removeAttribute(\"id\")\n      this.containerElement.setAttribute(\"data-trix-internal\", \"\")\n      this.containerElement.style.display = \"none\"\n      return this.referenceElement.parentNode.insertBefore(this.containerElement, this.referenceElement.nextSibling)\n    } else {\n      this.containerElement = makeElement({ tagName: \"div\", style: { display: \"none\" } })\n      return document.body.appendChild(this.containerElement)\n    }\n  }\n\n  removeHiddenContainer() {\n    return removeNode(this.containerElement)\n  }\n\n  processNode(node) {\n    switch (node.nodeType) {\n      case Node.TEXT_NODE:\n        if (!this.isInsignificantTextNode(node)) {\n          this.appendBlockForTextNode(node)\n          return this.processTextNode(node)\n        }\n        break\n      case Node.ELEMENT_NODE:\n        this.appendBlockForElement(node)\n        return this.processElement(node)\n    }\n  }\n\n  appendBlockForTextNode(node) {\n    const element = node.parentNode\n    if (element === this.currentBlockElement && this.isBlockElement(node.previousSibling)) {\n      return this.appendStringWithAttributes(\"\\n\")\n    } else if (element === this.containerElement || this.isBlockElement(element)) {\n      const attributes = this.getBlockAttributes(element)\n      const htmlAttributes = this.getBlockHTMLAttributes(element)\n      if (!arraysAreEqual(attributes, this.currentBlock?.attributes)) {\n        this.currentBlock = this.appendBlockForAttributesWithElement(attributes, element, htmlAttributes)\n        this.currentBlockElement = element\n      }\n    }\n  }\n\n  appendBlockForElement(element) {\n    const elementIsBlockElement = this.isBlockElement(element)\n    const currentBlockContainsElement = elementContainsNode(this.currentBlockElement, element)\n\n    if (elementIsBlockElement && !this.isBlockElement(element.firstChild)) {\n      if (!this.isInsignificantTextNode(element.firstChild) || !this.isBlockElement(element.firstElementChild)) {\n        const attributes = this.getBlockAttributes(element)\n        const htmlAttributes = this.getBlockHTMLAttributes(element)\n        if (element.firstChild) {\n          if (!(currentBlockContainsElement && arraysAreEqual(attributes, this.currentBlock.attributes))) {\n            this.currentBlock = this.appendBlockForAttributesWithElement(attributes, element, htmlAttributes)\n            this.currentBlockElement = element\n          } else {\n            return this.appendStringWithAttributes(\"\\n\")\n          }\n        }\n      }\n    } else if (this.currentBlockElement && !currentBlockContainsElement && !elementIsBlockElement) {\n      const parentBlockElement = this.findParentBlockElement(element)\n      if (parentBlockElement) {\n        return this.appendBlockForElement(parentBlockElement)\n      } else {\n        this.currentBlock = this.appendEmptyBlock()\n        this.currentBlockElement = null\n      }\n    }\n  }\n\n  findParentBlockElement(element) {\n    let { parentElement } = element\n    while (parentElement && parentElement !== this.containerElement) {\n      if (this.isBlockElement(parentElement) && this.blockElements.includes(parentElement)) {\n        return parentElement\n      } else {\n        parentElement = parentElement.parentElement\n      }\n    }\n    return null\n  }\n\n  processTextNode(node) {\n    let string = node.data\n    if (!elementCanDisplayPreformattedText(node.parentNode)) {\n      string = squishBreakableWhitespace(string)\n      if (stringEndsWithWhitespace(node.previousSibling?.textContent)) {\n        string = leftTrimBreakableWhitespace(string)\n      }\n    }\n    return this.appendStringWithAttributes(string, this.getTextAttributes(node.parentNode))\n  }\n\n  processElement(element) {\n    let attributes\n    if (nodeIsAttachmentElement(element)) {\n      attributes = parseTrixDataAttribute(element, \"attachment\")\n      if (Object.keys(attributes).length) {\n        const textAttributes = this.getTextAttributes(element)\n        this.appendAttachmentWithAttributes(attributes, textAttributes)\n        // We have everything we need so avoid processing inner nodes\n        element.innerHTML = \"\"\n      }\n      return this.processedElements.push(element)\n    } else {\n      switch (tagName(element)) {\n        case \"br\":\n          if (!this.isExtraBR(element) && !this.isBlockElement(element.nextSibling)) {\n            this.appendStringWithAttributes(\"\\n\", this.getTextAttributes(element))\n          }\n          return this.processedElements.push(element)\n        case \"img\":\n          attributes = { url: element.getAttribute(\"src\"), contentType: \"image\" }\n          const object = getImageDimensions(element)\n          for (const key in object) {\n            const value = object[key]\n            attributes[key] = value\n          }\n          this.appendAttachmentWithAttributes(attributes, this.getTextAttributes(element))\n          return this.processedElements.push(element)\n        case \"tr\":\n          if (this.needsTableSeparator(element)) {\n            return this.appendStringWithAttributes(config.parser.tableRowSeparator)\n          }\n          break\n        case \"td\":\n          if (this.needsTableSeparator(element)) {\n            return this.appendStringWithAttributes(config.parser.tableCellSeparator)\n          }\n          break\n      }\n    }\n  }\n\n  // Document construction\n\n  appendBlockForAttributesWithElement(attributes, element, htmlAttributes = {}) {\n    this.blockElements.push(element)\n    const block = blockForAttributes(attributes, htmlAttributes)\n    this.blocks.push(block)\n    return block\n  }\n\n  appendEmptyBlock() {\n    return this.appendBlockForAttributesWithElement([], null)\n  }\n\n  appendStringWithAttributes(string, attributes) {\n    return this.appendPiece(pieceForString(string, attributes))\n  }\n\n  appendAttachmentWithAttributes(attachment, attributes) {\n    return this.appendPiece(pieceForAttachment(attachment, attributes))\n  }\n\n  appendPiece(piece) {\n    if (this.blocks.length === 0) {\n      this.appendEmptyBlock()\n    }\n    return this.blocks[this.blocks.length - 1].text.push(piece)\n  }\n\n  appendStringToTextAtIndex(string, index) {\n    const { text } = this.blocks[index]\n    const piece = text[text.length - 1]\n\n    if (piece?.type === \"string\") {\n      piece.string += string\n    } else {\n      return text.push(pieceForString(string))\n    }\n  }\n\n  prependStringToTextAtIndex(string, index) {\n    const { text } = this.blocks[index]\n    const piece = text[0]\n\n    if (piece?.type === \"string\") {\n      piece.string = string + piece.string\n    } else {\n      return text.unshift(pieceForString(string))\n    }\n  }\n\n  // Attribute parsing\n\n  getTextAttributes(element) {\n    let value\n    const attributes = {}\n    for (const attribute in config.textAttributes) {\n      const configAttr = config.textAttributes[attribute]\n      if (\n        configAttr.tagName &&\n        findClosestElementFromNode(element, {\n          matchingSelector: configAttr.tagName,\n          untilNode: this.containerElement,\n        })\n      ) {\n        attributes[attribute] = true\n      } else if (configAttr.parser) {\n        value = configAttr.parser(element)\n        if (value) {\n          let attributeInheritedFromBlock = false\n          for (const blockElement of this.findBlockElementAncestors(element)) {\n            if (configAttr.parser(blockElement) === value) {\n              attributeInheritedFromBlock = true\n              break\n            }\n          }\n          if (!attributeInheritedFromBlock) {\n            attributes[attribute] = value\n          }\n        }\n      } else if (configAttr.styleProperty) {\n        value = element.style[configAttr.styleProperty]\n        if (value) {\n          attributes[attribute] = value\n        }\n      }\n    }\n\n    if (nodeIsAttachmentElement(element)) {\n      const object = parseTrixDataAttribute(element, \"attributes\")\n      for (const key in object) {\n        value = object[key]\n        attributes[key] = value\n      }\n    }\n\n    return attributes\n  }\n\n  getBlockAttributes(element) {\n    const attributes = []\n    while (element && element !== this.containerElement) {\n      for (const attribute in config.blockAttributes) {\n        const attrConfig = config.blockAttributes[attribute]\n        if (attrConfig.parse !== false) {\n          if (tagName(element) === attrConfig.tagName) {\n            if (attrConfig.test?.(element) || !attrConfig.test) {\n              attributes.push(attribute)\n              if (attrConfig.listAttribute) {\n                attributes.push(attrConfig.listAttribute)\n              }\n            }\n          }\n        }\n      }\n      element = element.parentNode\n    }\n    return attributes.reverse()\n  }\n\n  getBlockHTMLAttributes(element) {\n    const attributes = {}\n    const blockConfig = Object.values(config.blockAttributes).find(settings => settings.tagName === tagName(element))\n    const allowedAttributes = blockConfig?.htmlAttributes || []\n\n    allowedAttributes.forEach((attribute) => {\n      if (element.hasAttribute(attribute)) {\n        attributes[attribute] = element.getAttribute(attribute)\n      }\n    })\n\n    return attributes\n  }\n\n  findBlockElementAncestors(element) {\n    const ancestors = []\n    while (element && element !== this.containerElement) {\n      const tag = tagName(element)\n      if (getBlockTagNames().includes(tag)) {\n        ancestors.push(element)\n      }\n      element = element.parentNode\n    }\n    return ancestors\n  }\n\n  // Element inspection\n\n  isBlockElement(element) {\n    if (element?.nodeType !== Node.ELEMENT_NODE) return\n    if (nodeIsAttachmentElement(element)) return\n    if (findClosestElementFromNode(element, { matchingSelector: \"td\", untilNode: this.containerElement })) return\n\n    return getBlockTagNames().includes(tagName(element)) ||\n      window.getComputedStyle(element).display === \"block\"\n  }\n\n  isInsignificantTextNode(node) {\n    if (node?.nodeType !== Node.TEXT_NODE) return\n    if (!stringIsAllBreakableWhitespace(node.data)) return\n    const { parentNode, previousSibling, nextSibling } = node\n    if (nodeEndsWithNonWhitespace(parentNode.previousSibling) && !this.isBlockElement(parentNode.previousSibling)) return\n    if (elementCanDisplayPreformattedText(parentNode)) return\n    return !previousSibling || this.isBlockElement(previousSibling) || !nextSibling || this.isBlockElement(nextSibling)\n  }\n\n  isExtraBR(element) {\n    return tagName(element) === \"br\" && this.isBlockElement(element.parentNode) && element.parentNode.lastChild === element\n  }\n\n  needsTableSeparator(element) {\n    if (config.parser.removeBlankTableCells) {\n      const content = element.previousSibling?.textContent\n      return content && /\\S/.test(content)\n    } else {\n      return element.previousSibling\n    }\n  }\n\n  // Margin translation\n\n  translateBlockElementMarginsToNewlines() {\n    const defaultMargin = this.getMarginOfDefaultBlockElement()\n\n    for (let index = 0; index < this.blocks.length; index++) {\n      const margin = this.getMarginOfBlockElementAtIndex(index)\n      if (margin) {\n        if (margin.top > defaultMargin.top * 2) {\n          this.prependStringToTextAtIndex(\"\\n\", index)\n        }\n\n        if (margin.bottom > defaultMargin.bottom * 2) {\n          this.appendStringToTextAtIndex(\"\\n\", index)\n        }\n      }\n    }\n  }\n\n  getMarginOfBlockElementAtIndex(index) {\n    const element = this.blockElements[index]\n    if (element) {\n      if (element.textContent) {\n        if (!getBlockTagNames().includes(tagName(element)) && !this.processedElements.includes(element)) {\n          return getBlockElementMargin(element)\n        }\n      }\n    }\n  }\n\n  getMarginOfDefaultBlockElement() {\n    const element = makeElement(config.blockAttributes.default.tagName)\n    this.containerElement.appendChild(element)\n    return getBlockElementMargin(element)\n  }\n}\n\n// Helpers\n\nconst elementCanDisplayPreformattedText = function(element) {\n  const { whiteSpace } = window.getComputedStyle(element)\n  return [ \"pre\", \"pre-wrap\", \"pre-line\" ].includes(whiteSpace)\n}\n\nconst nodeEndsWithNonWhitespace = (node) => node && !stringEndsWithWhitespace(node.textContent)\n\nconst getBlockElementMargin = function(element) {\n  const style = window.getComputedStyle(element)\n  if (style.display === \"block\") {\n    return { top: parseInt(style.marginTop), bottom: parseInt(style.marginBottom) }\n  }\n}\n\nconst nodeFilter = function(node) {\n  if (tagName(node) === \"style\") {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n\n// Whitespace\n\nconst leftTrimBreakableWhitespace = (string) => string.replace(new RegExp(`^${breakableWhitespacePattern.source}+`), \"\")\n\nconst stringIsAllBreakableWhitespace = (string) => new RegExp(`^${breakableWhitespacePattern.source}*$`).test(string)\n\nconst stringEndsWithWhitespace = (string) => /\\s$/.test(string)\n","/* eslint-disable\n    no-empty,\n*/\nimport { removeNode } from \"trix/core/helpers\"\n\nimport DocumentView from \"trix/views/document_view\"\nimport Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\n\nconst unserializableElementSelector = \"[data-trix-serialize=false]\"\nconst unserializableAttributeNames = [\n  \"contenteditable\",\n  \"data-trix-id\",\n  \"data-trix-store-key\",\n  \"data-trix-mutable\",\n  \"data-trix-placeholder\",\n  \"tabindex\",\n]\nconst serializedAttributesAttribute = \"data-trix-serialized-attributes\"\nconst serializedAttributesSelector = `[${serializedAttributesAttribute}]`\n\nconst blockCommentPattern = new RegExp(\"<!--block-->\", \"g\")\n\nconst serializers = {\n  \"application/json\": function(serializable) {\n    let document\n    if (serializable instanceof Document) {\n      document = serializable\n    } else if (serializable instanceof HTMLElement) {\n      document = HTMLParser.parse(serializable.innerHTML).getDocument()\n    } else {\n      throw new Error(\"unserializable object\")\n    }\n\n    return document.toSerializableDocument().toJSONString()\n  },\n\n  \"text/html\": function(serializable) {\n    let element\n    if (serializable instanceof Document) {\n      element = DocumentView.render(serializable)\n    } else if (serializable instanceof HTMLElement) {\n      element = serializable.cloneNode(true)\n    } else {\n      throw new Error(\"unserializable object\")\n    }\n\n    // Remove unserializable elements\n    Array.from(element.querySelectorAll(unserializableElementSelector)).forEach((el) => {\n      removeNode(el)\n    })\n\n    // Remove unserializable attributes\n    unserializableAttributeNames.forEach((attribute) => {\n      Array.from(element.querySelectorAll(`[${attribute}]`)).forEach((el) => {\n        el.removeAttribute(attribute)\n      })\n    })\n\n    // Rewrite elements with serialized attribute overrides\n    Array.from(element.querySelectorAll(serializedAttributesSelector)).forEach((el) => {\n      try {\n        const attributes = JSON.parse(el.getAttribute(serializedAttributesAttribute))\n        el.removeAttribute(serializedAttributesAttribute)\n        for (const name in attributes) {\n          const value = attributes[name]\n          el.setAttribute(name, value)\n        }\n      } catch (error) {}\n    })\n\n    return element.innerHTML.replace(blockCommentPattern, \"\")\n  },\n}\n\nconst deserializers = {\n  \"application/json\": function(string) {\n    return Document.fromJSONString(string)\n  },\n\n  \"text/html\": function(string) {\n    return HTMLParser.parse(string).getDocument()\n  },\n}\n\nexport const serializeToContentType = function(serializable, contentType) {\n  const serializer = serializers[contentType]\n  if (serializer) {\n    return serializer(serializable)\n  } else {\n    throw new Error(`unknown content type: ${contentType}`)\n  }\n}\n\nexport const deserializeFromContentType = function(string, contentType) {\n  const deserializer = deserializers[contentType]\n  if (deserializer) {\n    return deserializer(string)\n  } else {\n    throw new Error(`unknown content type: ${contentType}`)\n  }\n}\n","import \"trix/models/attachment\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class ManagedAttachment extends BasicObject {\n  constructor(attachmentManager, attachment) {\n    super(...arguments)\n    this.attachmentManager = attachmentManager\n    this.attachment = attachment\n    this.id = this.attachment.id\n    this.file = this.attachment.file\n  }\n\n  remove() {\n    return this.attachmentManager.requestRemovalOfAttachment(this.attachment)\n  }\n}\n\nManagedAttachment.proxyMethod(\"attachment.getAttribute\")\nManagedAttachment.proxyMethod(\"attachment.hasAttribute\")\nManagedAttachment.proxyMethod(\"attachment.setAttribute\")\nManagedAttachment.proxyMethod(\"attachment.getAttributes\")\nManagedAttachment.proxyMethod(\"attachment.setAttributes\")\nManagedAttachment.proxyMethod(\"attachment.isPending\")\nManagedAttachment.proxyMethod(\"attachment.isPreviewable\")\nManagedAttachment.proxyMethod(\"attachment.getURL\")\nManagedAttachment.proxyMethod(\"attachment.getPreviewURL\")\nManagedAttachment.proxyMethod(\"attachment.setPreviewURL\")\nManagedAttachment.proxyMethod(\"attachment.getHref\")\nManagedAttachment.proxyMethod(\"attachment.getFilename\")\nManagedAttachment.proxyMethod(\"attachment.getFilesize\")\nManagedAttachment.proxyMethod(\"attachment.getFormattedFilesize\")\nManagedAttachment.proxyMethod(\"attachment.getExtension\")\nManagedAttachment.proxyMethod(\"attachment.getContentType\")\nManagedAttachment.proxyMethod(\"attachment.getFile\")\nManagedAttachment.proxyMethod(\"attachment.setFile\")\nManagedAttachment.proxyMethod(\"attachment.releaseFile\")\nManagedAttachment.proxyMethod(\"attachment.getUploadProgress\")\nManagedAttachment.proxyMethod(\"attachment.setUploadProgress\")\n\n","import ManagedAttachment from \"trix/models/managed_attachment\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class AttachmentManager extends BasicObject {\n  constructor(attachments = []) {\n    super(...arguments)\n    this.managedAttachments = {}\n    Array.from(attachments).forEach((attachment) => {\n      this.manageAttachment(attachment)\n    })\n  }\n\n  getAttachments() {\n    const result = []\n    for (const id in this.managedAttachments) {\n      const attachment = this.managedAttachments[id]\n      result.push(attachment)\n    }\n    return result\n  }\n\n  manageAttachment(attachment) {\n    if (!this.managedAttachments[attachment.id]) {\n      this.managedAttachments[attachment.id] = new ManagedAttachment(this, attachment)\n    }\n    return this.managedAttachments[attachment.id]\n  }\n\n  attachmentIsManaged(attachment) {\n    return attachment.id in this.managedAttachments\n  }\n\n  requestRemovalOfAttachment(attachment) {\n    if (this.attachmentIsManaged(attachment)) {\n      return this.delegate?.attachmentManagerDidRequestRemovalOfAttachment?.(attachment)\n    }\n  }\n\n  unmanageAttachment(attachment) {\n    const managedAttachment = this.managedAttachments[attachment.id]\n    delete this.managedAttachments[attachment.id]\n    return managedAttachment\n  }\n}\n","export default class LineBreakInsertion {\n  constructor(composition) {\n    this.composition = composition\n    this.document = this.composition.document\n    const selectedRange = this.composition.getSelectedRange()\n    this.startPosition = selectedRange[0]\n    this.endPosition = selectedRange[1]\n\n    this.startLocation = this.document.locationFromPosition(this.startPosition)\n    this.endLocation = this.document.locationFromPosition(this.endPosition)\n\n    this.block = this.document.getBlockAtIndex(this.endLocation.index)\n    this.breaksOnReturn = this.block.breaksOnReturn()\n    this.previousCharacter = this.block.text.getStringAtPosition(this.endLocation.offset - 1)\n    this.nextCharacter = this.block.text.getStringAtPosition(this.endLocation.offset)\n  }\n\n  shouldInsertBlockBreak() {\n    if (this.block.hasAttributes() && this.block.isListItem() && !this.block.isEmpty()) {\n      return this.startLocation.offset !== 0\n    } else {\n      return this.breaksOnReturn && this.nextCharacter !== \"\\n\"\n    }\n  }\n\n  shouldBreakFormattedBlock() {\n    return (\n      this.block.hasAttributes() &&\n      !this.block.isListItem() &&\n      (this.breaksOnReturn && this.nextCharacter === \"\\n\" || this.previousCharacter === \"\\n\")\n    )\n  }\n\n  shouldDecreaseListLevel() {\n    return this.block.hasAttributes() && this.block.isListItem() && this.block.isEmpty()\n  }\n\n  shouldPrependListItem() {\n    return this.block.isListItem() && this.startLocation.offset === 0 && !this.block.isEmpty()\n  }\n\n  shouldRemoveLastBlockAttribute() {\n    return this.block.hasAttributes() && !this.block.isListItem() && this.block.isEmpty()\n  }\n}\n","import * as config from \"trix/config\"\nimport { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport BasicObject from \"trix/core/basic_object\"\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport Attachment from \"trix/models/attachment\"\nimport Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\nimport LineBreakInsertion from \"trix/models/line_break_insertion\"\n\nimport {\n  arrayStartsWith,\n  extend,\n  getAllAttributeNames,\n  getBlockConfig,\n  getTextConfig,\n  normalizeRange,\n  objectsAreEqual,\n  rangeIsCollapsed,\n  rangesAreEqual,\n  summarizeArrayChange,\n} from \"trix/core/helpers\"\n\nconst PLACEHOLDER = \" \"\n\nexport default class Composition extends BasicObject {\n  constructor() {\n    super(...arguments)\n    this.document = new Document()\n    this.attachments = []\n    this.currentAttributes = {}\n    this.revision = 0\n  }\n\n  setDocument(document) {\n    if (!document.isEqualTo(this.document)) {\n      this.document = document\n      this.refreshAttachments()\n      this.revision++\n      return this.delegate?.compositionDidChangeDocument?.(document)\n    }\n  }\n\n  // Snapshots\n\n  getSnapshot() {\n    return {\n      document: this.document,\n      selectedRange: this.getSelectedRange(),\n    }\n  }\n\n  loadSnapshot({ document, selectedRange }) {\n    this.delegate?.compositionWillLoadSnapshot?.()\n    this.setDocument(document != null ? document : new Document())\n    this.setSelection(selectedRange != null ? selectedRange : [ 0, 0 ])\n    return this.delegate?.compositionDidLoadSnapshot?.()\n  }\n\n  // Responder protocol\n\n  insertText(text, { updatePosition } = { updatePosition: true }) {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertTextAtRange(text, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + text.getLength()\n\n    if (updatePosition) {\n      this.setSelection(endPosition)\n    }\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertBlock(block = new Block()) {\n    const document = new Document([ block ])\n    return this.insertDocument(document)\n  }\n\n  insertDocument(document = new Document()) {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertDocumentAtRange(document, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + document.getLength()\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertString(string, options) {\n    const attributes = this.getCurrentTextAttributes()\n    const text = Text.textForStringWithAttributes(string, attributes)\n    return this.insertText(text, options)\n  }\n\n  insertBlockBreak() {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertBlockBreakAtRange(selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + 1\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertLineBreak() {\n    const insertion = new LineBreakInsertion(this)\n\n    if (insertion.shouldDecreaseListLevel()) {\n      this.decreaseListLevel()\n      return this.setSelection(insertion.startPosition)\n    } else if (insertion.shouldPrependListItem()) {\n      const document = new Document([ insertion.block.copyWithoutText() ])\n      return this.insertDocument(document)\n    } else if (insertion.shouldInsertBlockBreak()) {\n      return this.insertBlockBreak()\n    } else if (insertion.shouldRemoveLastBlockAttribute()) {\n      return this.removeLastBlockAttribute()\n    } else if (insertion.shouldBreakFormattedBlock()) {\n      return this.breakFormattedBlock(insertion)\n    } else {\n      return this.insertString(\"\\n\")\n    }\n  }\n\n  insertHTML(html) {\n    const document = HTMLParser.parse(html, { purifyOptions: { SAFE_FOR_XML: true } }).getDocument()\n    const selectedRange = this.getSelectedRange()\n\n    this.setDocument(this.document.mergeDocumentAtRange(document, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + document.getLength() - 1\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  replaceHTML(html) {\n    const document = HTMLParser.parse(html).getDocument().copyUsingObjectsFromDocument(this.document)\n    const locationRange = this.getLocationRange({ strict: false })\n    const selectedRange = this.document.rangeFromLocationRange(locationRange)\n    this.setDocument(document)\n    return this.setSelection(selectedRange)\n  }\n\n  insertFile(file) {\n    return this.insertFiles([ file ])\n  }\n\n  insertFiles(files) {\n    const attachments = []\n\n    Array.from(files).forEach((file) => {\n      if (this.delegate?.compositionShouldAcceptFile(file)) {\n        const attachment = Attachment.attachmentForFile(file)\n        attachments.push(attachment)\n      }\n    })\n\n    return this.insertAttachments(attachments)\n  }\n\n  insertAttachment(attachment) {\n    return this.insertAttachments([ attachment ])\n  }\n\n  insertAttachments(attachments) {\n    let text = new Text()\n\n    Array.from(attachments).forEach((attachment) => {\n      const type = attachment.getType()\n      const presentation = config.attachments[type]?.presentation\n\n      const attributes = this.getCurrentTextAttributes()\n      if (presentation) {\n        attributes.presentation = presentation\n      }\n\n      const attachmentText = Text.textForAttachmentWithAttributes(attachment, attributes)\n      text = text.appendText(attachmentText)\n    })\n\n    return this.insertText(text)\n  }\n\n  shouldManageDeletingInDirection(direction) {\n    const locationRange = this.getLocationRange()\n    if (rangeIsCollapsed(locationRange)) {\n      if (direction === \"backward\" && locationRange[0].offset === 0) {\n        return true\n      }\n      if (this.shouldManageMovingCursorInDirection(direction)) {\n        return true\n      }\n    } else {\n      if (locationRange[0].index !== locationRange[1].index) {\n        return true\n      }\n    }\n    return false\n  }\n\n  deleteInDirection(direction, { length } = {}) {\n    let attachment, deletingIntoPreviousBlock, selectionSpansBlocks\n    const locationRange = this.getLocationRange()\n    let range = this.getSelectedRange()\n    const selectionIsCollapsed = rangeIsCollapsed(range)\n\n    if (selectionIsCollapsed) {\n      deletingIntoPreviousBlock = direction === \"backward\" && locationRange[0].offset === 0\n    } else {\n      selectionSpansBlocks = locationRange[0].index !== locationRange[1].index\n    }\n\n    if (deletingIntoPreviousBlock) {\n      if (this.canDecreaseBlockAttributeLevel()) {\n        const block = this.getBlock()\n\n        if (block.isListItem()) {\n          this.decreaseListLevel()\n        } else {\n          this.decreaseBlockAttributeLevel()\n        }\n\n        this.setSelection(range[0])\n        if (block.isEmpty()) {\n          return false\n        }\n      }\n    }\n\n    if (selectionIsCollapsed) {\n      range = this.getExpandedRangeInDirection(direction, { length })\n      if (direction === \"backward\") {\n        attachment = this.getAttachmentAtRange(range)\n      }\n    }\n\n    if (attachment) {\n      this.editAttachment(attachment)\n      return false\n    } else {\n      this.setDocument(this.document.removeTextAtRange(range))\n      this.setSelection(range[0])\n      if (deletingIntoPreviousBlock || selectionSpansBlocks) {\n        return false\n      }\n    }\n  }\n\n  moveTextFromRange(range) {\n    const [ position ] = Array.from(this.getSelectedRange())\n    this.setDocument(this.document.moveTextFromRangeToPosition(range, position))\n    return this.setSelection(position)\n  }\n\n  removeAttachment(attachment) {\n    const range = this.document.getRangeOfAttachment(attachment)\n    if (range) {\n      this.stopEditingAttachment()\n      this.setDocument(this.document.removeTextAtRange(range))\n      return this.setSelection(range[0])\n    }\n  }\n\n  removeLastBlockAttribute() {\n    const [ startPosition, endPosition ] = Array.from(this.getSelectedRange())\n    const block = this.document.getBlockAtPosition(endPosition)\n    this.removeCurrentAttribute(block.getLastAttribute())\n    return this.setSelection(startPosition)\n  }\n\n  insertPlaceholder() {\n    this.placeholderPosition = this.getPosition()\n    return this.insertString(PLACEHOLDER)\n  }\n\n  selectPlaceholder() {\n    if (this.placeholderPosition != null) {\n      this.setSelectedRange([ this.placeholderPosition, this.placeholderPosition + PLACEHOLDER.length ])\n      return this.getSelectedRange()\n    }\n  }\n\n  forgetPlaceholder() {\n    this.placeholderPosition = null\n  }\n\n  // Current attributes\n\n  hasCurrentAttribute(attributeName) {\n    const value = this.currentAttributes[attributeName]\n    return value != null && value !== false\n  }\n\n  toggleCurrentAttribute(attributeName) {\n    const value = !this.currentAttributes[attributeName]\n    if (value) {\n      return this.setCurrentAttribute(attributeName, value)\n    } else {\n      return this.removeCurrentAttribute(attributeName)\n    }\n  }\n\n  canSetCurrentAttribute(attributeName) {\n    if (getBlockConfig(attributeName)) {\n      return this.canSetCurrentBlockAttribute(attributeName)\n    } else {\n      return this.canSetCurrentTextAttribute(attributeName)\n    }\n  }\n\n  canSetCurrentTextAttribute(attributeName) {\n    const document = this.getSelectedDocument()\n    if (!document) return\n    for (const attachment of Array.from(document.getAttachments())) {\n      if (!attachment.hasContent()) {\n        return false\n      }\n    }\n    return true\n  }\n\n  canSetCurrentBlockAttribute(attributeName) {\n    const block = this.getBlock()\n    if (!block) return\n    return !block.isTerminalBlock()\n  }\n\n  setCurrentAttribute(attributeName, value) {\n    if (getBlockConfig(attributeName)) {\n      return this.setBlockAttribute(attributeName, value)\n    } else {\n      this.setTextAttribute(attributeName, value)\n      this.currentAttributes[attributeName] = value\n      return this.notifyDelegateOfCurrentAttributesChange()\n    }\n  }\n\n  setHTMLAtributeAtPosition(position, attributeName, value) {\n    const block = this.document.getBlockAtPosition(position)\n    const allowedHTMLAttributes = getBlockConfig(block.getLastAttribute())?.htmlAttributes\n\n    if (block && allowedHTMLAttributes?.includes(attributeName)) {\n      const newDocument = this.document.setHTMLAttributeAtPosition(position, attributeName, value)\n      this.setDocument(newDocument)\n    }\n  }\n\n  setTextAttribute(attributeName, value) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n\n    const [ startPosition, endPosition ] = Array.from(selectedRange)\n    if (startPosition === endPosition) {\n      if (attributeName === \"href\") {\n        const text = Text.textForStringWithAttributes(value, { href: value })\n        return this.insertText(text)\n      }\n    } else {\n      return this.setDocument(this.document.addAttributeAtRange(attributeName, value, selectedRange))\n    }\n  }\n\n  setBlockAttribute(attributeName, value) {\n    const selectedRange = this.getSelectedRange()\n    if (this.canSetCurrentAttribute(attributeName)) {\n      this.setDocument(this.document.applyBlockAttributeAtRange(attributeName, value, selectedRange))\n      return this.setSelection(selectedRange)\n    }\n  }\n\n  removeCurrentAttribute(attributeName) {\n    if (getBlockConfig(attributeName)) {\n      this.removeBlockAttribute(attributeName)\n      return this.updateCurrentAttributes()\n    } else {\n      this.removeTextAttribute(attributeName)\n      delete this.currentAttributes[attributeName]\n      return this.notifyDelegateOfCurrentAttributesChange()\n    }\n  }\n\n  removeTextAttribute(attributeName) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n    return this.setDocument(this.document.removeAttributeAtRange(attributeName, selectedRange))\n  }\n\n  removeBlockAttribute(attributeName) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n    return this.setDocument(this.document.removeAttributeAtRange(attributeName, selectedRange))\n  }\n\n  canDecreaseNestingLevel() {\n    return this.getBlock()?.getNestingLevel() > 0\n  }\n\n  canIncreaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    if (getBlockConfig(block.getLastNestableAttribute())?.listAttribute) {\n      const previousBlock = this.getPreviousBlock()\n      if (previousBlock) {\n        return arrayStartsWith(previousBlock.getListItemAttributes(), block.getListItemAttributes())\n      }\n    } else {\n      return block.getNestingLevel() > 0\n    }\n  }\n\n  decreaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    return this.setDocument(this.document.replaceBlock(block, block.decreaseNestingLevel()))\n  }\n\n  increaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    return this.setDocument(this.document.replaceBlock(block, block.increaseNestingLevel()))\n  }\n\n  canDecreaseBlockAttributeLevel() {\n    return this.getBlock()?.getAttributeLevel() > 0\n  }\n\n  decreaseBlockAttributeLevel() {\n    const attribute = this.getBlock()?.getLastAttribute()\n    if (attribute) {\n      return this.removeCurrentAttribute(attribute)\n    }\n  }\n\n  decreaseListLevel() {\n    let [ startPosition ] = Array.from(this.getSelectedRange())\n    const { index } = this.document.locationFromPosition(startPosition)\n    let endIndex = index\n    const attributeLevel = this.getBlock().getAttributeLevel()\n\n    let block = this.document.getBlockAtIndex(endIndex + 1)\n    while (block) {\n      if (!block.isListItem() || block.getAttributeLevel() <= attributeLevel) {\n        break\n      }\n      endIndex++\n      block = this.document.getBlockAtIndex(endIndex + 1)\n    }\n\n    startPosition = this.document.positionFromLocation({ index, offset: 0 })\n    const endPosition = this.document.positionFromLocation({ index: endIndex, offset: 0 })\n    return this.setDocument(this.document.removeLastListAttributeAtRange([ startPosition, endPosition ]))\n  }\n\n  updateCurrentAttributes() {\n    const selectedRange = this.getSelectedRange({ ignoreLock: true })\n    if (selectedRange) {\n      const currentAttributes = this.document.getCommonAttributesAtRange(selectedRange)\n\n      Array.from(getAllAttributeNames()).forEach((attributeName) => {\n        if (!currentAttributes[attributeName]) {\n          if (!this.canSetCurrentAttribute(attributeName)) {\n            currentAttributes[attributeName] = false\n          }\n        }\n      })\n\n      if (!objectsAreEqual(currentAttributes, this.currentAttributes)) {\n        this.currentAttributes = currentAttributes\n        return this.notifyDelegateOfCurrentAttributesChange()\n      }\n    }\n  }\n\n  getCurrentAttributes() {\n    return extend.call({}, this.currentAttributes)\n  }\n\n  getCurrentTextAttributes() {\n    const attributes = {}\n    for (const key in this.currentAttributes) {\n      const value = this.currentAttributes[key]\n      if (value !== false) {\n        if (getTextConfig(key)) {\n          attributes[key] = value\n        }\n      }\n    }\n    return attributes\n  }\n\n  // Selection freezing\n\n  freezeSelection() {\n    return this.setCurrentAttribute(\"frozen\", true)\n  }\n\n  thawSelection() {\n    return this.removeCurrentAttribute(\"frozen\")\n  }\n\n  hasFrozenSelection() {\n    return this.hasCurrentAttribute(\"frozen\")\n  }\n\n  setSelection(selectedRange) {\n    const locationRange = this.document.locationRangeFromRange(selectedRange)\n    return this.delegate?.compositionDidRequestChangingSelectionToLocationRange(locationRange)\n  }\n\n  getSelectedRange() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.rangeFromLocationRange(locationRange)\n    }\n  }\n\n  setSelectedRange(selectedRange) {\n    const locationRange = this.document.locationRangeFromRange(selectedRange)\n    return this.getSelectionManager().setLocationRange(locationRange)\n  }\n\n  getPosition() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.positionFromLocation(locationRange[0])\n    }\n  }\n\n  getLocationRange(options) {\n    if (this.targetLocationRange) {\n      return this.targetLocationRange\n    } else {\n      return this.getSelectionManager().getLocationRange(options) || normalizeRange({ index: 0, offset: 0 })\n    }\n  }\n\n  withTargetLocationRange(locationRange, fn) {\n    let result\n    this.targetLocationRange = locationRange\n    try {\n      result = fn()\n    } finally {\n      this.targetLocationRange = null\n    }\n    return result\n  }\n\n  withTargetRange(range, fn) {\n    const locationRange = this.document.locationRangeFromRange(range)\n    return this.withTargetLocationRange(locationRange, fn)\n  }\n\n  withTargetDOMRange(domRange, fn) {\n    const locationRange = this.createLocationRangeFromDOMRange(domRange, { strict: false })\n    return this.withTargetLocationRange(locationRange, fn)\n  }\n\n  getExpandedRangeInDirection(direction, { length } = {}) {\n    let [ startPosition, endPosition ] = Array.from(this.getSelectedRange())\n    if (direction === \"backward\") {\n      if (length) {\n        startPosition -= length\n      } else {\n        startPosition = this.translateUTF16PositionFromOffset(startPosition, -1)\n      }\n    } else {\n      if (length) {\n        endPosition += length\n      } else {\n        endPosition = this.translateUTF16PositionFromOffset(endPosition, 1)\n      }\n    }\n    return normalizeRange([ startPosition, endPosition ])\n  }\n\n  shouldManageMovingCursorInDirection(direction) {\n    if (this.editingAttachment) {\n      return true\n    }\n    const range = this.getExpandedRangeInDirection(direction)\n    return this.getAttachmentAtRange(range) != null\n  }\n\n  moveCursorInDirection(direction) {\n    let canEditAttachment, range\n    if (this.editingAttachment) {\n      range = this.document.getRangeOfAttachment(this.editingAttachment)\n    } else {\n      const selectedRange = this.getSelectedRange()\n      range = this.getExpandedRangeInDirection(direction)\n      canEditAttachment = !rangesAreEqual(selectedRange, range)\n    }\n\n    if (direction === \"backward\") {\n      this.setSelectedRange(range[0])\n    } else {\n      this.setSelectedRange(range[1])\n    }\n\n    if (canEditAttachment) {\n      const attachment = this.getAttachmentAtRange(range)\n      if (attachment) {\n        return this.editAttachment(attachment)\n      }\n    }\n  }\n\n  expandSelectionInDirection(direction, { length } = {}) {\n    const range = this.getExpandedRangeInDirection(direction, { length })\n    return this.setSelectedRange(range)\n  }\n\n  expandSelectionForEditing() {\n    if (this.hasCurrentAttribute(\"href\")) {\n      return this.expandSelectionAroundCommonAttribute(\"href\")\n    }\n  }\n\n  expandSelectionAroundCommonAttribute(attributeName) {\n    const position = this.getPosition()\n    const range = this.document.getRangeOfCommonAttributeAtPosition(attributeName, position)\n    return this.setSelectedRange(range)\n  }\n\n  selectionContainsAttachments() {\n    return this.getSelectedAttachments()?.length > 0\n  }\n\n  selectionIsInCursorTarget() {\n    return this.editingAttachment || this.positionIsCursorTarget(this.getPosition())\n  }\n\n  positionIsCursorTarget(position) {\n    const location = this.document.locationFromPosition(position)\n    if (location) {\n      return this.locationIsCursorTarget(location)\n    }\n  }\n\n  positionIsBlockBreak(position) {\n    return this.document.getPieceAtPosition(position)?.isBlockBreak()\n  }\n\n  getSelectedDocument() {\n    const selectedRange = this.getSelectedRange()\n    if (selectedRange) {\n      return this.document.getDocumentAtRange(selectedRange)\n    }\n  }\n\n  getSelectedAttachments() {\n    return this.getSelectedDocument()?.getAttachments()\n  }\n\n  // Attachments\n\n  getAttachments() {\n    return this.attachments.slice(0)\n  }\n\n  refreshAttachments() {\n    const attachments = this.document.getAttachments()\n    const { added, removed } = summarizeArrayChange(this.attachments, attachments)\n    this.attachments = attachments\n\n    Array.from(removed).forEach((attachment) => {\n      attachment.delegate = null\n      this.delegate?.compositionDidRemoveAttachment?.(attachment)\n    })\n\n    return (() => {\n      const result = []\n\n      Array.from(added).forEach((attachment) => {\n        attachment.delegate = this\n        result.push(this.delegate?.compositionDidAddAttachment?.(attachment))\n      })\n\n      return result\n    })()\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeAttributes(attachment) {\n    this.revision++\n    return this.delegate?.compositionDidEditAttachment?.(attachment)\n  }\n\n  attachmentDidChangePreviewURL(attachment) {\n    this.revision++\n    return this.delegate?.compositionDidChangeAttachmentPreviewURL?.(attachment)\n  }\n\n  // Attachment editing\n\n  editAttachment(attachment, options) {\n    if (attachment === this.editingAttachment) return\n    this.stopEditingAttachment()\n    this.editingAttachment = attachment\n    return this.delegate?.compositionDidStartEditingAttachment?.(this.editingAttachment, options)\n  }\n\n  stopEditingAttachment() {\n    if (!this.editingAttachment) return\n    this.delegate?.compositionDidStopEditingAttachment?.(this.editingAttachment)\n    this.editingAttachment = null\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    return this.setDocument(this.document.updateAttributesForAttachment(attributes, attachment))\n  }\n\n  removeAttributeForAttachment(attribute, attachment) {\n    return this.setDocument(this.document.removeAttributeForAttachment(attribute, attachment))\n  }\n\n  // Private\n\n  breakFormattedBlock(insertion) {\n    let { document } = insertion\n    const { block } = insertion\n    let position = insertion.startPosition\n    let range = [ position - 1, position ]\n\n    if (block.getBlockBreakPosition() === insertion.startLocation.offset) {\n      if (block.breaksOnReturn() && insertion.nextCharacter === \"\\n\") {\n        position += 1\n      } else {\n        document = document.removeTextAtRange(range)\n      }\n      range = [ position, position ]\n    } else if (insertion.nextCharacter === \"\\n\") {\n      if (insertion.previousCharacter === \"\\n\") {\n        range = [ position - 1, position + 1 ]\n      } else {\n        range = [ position, position + 1 ]\n        position += 1\n      }\n    } else if (insertion.startLocation.offset - 1 !== 0) {\n      position += 1\n    }\n\n    const newDocument = new Document([ block.removeLastAttribute().copyWithoutText() ])\n    this.setDocument(document.insertDocumentAtRange(newDocument, range))\n    return this.setSelection(position)\n  }\n\n  getPreviousBlock() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      const { index } = locationRange[0]\n      if (index > 0) {\n        return this.document.getBlockAtIndex(index - 1)\n      }\n    }\n  }\n\n  getBlock() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.getBlockAtIndex(locationRange[0].index)\n    }\n  }\n\n  getAttachmentAtRange(range) {\n    const document = this.document.getDocumentAtRange(range)\n    if (document.toString() === `${OBJECT_REPLACEMENT_CHARACTER}\\n`) {\n      return document.getAttachments()[0]\n    }\n  }\n\n  notifyDelegateOfCurrentAttributesChange() {\n    return this.delegate?.compositionDidChangeCurrentAttributes?.(this.currentAttributes)\n  }\n\n  notifyDelegateOfInsertionAtRange(range) {\n    return this.delegate?.compositionDidPerformInsertionAtRange?.(range)\n  }\n\n  translateUTF16PositionFromOffset(position, offset) {\n    const utf16string = this.document.toUTF16String()\n    const utf16position = utf16string.offsetFromUCS2Offset(position)\n    return utf16string.offsetToUCS2Offset(utf16position + offset)\n  }\n}\n\nComposition.proxyMethod(\"getSelectionManager().getPointRange\")\nComposition.proxyMethod(\"getSelectionManager().setLocationRangeFromPointRange\")\nComposition.proxyMethod(\"getSelectionManager().createLocationRangeFromDOMRange\")\nComposition.proxyMethod(\"getSelectionManager().locationIsCursorTarget\")\nComposition.proxyMethod(\"getSelectionManager().selectionIsExpanded\")\nComposition.proxyMethod(\"delegate?.getSelectionManager\")\n","import BasicObject from \"trix/core/basic_object\"\n\nexport default class UndoManager extends BasicObject {\n  constructor(composition) {\n    super(...arguments)\n    this.composition = composition\n    this.undoEntries = []\n    this.redoEntries = []\n  }\n\n  recordUndoEntry(description, { context, consolidatable } = {}) {\n    const previousEntry = this.undoEntries.slice(-1)[0]\n\n    if (!consolidatable || !entryHasDescriptionAndContext(previousEntry, description, context)) {\n      const undoEntry = this.createEntry({ description, context })\n      this.undoEntries.push(undoEntry)\n      this.redoEntries = []\n    }\n  }\n\n  undo() {\n    const undoEntry = this.undoEntries.pop()\n    if (undoEntry) {\n      const redoEntry = this.createEntry(undoEntry)\n      this.redoEntries.push(redoEntry)\n      return this.composition.loadSnapshot(undoEntry.snapshot)\n    }\n  }\n\n  redo() {\n    const redoEntry = this.redoEntries.pop()\n    if (redoEntry) {\n      const undoEntry = this.createEntry(redoEntry)\n      this.undoEntries.push(undoEntry)\n      return this.composition.loadSnapshot(redoEntry.snapshot)\n    }\n  }\n\n  canUndo() {\n    return this.undoEntries.length > 0\n  }\n\n  canRedo() {\n    return this.redoEntries.length > 0\n  }\n\n  // Private\n\n  createEntry({ description, context } = {}) {\n    return {\n      description: description?.toString(),\n      context: JSON.stringify(context),\n      snapshot: this.composition.getSnapshot(),\n    }\n  }\n}\n\nconst entryHasDescriptionAndContext = (entry, description, context) =>\n  entry?.description === description?.toString() && entry?.context === JSON.stringify(context)\n","const BLOCK_ATTRIBUTE_NAME = \"attachmentGallery\"\nconst TEXT_ATTRIBUTE_NAME = \"presentation\"\nconst TEXT_ATTRIBUTE_VALUE = \"gallery\"\n\nexport default class Filter {\n  constructor(snapshot) {\n    this.document = snapshot.document\n    this.selectedRange = snapshot.selectedRange\n  }\n\n  perform() {\n    this.removeBlockAttribute()\n    return this.applyBlockAttribute()\n  }\n\n  getSnapshot() {\n    return { document: this.document, selectedRange: this.selectedRange }\n  }\n\n  // Private\n\n  removeBlockAttribute() {\n    return this.findRangesOfBlocks().map((range) => this.document = this.document.removeAttributeAtRange(BLOCK_ATTRIBUTE_NAME, range))\n  }\n\n  applyBlockAttribute() {\n    let offset = 0\n\n    this.findRangesOfPieces().forEach((range) => {\n      if (range[1] - range[0] > 1) {\n        range[0] += offset\n        range[1] += offset\n\n        if (this.document.getCharacterAtPosition(range[1]) !== \"\\n\") {\n          this.document = this.document.insertBlockBreakAtRange(range[1])\n          if (range[1] < this.selectedRange[1]) {\n            this.moveSelectedRangeForward()\n          }\n          range[1]++\n          offset++\n        }\n\n        if (range[0] !== 0) {\n          if (this.document.getCharacterAtPosition(range[0] - 1) !== \"\\n\") {\n            this.document = this.document.insertBlockBreakAtRange(range[0])\n            if (range[0] < this.selectedRange[0]) {\n              this.moveSelectedRangeForward()\n            }\n            range[0]++\n            offset++\n          }\n        }\n\n        this.document = this.document.applyBlockAttributeAtRange(BLOCK_ATTRIBUTE_NAME, true, range)\n      }\n    })\n  }\n\n  findRangesOfBlocks() {\n    return this.document.findRangesForBlockAttribute(BLOCK_ATTRIBUTE_NAME)\n  }\n\n  findRangesOfPieces() {\n    return this.document.findRangesForTextAttribute(TEXT_ATTRIBUTE_NAME, { withValue: TEXT_ATTRIBUTE_VALUE })\n  }\n\n  moveSelectedRangeForward() {\n    this.selectedRange[0] += 1\n    this.selectedRange[1] += 1\n  }\n}\n","import Filter from \"./filter\"\n\nexport const attachmentGalleryFilter = function(snapshot) {\n  const filter = new Filter(snapshot)\n  filter.perform()\n  return filter.getSnapshot()\n}\n\n","import Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\n\nimport UndoManager from \"trix/models/undo_manager\"\nimport { attachmentGalleryFilter } from \"trix/filters/attachment_gallery_filter\"\nconst DEFAULT_FILTERS = [ attachmentGalleryFilter ]\n\nexport default class Editor {\n  constructor(composition, selectionManager, element) {\n    this.insertFiles = this.insertFiles.bind(this)\n    this.composition = composition\n    this.selectionManager = selectionManager\n    this.element = element\n    this.undoManager = new UndoManager(this.composition)\n    this.filters = DEFAULT_FILTERS.slice(0)\n  }\n\n  loadDocument(document) {\n    return this.loadSnapshot({ document, selectedRange: [ 0, 0 ] })\n  }\n\n  loadHTML(html = \"\") {\n    const document = HTMLParser.parse(html, { referenceElement: this.element }).getDocument()\n    return this.loadDocument(document)\n  }\n\n  loadJSON({ document, selectedRange }) {\n    document = Document.fromJSON(document)\n    return this.loadSnapshot({ document, selectedRange })\n  }\n\n  loadSnapshot(snapshot) {\n    this.undoManager = new UndoManager(this.composition)\n    return this.composition.loadSnapshot(snapshot)\n  }\n\n  getDocument() {\n    return this.composition.document\n  }\n\n  getSelectedDocument() {\n    return this.composition.getSelectedDocument()\n  }\n\n  getSnapshot() {\n    return this.composition.getSnapshot()\n  }\n\n  toJSON() {\n    return this.getSnapshot()\n  }\n\n  // Document manipulation\n\n  deleteInDirection(direction) {\n    return this.composition.deleteInDirection(direction)\n  }\n\n  insertAttachment(attachment) {\n    return this.composition.insertAttachment(attachment)\n  }\n\n  insertAttachments(attachments) {\n    return this.composition.insertAttachments(attachments)\n  }\n\n  insertDocument(document) {\n    return this.composition.insertDocument(document)\n  }\n\n  insertFile(file) {\n    return this.composition.insertFile(file)\n  }\n\n  insertFiles(files) {\n    return this.composition.insertFiles(files)\n  }\n\n  insertHTML(html) {\n    return this.composition.insertHTML(html)\n  }\n\n  insertString(string) {\n    return this.composition.insertString(string)\n  }\n\n  insertText(text) {\n    return this.composition.insertText(text)\n  }\n\n  insertLineBreak() {\n    return this.composition.insertLineBreak()\n  }\n\n  // Selection\n\n  getSelectedRange() {\n    return this.composition.getSelectedRange()\n  }\n\n  getPosition() {\n    return this.composition.getPosition()\n  }\n\n  getClientRectAtPosition(position) {\n    const locationRange = this.getDocument().locationRangeFromRange([ position, position + 1 ])\n    return this.selectionManager.getClientRectAtLocationRange(locationRange)\n  }\n\n  expandSelectionInDirection(direction) {\n    return this.composition.expandSelectionInDirection(direction)\n  }\n\n  moveCursorInDirection(direction) {\n    return this.composition.moveCursorInDirection(direction)\n  }\n\n  setSelectedRange(selectedRange) {\n    return this.composition.setSelectedRange(selectedRange)\n  }\n\n  // Attributes\n\n  activateAttribute(name, value = true) {\n    return this.composition.setCurrentAttribute(name, value)\n  }\n\n  attributeIsActive(name) {\n    return this.composition.hasCurrentAttribute(name)\n  }\n\n  canActivateAttribute(name) {\n    return this.composition.canSetCurrentAttribute(name)\n  }\n\n  deactivateAttribute(name) {\n    return this.composition.removeCurrentAttribute(name)\n  }\n\n  // HTML attributes\n  setHTMLAtributeAtPosition(position, name, value) {\n    this.composition.setHTMLAtributeAtPosition(position, name, value)\n  }\n\n  // Nesting level\n\n  canDecreaseNestingLevel() {\n    return this.composition.canDecreaseNestingLevel()\n  }\n\n  canIncreaseNestingLevel() {\n    return this.composition.canIncreaseNestingLevel()\n  }\n\n  decreaseNestingLevel() {\n    if (this.canDecreaseNestingLevel()) {\n      return this.composition.decreaseNestingLevel()\n    }\n  }\n\n  increaseNestingLevel() {\n    if (this.canIncreaseNestingLevel()) {\n      return this.composition.increaseNestingLevel()\n    }\n  }\n\n  // Undo/redo\n\n  canRedo() {\n    return this.undoManager.canRedo()\n  }\n\n  canUndo() {\n    return this.undoManager.canUndo()\n  }\n\n  recordUndoEntry(description, { context, consolidatable } = {}) {\n    return this.undoManager.recordUndoEntry(description, { context, consolidatable })\n  }\n\n  redo() {\n    if (this.canRedo()) {\n      return this.undoManager.redo()\n    }\n  }\n\n  undo() {\n    if (this.canUndo()) {\n      return this.undoManager.undo()\n    }\n  }\n}\n","/* eslint-disable\n    no-var,\n    prefer-const,\n*/\nimport {\n  elementContainsNode,\n  findChildIndexOfNode,\n  nodeIsAttachmentElement,\n  nodeIsBlockContainer,\n  nodeIsBlockStart,\n  nodeIsBlockStartComment,\n  nodeIsCursorTarget,\n  nodeIsEmptyTextNode,\n  nodeIsTextNode,\n  tagName,\n  walkTree,\n} from \"trix/core/helpers\"\n\nexport default class LocationMapper {\n  constructor(element) {\n    this.element = element\n  }\n\n  findLocationFromContainerAndOffset(container, offset, { strict } = { strict: true }) {\n    let childIndex = 0\n    let foundBlock = false\n    const location = { index: 0, offset: 0 }\n    const attachmentElement = this.findAttachmentElementParentForNode(container)\n\n    if (attachmentElement) {\n      container = attachmentElement.parentNode\n      offset = findChildIndexOfNode(attachmentElement)\n    }\n\n    const walker = walkTree(this.element, { usingFilter: rejectAttachmentContents })\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n\n      if (node === container && nodeIsTextNode(container)) {\n        if (!nodeIsCursorTarget(node)) {\n          location.offset += offset\n        }\n        break\n      } else {\n        if (node.parentNode === container) {\n          if (childIndex++ === offset) {\n            break\n          }\n        } else if (!elementContainsNode(container, node)) {\n          if (childIndex > 0) {\n            break\n          }\n        }\n\n        if (nodeIsBlockStart(node, { strict })) {\n          if (foundBlock) {\n            location.index++\n          }\n          location.offset = 0\n          foundBlock = true\n        } else {\n          location.offset += nodeLength(node)\n        }\n      }\n    }\n\n    return location\n  }\n\n  findContainerAndOffsetFromLocation(location) {\n    let container, offset\n    if (location.index === 0 && location.offset === 0) {\n      container = this.element\n      offset = 0\n\n      while (container.firstChild) {\n        container = container.firstChild\n        if (nodeIsBlockContainer(container)) {\n          offset = 1\n          break\n        }\n      }\n\n      return [ container, offset ]\n    }\n\n    let [ node, nodeOffset ] = this.findNodeAndOffsetFromLocation(location)\n    if (!node) return\n\n    if (nodeIsTextNode(node)) {\n      if (nodeLength(node) === 0) {\n        container = node.parentNode.parentNode\n        offset = findChildIndexOfNode(node.parentNode)\n        if (nodeIsCursorTarget(node, { name: \"right\" })) {\n          offset++\n        }\n      } else {\n        container = node\n        offset = location.offset - nodeOffset\n      }\n    } else {\n      container = node.parentNode\n\n      if (!nodeIsBlockStart(node.previousSibling)) {\n        if (!nodeIsBlockContainer(container)) {\n          while (node === container.lastChild) {\n            node = container\n            container = container.parentNode\n            if (nodeIsBlockContainer(container)) {\n              break\n            }\n          }\n        }\n      }\n\n      offset = findChildIndexOfNode(node)\n      if (location.offset !== 0) {\n        offset++\n      }\n    }\n\n    return [ container, offset ]\n  }\n\n  findNodeAndOffsetFromLocation(location) {\n    let node, nodeOffset\n    let offset = 0\n\n    for (const currentNode of this.getSignificantNodesForIndex(location.index)) {\n      const length = nodeLength(currentNode)\n\n      if (location.offset <= offset + length) {\n        if (nodeIsTextNode(currentNode)) {\n          node = currentNode\n          nodeOffset = offset\n          if (location.offset === nodeOffset && nodeIsCursorTarget(node)) {\n            break\n          }\n        } else if (!node) {\n          node = currentNode\n          nodeOffset = offset\n        }\n      }\n\n      offset += length\n      if (offset > location.offset) {\n        break\n      }\n    }\n\n    return [ node, nodeOffset ]\n  }\n\n  // Private\n\n  findAttachmentElementParentForNode(node) {\n    while (node && node !== this.element) {\n      if (nodeIsAttachmentElement(node)) {\n        return node\n      }\n      node = node.parentNode\n    }\n  }\n\n  getSignificantNodesForIndex(index) {\n    const nodes = []\n    const walker = walkTree(this.element, { usingFilter: acceptSignificantNodes })\n    let recordingNodes = false\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n      if (nodeIsBlockStartComment(node)) {\n        var blockIndex\n        if (blockIndex != null) {\n          blockIndex++\n        } else {\n          blockIndex = 0\n        }\n\n        if (blockIndex === index) {\n          recordingNodes = true\n        } else if (recordingNodes) {\n          break\n        }\n      } else if (recordingNodes) {\n        nodes.push(node)\n      }\n    }\n\n    return nodes\n  }\n}\n\nconst nodeLength = function(node) {\n  if (node.nodeType === Node.TEXT_NODE) {\n    if (nodeIsCursorTarget(node)) {\n      return 0\n    } else {\n      const string = node.textContent\n      return string.length\n    }\n  } else if (tagName(node) === \"br\" || nodeIsAttachmentElement(node)) {\n    return 1\n  } else {\n    return 0\n  }\n}\n\nconst acceptSignificantNodes = function(node) {\n  if (rejectEmptyTextNodes(node) === NodeFilter.FILTER_ACCEPT) {\n    return rejectAttachmentContents(node)\n  } else {\n    return NodeFilter.FILTER_REJECT\n  }\n}\n\nconst rejectEmptyTextNodes = function(node) {\n  if (nodeIsEmptyTextNode(node)) {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n\nconst rejectAttachmentContents = function(node) {\n  if (nodeIsAttachmentElement(node.parentNode)) {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n","/* eslint-disable\n    id-length,\n    no-empty,\n*/\nimport { getDOMRange, setDOMRange } from \"trix/core/helpers\"\n\nexport default class PointMapper {\n  createDOMRangeFromPoint({ x, y }) {\n    let domRange\n    if (document.caretPositionFromPoint) {\n      const { offsetNode, offset } = document.caretPositionFromPoint(x, y)\n      domRange = document.createRange()\n      domRange.setStart(offsetNode, offset)\n      return domRange\n    } else if (document.caretRangeFromPoint) {\n      return document.caretRangeFromPoint(x, y)\n    } else if (document.body.createTextRange) {\n      const originalDOMRange = getDOMRange()\n      try {\n        // IE 11 throws \"Unspecified error\" when using moveToPoint\n        // during a drag-and-drop operation.\n        const textRange = document.body.createTextRange()\n        textRange.moveToPoint(x, y)\n        textRange.select()\n      } catch (error) {}\n      domRange = getDOMRange()\n      setDOMRange(originalDOMRange)\n      return domRange\n    }\n  }\n\n  getClientRectsForDOMRange(domRange) {\n    const array = Array.from(domRange.getClientRects())\n    const start = array[0]\n    const end = array[array.length - 1]\n\n    return [ start, end ]\n  }\n}\n","/* eslint-disable\n*/\nimport BasicObject from \"trix/core/basic_object\"\n\nimport LocationMapper from \"trix/models/location_mapper\"\nimport PointMapper from \"trix/models/point_mapper\"\n\nimport {\n  elementContainsNode,\n  getDOMRange,\n  getDOMSelection,\n  handleEvent,\n  innerElementIsActive,\n  nodeIsCursorTarget,\n  normalizeRange,\n  rangeIsCollapsed,\n  rangesAreEqual,\n  setDOMRange,\n} from \"trix/core/helpers\"\n\nexport default class SelectionManager extends BasicObject {\n  constructor(element) {\n    super(...arguments)\n    this.didMouseDown = this.didMouseDown.bind(this)\n    this.selectionDidChange = this.selectionDidChange.bind(this)\n    this.element = element\n    this.locationMapper = new LocationMapper(this.element)\n    this.pointMapper = new PointMapper()\n    this.lockCount = 0\n    handleEvent(\"mousedown\", { onElement: this.element, withCallback: this.didMouseDown })\n  }\n\n  getLocationRange(options = {}) {\n    if (options.strict === false) {\n      return this.createLocationRangeFromDOMRange(getDOMRange())\n    } else if (options.ignoreLock) {\n      return this.currentLocationRange\n    } else if (this.lockedLocationRange) {\n      return this.lockedLocationRange\n    } else {\n      return this.currentLocationRange\n    }\n  }\n\n  setLocationRange(locationRange) {\n    if (this.lockedLocationRange) return\n    locationRange = normalizeRange(locationRange)\n\n    const domRange = this.createDOMRangeFromLocationRange(locationRange)\n    if (domRange) {\n      setDOMRange(domRange)\n      this.updateCurrentLocationRange(locationRange)\n    }\n  }\n\n  setLocationRangeFromPointRange(pointRange) {\n    pointRange = normalizeRange(pointRange)\n    const startLocation = this.getLocationAtPoint(pointRange[0])\n    const endLocation = this.getLocationAtPoint(pointRange[1])\n    this.setLocationRange([ startLocation, endLocation ])\n  }\n\n  getClientRectAtLocationRange(locationRange) {\n    const domRange = this.createDOMRangeFromLocationRange(locationRange)\n    if (domRange) {\n      return this.getClientRectsForDOMRange(domRange)[1]\n    }\n  }\n\n  locationIsCursorTarget(location) {\n    const node = Array.from(this.findNodeAndOffsetFromLocation(location))[0]\n    return nodeIsCursorTarget(node)\n  }\n\n  lock() {\n    if (this.lockCount++ === 0) {\n      this.updateCurrentLocationRange()\n      this.lockedLocationRange = this.getLocationRange()\n    }\n  }\n\n  unlock() {\n    if (--this.lockCount === 0) {\n      const { lockedLocationRange } = this\n      this.lockedLocationRange = null\n      if (lockedLocationRange != null) {\n        return this.setLocationRange(lockedLocationRange)\n      }\n    }\n  }\n\n  clearSelection() {\n    return getDOMSelection()?.removeAllRanges()\n  }\n\n  selectionIsCollapsed() {\n    return getDOMRange()?.collapsed === true\n  }\n\n  selectionIsExpanded() {\n    return !this.selectionIsCollapsed()\n  }\n\n  createLocationRangeFromDOMRange(domRange, options) {\n    if (domRange == null || !this.domRangeWithinElement(domRange)) return\n\n    const start = this.findLocationFromContainerAndOffset(domRange.startContainer, domRange.startOffset, options)\n    if (!start) return\n\n    const end = domRange.collapsed\n      ? undefined\n      : this.findLocationFromContainerAndOffset(domRange.endContainer, domRange.endOffset, options)\n\n    return normalizeRange([ start, end ])\n  }\n\n  didMouseDown() {\n    return this.pauseTemporarily()\n  }\n\n  pauseTemporarily() {\n    let resumeHandlers\n    this.paused = true\n\n    const resume = () => {\n      this.paused = false\n      clearTimeout(resumeTimeout)\n\n      Array.from(resumeHandlers).forEach((handler) => {\n        handler.destroy()\n      })\n\n      if (elementContainsNode(document, this.element)) {\n        return this.selectionDidChange()\n      }\n    }\n\n    const resumeTimeout = setTimeout(resume, 200)\n\n    resumeHandlers = [ \"mousemove\", \"keydown\" ].map((eventName) =>\n      handleEvent(eventName, { onElement: document, withCallback: resume })\n    )\n  }\n\n  selectionDidChange() {\n    if (!this.paused && !innerElementIsActive(this.element)) {\n      return this.updateCurrentLocationRange()\n    }\n  }\n\n  updateCurrentLocationRange(locationRange) {\n    if (locationRange != null ? locationRange : locationRange = this.createLocationRangeFromDOMRange(getDOMRange())) {\n      if (!rangesAreEqual(locationRange, this.currentLocationRange)) {\n        this.currentLocationRange = locationRange\n        return this.delegate?.locationRangeDidChange?.(this.currentLocationRange.slice(0))\n      }\n    }\n  }\n\n  createDOMRangeFromLocationRange(locationRange) {\n    const rangeStart = this.findContainerAndOffsetFromLocation(locationRange[0])\n    const rangeEnd = rangeIsCollapsed(locationRange)\n      ? rangeStart\n      : this.findContainerAndOffsetFromLocation(locationRange[1]) || rangeStart\n\n    if (rangeStart != null && rangeEnd != null) {\n      const domRange = document.createRange()\n      domRange.setStart(...Array.from(rangeStart || []))\n      domRange.setEnd(...Array.from(rangeEnd || []))\n      return domRange\n    }\n  }\n\n  getLocationAtPoint(point) {\n    const domRange = this.createDOMRangeFromPoint(point)\n    if (domRange) {\n      return this.createLocationRangeFromDOMRange(domRange)?.[0]\n    }\n  }\n\n  domRangeWithinElement(domRange) {\n    if (domRange.collapsed) {\n      return elementContainsNode(this.element, domRange.startContainer)\n    } else {\n      return (\n        elementContainsNode(this.element, domRange.startContainer) &&\n        elementContainsNode(this.element, domRange.endContainer)\n      )\n    }\n  }\n}\n\nSelectionManager.proxyMethod(\"locationMapper.findLocationFromContainerAndOffset\")\nSelectionManager.proxyMethod(\"locationMapper.findContainerAndOffsetFromLocation\")\nSelectionManager.proxyMethod(\"locationMapper.findNodeAndOffsetFromLocation\")\nSelectionManager.proxyMethod(\"pointMapper.createDOMRangeFromPoint\")\nSelectionManager.proxyMethod(\"pointMapper.getClientRectsForDOMRange\")\n\n","import { removeNode } from \"trix/core/helpers\"\n\nimport * as config from \"trix/config\"\nimport BasicObject from \"trix/core/basic_object\"\n\nimport { defer, handleEvent, makeElement, tagName, triggerEvent } from \"trix/core/helpers\"\nconst { lang, css, keyNames } = config\n\nconst undoable = function(fn) {\n  return function() {\n    const commands = fn.apply(this, arguments)\n    commands.do()\n    if (!this.undos) {\n      this.undos = []\n    }\n    this.undos.push(commands.undo)\n  }\n}\n\nexport default class AttachmentEditorController extends BasicObject {\n  constructor(attachmentPiece, element, container, options = {}) {\n    super(...arguments)\n    this.didClickToolbar = this.didClickToolbar.bind(this)\n    this.didClickActionButton = this.didClickActionButton.bind(this)\n    this.didKeyDownCaption = this.didKeyDownCaption.bind(this)\n    this.didInputCaption = this.didInputCaption.bind(this)\n    this.didChangeCaption = this.didChangeCaption.bind(this)\n    this.didBlurCaption = this.didBlurCaption.bind(this)\n    this.attachmentPiece = attachmentPiece\n    this.element = element\n    this.container = container\n    this.options = options\n    this.attachment = this.attachmentPiece.attachment\n    if (tagName(this.element) === \"a\") {\n      this.element = this.element.firstChild\n    }\n    this.install()\n  }\n\n  install() {\n    this.makeElementMutable()\n    this.addToolbar()\n    if (this.attachment.isPreviewable()) {\n      this.installCaptionEditor()\n    }\n  }\n\n  uninstall() {\n    let undo = this.undos.pop()\n    this.savePendingCaption()\n    while (undo) {\n      undo()\n      undo = this.undos.pop()\n    }\n    this.delegate?.didUninstallAttachmentEditor(this)\n  }\n\n  // Private\n\n  savePendingCaption() {\n    if (this.pendingCaption != null) {\n      const caption = this.pendingCaption\n      this.pendingCaption = null\n      if (caption) {\n        this.delegate?.attachmentEditorDidRequestUpdatingAttributesForAttachment?.({ caption }, this.attachment)\n      } else {\n        this.delegate?.attachmentEditorDidRequestRemovingAttributeForAttachment?.(\"caption\", this.attachment)\n      }\n    }\n  }\n\n  // Installing and uninstalling\n\n  makeElementMutable = undoable(() => {\n    return {\n      do: () => {\n        this.element.dataset.trixMutable = true\n      },\n      undo: () => delete this.element.dataset.trixMutable,\n    }\n  })\n\n  addToolbar = undoable(() => {\n    // <div class=\"#{css.attachmentMetadataContainer}\" data-trix-mutable=\"true\">\n    //   <div class=\"trix-button-row\">\n    //     <span class=\"trix-button-group trix-button-group--actions\">\n    //       <button type=\"button\" class=\"trix-button trix-button--remove\" title=\"#{lang.remove}\" data-trix-action=\"remove\">#{lang.remove}</button>\n    //     </span>\n    //   </div>\n    // </div>\n    const element = makeElement({\n      tagName: \"div\",\n      className: css.attachmentToolbar,\n      data: { trixMutable: true },\n      childNodes: makeElement({\n        tagName: \"div\",\n        className: \"trix-button-row\",\n        childNodes: makeElement({\n          tagName: \"span\",\n          className: \"trix-button-group trix-button-group--actions\",\n          childNodes: makeElement({\n            tagName: \"button\",\n            className: \"trix-button trix-button--remove\",\n            textContent: lang.remove,\n            attributes: { title: lang.remove },\n            data: { trixAction: \"remove\" },\n          }),\n        }),\n      }),\n    })\n\n    if (this.attachment.isPreviewable()) {\n      // <div class=\"#{css.attachmentMetadataContainer}\">\n      //   <span class=\"#{css.attachmentMetadata}\">\n      //     <span class=\"#{css.attachmentName}\" title=\"#{name}\">#{name}</span>\n      //     <span class=\"#{css.attachmentSize}\">#{size}</span>\n      //   </span>\n      // </div>\n      element.appendChild(\n        makeElement({\n          tagName: \"div\",\n          className: css.attachmentMetadataContainer,\n          childNodes: makeElement({\n            tagName: \"span\",\n            className: css.attachmentMetadata,\n            childNodes: [\n              makeElement({\n                tagName: \"span\",\n                className: css.attachmentName,\n                textContent: this.attachment.getFilename(),\n                attributes: { title: this.attachment.getFilename() },\n              }),\n              makeElement({\n                tagName: \"span\",\n                className: css.attachmentSize,\n                textContent: this.attachment.getFormattedFilesize(),\n              }),\n            ],\n          }),\n        })\n      )\n    }\n\n    handleEvent(\"click\", { onElement: element, withCallback: this.didClickToolbar })\n    handleEvent(\"click\", {\n      onElement: element,\n      matchingSelector: \"[data-trix-action]\",\n      withCallback: this.didClickActionButton,\n    })\n\n    triggerEvent(\"trix-attachment-before-toolbar\", { onElement: this.element, attributes: { toolbar: element, attachment: this.attachment } })\n\n    return {\n      do: () => this.element.appendChild(element),\n      undo: () => removeNode(element),\n    }\n  })\n\n  installCaptionEditor = undoable(() => {\n    const textarea = makeElement({\n      tagName: \"textarea\",\n      className: css.attachmentCaptionEditor,\n      attributes: { placeholder: lang.captionPlaceholder },\n      data: { trixMutable: true },\n    })\n    textarea.value = this.attachmentPiece.getCaption()\n\n    const textareaClone = textarea.cloneNode()\n    textareaClone.classList.add(\"trix-autoresize-clone\")\n    textareaClone.tabIndex = -1\n\n    const autoresize = function() {\n      textareaClone.value = textarea.value\n      textarea.style.height = textareaClone.scrollHeight + \"px\"\n    }\n\n    handleEvent(\"input\", { onElement: textarea, withCallback: autoresize })\n    handleEvent(\"input\", { onElement: textarea, withCallback: this.didInputCaption })\n    handleEvent(\"keydown\", { onElement: textarea, withCallback: this.didKeyDownCaption })\n    handleEvent(\"change\", { onElement: textarea, withCallback: this.didChangeCaption })\n    handleEvent(\"blur\", { onElement: textarea, withCallback: this.didBlurCaption })\n\n    const figcaption = this.element.querySelector(\"figcaption\")\n    const editingFigcaption = figcaption.cloneNode()\n\n    return {\n      do: () => {\n        figcaption.style.display = \"none\"\n        editingFigcaption.appendChild(textarea)\n        editingFigcaption.appendChild(textareaClone)\n        editingFigcaption.classList.add(`${css.attachmentCaption}--editing`)\n        figcaption.parentElement.insertBefore(editingFigcaption, figcaption)\n        autoresize()\n        if (this.options.editCaption) {\n          return defer(() => textarea.focus())\n        }\n      },\n      undo() {\n        removeNode(editingFigcaption)\n        figcaption.style.display = null\n      },\n    }\n  })\n\n  // Event handlers\n\n  didClickToolbar(event) {\n    event.preventDefault()\n    return event.stopPropagation()\n  }\n\n  didClickActionButton(event) {\n    const action = event.target.getAttribute(\"data-trix-action\")\n    switch (action) {\n      case \"remove\":\n        return this.delegate?.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)\n    }\n  }\n\n  didKeyDownCaption(event) {\n    if (keyNames[event.keyCode] === \"return\") {\n      event.preventDefault()\n      this.savePendingCaption()\n      return this.delegate?.attachmentEditorDidRequestDeselectingAttachment?.(this.attachment)\n    }\n  }\n\n  didInputCaption(event) {\n    this.pendingCaption = event.target.value.replace(/\\s/g, \" \").trim()\n  }\n\n  didChangeCaption(event) {\n    return this.savePendingCaption()\n  }\n\n  didBlurCaption(event) {\n    return this.savePendingCaption()\n  }\n}\n","import BasicObject from \"trix/core/basic_object\"\nimport DocumentView from \"trix/views/document_view\"\nimport AttachmentEditorController from \"trix/controllers/attachment_editor_controller\"\n\nimport { defer, findClosestElementFromNode, handleEvent, innerElementIsActive } from \"trix/core/helpers\"\nimport { attachmentSelector } from \"trix/config/attachments\"\n\nexport default class CompositionController extends BasicObject {\n  constructor(element, composition) {\n    super(...arguments)\n    this.didFocus = this.didFocus.bind(this)\n    this.didBlur = this.didBlur.bind(this)\n    this.didClickAttachment = this.didClickAttachment.bind(this)\n\n    this.element = element\n    this.composition = composition\n    this.documentView = new DocumentView(this.composition.document, { element: this.element })\n\n    handleEvent(\"focus\", { onElement: this.element, withCallback: this.didFocus })\n    handleEvent(\"blur\", { onElement: this.element, withCallback: this.didBlur })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: \"a[contenteditable=false]\",\n      preventDefault: true,\n    })\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: attachmentSelector,\n      withCallback: this.didClickAttachment,\n    })\n    handleEvent(\"click\", { onElement: this.element, matchingSelector: `a${attachmentSelector}`, preventDefault: true })\n  }\n\n  didFocus(event) {\n    const perform = () => {\n      if (!this.focused) {\n        this.focused = true\n        return this.delegate?.compositionControllerDidFocus?.()\n      }\n    }\n\n    return this.blurPromise?.then(perform) || perform()\n  }\n\n  didBlur(event) {\n    this.blurPromise = new Promise((resolve) => {\n      return defer(() => {\n        if (!innerElementIsActive(this.element)) {\n          this.focused = null\n          this.delegate?.compositionControllerDidBlur?.()\n        }\n        this.blurPromise = null\n        return resolve()\n      })\n    })\n  }\n\n  didClickAttachment(event, target) {\n    const attachment = this.findAttachmentForElement(target)\n    const editCaption = !!findClosestElementFromNode(event.target, { matchingSelector: \"figcaption\" })\n    return this.delegate?.compositionControllerDidSelectAttachment?.(attachment, { editCaption })\n  }\n\n  getSerializableElement() {\n    if (this.isEditingAttachment()) {\n      return this.documentView.shadowElement\n    } else {\n      return this.element\n    }\n  }\n\n  render() {\n    if (this.revision !== this.composition.revision) {\n      this.documentView.setDocument(this.composition.document)\n      this.documentView.render()\n      this.revision = this.composition.revision\n    }\n\n    if (this.canSyncDocumentView() && !this.documentView.isSynced()) {\n      this.delegate?.compositionControllerWillSyncDocumentView?.()\n      this.documentView.sync()\n      this.delegate?.compositionControllerDidSyncDocumentView?.()\n    }\n\n    return this.delegate?.compositionControllerDidRender?.()\n  }\n\n  rerenderViewForObject(object) {\n    this.invalidateViewForObject(object)\n    return this.render()\n  }\n\n  invalidateViewForObject(object) {\n    return this.documentView.invalidateViewForObject(object)\n  }\n\n  isViewCachingEnabled() {\n    return this.documentView.isViewCachingEnabled()\n  }\n\n  enableViewCaching() {\n    return this.documentView.enableViewCaching()\n  }\n\n  disableViewCaching() {\n    return this.documentView.disableViewCaching()\n  }\n\n  refreshViewCache() {\n    return this.documentView.garbageCollectCachedViews()\n  }\n\n  // Attachment editor management\n\n  isEditingAttachment() {\n    return !!this.attachmentEditor\n  }\n\n  installAttachmentEditorForAttachment(attachment, options) {\n    if (this.attachmentEditor?.attachment === attachment) return\n    const element = this.documentView.findElementForObject(attachment)\n    if (!element) return\n\n    this.uninstallAttachmentEditor()\n    const attachmentPiece = this.composition.document.getAttachmentPieceForAttachment(attachment)\n    this.attachmentEditor = new AttachmentEditorController(attachmentPiece, element, this.element, options)\n    this.attachmentEditor.delegate = this\n  }\n\n  uninstallAttachmentEditor() {\n    return this.attachmentEditor?.uninstall()\n  }\n\n  // Attachment controller delegate\n\n  didUninstallAttachmentEditor() {\n    this.attachmentEditor = null\n    return this.render()\n  }\n\n  attachmentEditorDidRequestUpdatingAttributesForAttachment(attributes, attachment) {\n    this.delegate?.compositionControllerWillUpdateAttachment?.(attachment)\n    return this.composition.updateAttributesForAttachment(attributes, attachment)\n  }\n\n  attachmentEditorDidRequestRemovingAttributeForAttachment(attribute, attachment) {\n    this.delegate?.compositionControllerWillUpdateAttachment?.(attachment)\n    return this.composition.removeAttributeForAttachment(attribute, attachment)\n  }\n\n  attachmentEditorDidRequestRemovalOfAttachment(attachment) {\n    return this.delegate?.compositionControllerDidRequestRemovalOfAttachment?.(attachment)\n  }\n\n  attachmentEditorDidRequestDeselectingAttachment(attachment) {\n    return this.delegate?.compositionControllerDidRequestDeselectingAttachment?.(attachment)\n  }\n\n  // Private\n\n  canSyncDocumentView() {\n    return !this.isEditingAttachment()\n  }\n\n  findAttachmentForElement(element) {\n    return this.composition.document.getAttachmentById(parseInt(element.dataset.trixId, 10))\n  }\n}\n","import \"trix/views/object_view\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class Controller extends BasicObject {}\n","import BasicObject from \"trix/core/basic_object\"\n\nimport {\n  findClosestElementFromNode,\n  nodeIsBlockStartComment,\n  nodeIsEmptyTextNode,\n  normalizeSpaces,\n  summarizeStringChange,\n  tagName,\n} from \"trix/core/helpers\"\n\nconst mutableAttributeName = \"data-trix-mutable\"\nconst mutableSelector = `[${mutableAttributeName}]`\n\nconst options = {\n  attributes: true,\n  childList: true,\n  characterData: true,\n  characterDataOldValue: true,\n  subtree: true,\n}\n\nexport default class MutationObserver extends BasicObject {\n  constructor(element) {\n    super(element)\n    this.didMutate = this.didMutate.bind(this)\n    this.element = element\n    this.observer = new window.MutationObserver(this.didMutate)\n    this.start()\n  }\n\n  start() {\n    this.reset()\n    return this.observer.observe(this.element, options)\n  }\n\n  stop() {\n    return this.observer.disconnect()\n  }\n\n  didMutate(mutations) {\n    this.mutations.push(...Array.from(this.findSignificantMutations(mutations) || []))\n\n    if (this.mutations.length) {\n      this.delegate?.elementDidMutate?.(this.getMutationSummary())\n      return this.reset()\n    }\n  }\n\n  // Private\n\n  reset() {\n    this.mutations = []\n  }\n\n  findSignificantMutations(mutations) {\n    return mutations.filter((mutation) => {\n      return this.mutationIsSignificant(mutation)\n    })\n  }\n\n  mutationIsSignificant(mutation) {\n    if (this.nodeIsMutable(mutation.target)) {\n      return false\n    }\n    for (const node of Array.from(this.nodesModifiedByMutation(mutation))) {\n      if (this.nodeIsSignificant(node)) return true\n    }\n    return false\n  }\n\n  nodeIsSignificant(node) {\n    return node !== this.element && !this.nodeIsMutable(node) && !nodeIsEmptyTextNode(node)\n  }\n\n  nodeIsMutable(node) {\n    return findClosestElementFromNode(node, { matchingSelector: mutableSelector })\n  }\n\n  nodesModifiedByMutation(mutation) {\n    const nodes = []\n    switch (mutation.type) {\n      case \"attributes\":\n        if (mutation.attributeName !== mutableAttributeName) {\n          nodes.push(mutation.target)\n        }\n        break\n      case \"characterData\":\n        // Changes to text nodes should consider the parent element\n        nodes.push(mutation.target.parentNode)\n        nodes.push(mutation.target)\n        break\n      case \"childList\":\n        // Consider each added or removed node\n        nodes.push(...Array.from(mutation.addedNodes || []))\n        nodes.push(...Array.from(mutation.removedNodes || []))\n        break\n    }\n    return nodes\n  }\n\n  getMutationSummary() {\n    return this.getTextMutationSummary()\n  }\n\n  getTextMutationSummary() {\n    const { additions, deletions } = this.getTextChangesFromCharacterData()\n    const textChanges = this.getTextChangesFromChildList()\n\n    Array.from(textChanges.additions).forEach((addition) => {\n      if (!Array.from(additions).includes(addition)) {\n        additions.push(addition)\n      }\n    })\n\n    deletions.push(...Array.from(textChanges.deletions || []))\n\n    const summary = {}\n\n    const added = additions.join(\"\")\n    if (added) {\n      summary.textAdded = added\n    }\n\n    const deleted = deletions.join(\"\")\n    if (deleted) {\n      summary.textDeleted = deleted\n    }\n\n    return summary\n  }\n\n  getMutationsByType(type) {\n    return Array.from(this.mutations).filter((mutation) => mutation.type === type)\n  }\n\n  getTextChangesFromChildList() {\n    let textAdded, textRemoved\n    const addedNodes = []\n    const removedNodes = []\n\n    Array.from(this.getMutationsByType(\"childList\")).forEach((mutation) => {\n      addedNodes.push(...Array.from(mutation.addedNodes || []))\n      removedNodes.push(...Array.from(mutation.removedNodes || []))\n    })\n\n    const singleBlockCommentRemoved =\n      addedNodes.length === 0 && removedNodes.length === 1 && nodeIsBlockStartComment(removedNodes[0])\n\n    if (singleBlockCommentRemoved) {\n      textAdded = []\n      textRemoved = [ \"\\n\" ]\n    } else {\n      textAdded = getTextForNodes(addedNodes)\n      textRemoved = getTextForNodes(removedNodes)\n    }\n\n    const additions = textAdded.filter((text, index) => text !== textRemoved[index]).map(normalizeSpaces)\n    const deletions = textRemoved.filter((text, index) => text !== textAdded[index]).map(normalizeSpaces)\n\n    return { additions, deletions }\n  }\n\n  getTextChangesFromCharacterData() {\n    let added, removed\n    const characterMutations = this.getMutationsByType(\"characterData\")\n\n    if (characterMutations.length) {\n      const startMutation = characterMutations[0],\n        endMutation = characterMutations[characterMutations.length - 1]\n\n      const oldString = normalizeSpaces(startMutation.oldValue)\n      const newString = normalizeSpaces(endMutation.target.data)\n      const summarized = summarizeStringChange(oldString, newString)\n      added = summarized.added\n      removed = summarized.removed\n    }\n\n    return {\n      additions: added ? [ added ] : [],\n      deletions: removed ? [ removed ] : [],\n    }\n  }\n}\n\nconst getTextForNodes = function(nodes = []) {\n  const text = []\n  for (const node of Array.from(nodes)) {\n    switch (node.nodeType) {\n      case Node.TEXT_NODE:\n        text.push(node.data)\n        break\n      case Node.ELEMENT_NODE:\n        if (tagName(node) === \"br\") {\n          text.push(\"\\n\")\n        } else {\n          text.push(...Array.from(getTextForNodes(node.childNodes) || []))\n        }\n        break\n    }\n  }\n  return text\n}\n","/* eslint-disable\n    no-empty,\n*/\nimport Operation from \"trix/core/utilities/operation\"\n\nexport default class FileVerificationOperation extends Operation {\n  constructor(file) {\n    super(...arguments)\n    this.file = file\n  }\n\n  perform(callback) {\n    const reader = new FileReader()\n\n    reader.onerror = () => callback(false)\n\n    reader.onload = () => {\n      reader.onerror = null\n      try {\n        reader.abort()\n      } catch (error) {}\n      return callback(true, this.file)\n    }\n\n    return reader.readAsArrayBuffer(this.file)\n  }\n}\n","import * as config from \"trix/config\"\nimport { NON_BREAKING_SPACE, OBJECT_REPLACEMENT_CHARACTER, ZERO_WIDTH_SPACE } from \"trix/constants\"\n\n// Each software keyboard on Android emits its own set of events and some of them can be buggy.\n// This class detects when some buggy events are being emitted and lets know the input controller\n// that they should be ignored.\nexport default class FlakyAndroidKeyboardDetector {\n  constructor(element) {\n    this.element = element\n  }\n\n  shouldIgnore(event) {\n    if (!config.browser.samsungAndroid) return false\n\n    this.previousEvent = this.event\n    this.event = event\n\n    this.checkSamsungKeyboardBuggyModeStart()\n    this.checkSamsungKeyboardBuggyModeEnd()\n\n    return this.buggyMode\n  }\n\n  // private\n\n  // The Samsung keyboard on Android can enter a buggy state in which it emits a flurry of confused events that,\n  // if processed, corrupts the editor. The buggy mode always starts with an insertText event, right after a\n  // keydown event with for an \"Unidentified\" key, with the same text as the editor element, except for a few\n  // extra whitespace, or exotic utf8, characters.\n  checkSamsungKeyboardBuggyModeStart() {\n    if (this.insertingLongTextAfterUnidentifiedChar() && differsInWhitespace(this.element.innerText, this.event.data)) {\n      this.buggyMode = true\n      this.event.preventDefault()\n    }\n  }\n\n  // The flurry of buggy events are always insertText. If we see any other type, it means it's over.\n  checkSamsungKeyboardBuggyModeEnd() {\n    if (this.buggyMode && this.event.inputType !== \"insertText\") {\n      this.buggyMode = false\n    }\n  }\n\n  insertingLongTextAfterUnidentifiedChar() {\n    return this.isBeforeInputInsertText() && this.previousEventWasUnidentifiedKeydown() && this.event.data?.length > 50\n  }\n\n  isBeforeInputInsertText() {\n    return this.event.type === \"beforeinput\" && this.event.inputType === \"insertText\"\n  }\n\n  previousEventWasUnidentifiedKeydown() {\n    return this.previousEvent?.type === \"keydown\" && this.previousEvent?.key === \"Unidentified\"\n  }\n}\n\nconst differsInWhitespace = (text1, text2) => {\n  return normalize(text1) === normalize(text2)\n}\n\nconst whiteSpaceNormalizerRegexp = new RegExp(`(${OBJECT_REPLACEMENT_CHARACTER}|${ZERO_WIDTH_SPACE}|${NON_BREAKING_SPACE}|\\\\s)+`, \"g\")\nconst normalize = (text) => text.replace(whiteSpaceNormalizerRegexp, \" \").trim()\n","import BasicObject from \"trix/core/basic_object\"\nimport MutationObserver from \"trix/observers/mutation_observer\"\nimport FileVerificationOperation from \"trix/operations/file_verification_operation\"\nimport FlakyAndroidKeyboardDetector from \"../models/flaky_android_keyboard_detector\"\n\nimport { handleEvent, innerElementIsActive } from \"trix/core/helpers\"\n\nexport default class InputController extends BasicObject {\n\n  static events = {}\n\n  constructor(element) {\n    super(...arguments)\n    this.element = element\n    this.mutationObserver = new MutationObserver(this.element)\n    this.mutationObserver.delegate = this\n    this.flakyKeyboardDetector = new FlakyAndroidKeyboardDetector(this.element)\n    for (const eventName in this.constructor.events) {\n      handleEvent(eventName, { onElement: this.element, withCallback: this.handlerFor(eventName) })\n    }\n  }\n\n  elementDidMutate(mutationSummary) {}\n\n  editorWillSyncDocumentView() {\n    return this.mutationObserver.stop()\n  }\n\n  editorDidSyncDocumentView() {\n    return this.mutationObserver.start()\n  }\n\n  requestRender() {\n    return this.delegate?.inputControllerDidRequestRender?.()\n  }\n\n  requestReparse() {\n    this.delegate?.inputControllerDidRequestReparse?.()\n    return this.requestRender()\n  }\n\n  attachFiles(files) {\n    const operations = Array.from(files).map((file) => new FileVerificationOperation(file))\n    return Promise.all(operations).then((files) => {\n      this.handleInput(function() {\n        this.delegate?.inputControllerWillAttachFiles()\n        this.responder?.insertFiles(files)\n        return this.requestRender()\n      })\n    })\n  }\n\n  // Private\n\n  handlerFor(eventName) {\n    return (event) => {\n      if (!event.defaultPrevented) {\n        this.handleInput(() => {\n          if (!innerElementIsActive(this.element)) {\n            if (this.flakyKeyboardDetector.shouldIgnore(event)) return\n\n            this.eventName = eventName\n            this.constructor.events[eventName].call(this, event)\n          }\n        })\n      }\n    }\n  }\n\n  handleInput(callback) {\n    try {\n      this.delegate?.inputControllerWillHandleInput()\n      callback.call(this)\n    } finally {\n      this.delegate?.inputControllerDidHandleInput()\n    }\n  }\n\n  createLinkHTML(href, text) {\n    const link = document.createElement(\"a\")\n    link.href = href\n    link.textContent = text ? text : href\n    return link.outerHTML\n  }\n}\n\n","import * as config from \"trix/config\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\nimport BasicObject from \"trix/core/basic_object\"\nimport InputController from \"trix/controllers/input_controller\"\nimport DocumentView from \"trix/views/document_view\"\nimport Document from \"trix/models/document\"\n\nimport {\n  dataTransferIsPlainText,\n  dataTransferIsWritable,\n  keyEventIsKeyboardCommand,\n  makeElement,\n  objectsAreEqual,\n  removeNode,\n  squishBreakableWhitespace,\n} from \"trix/core/helpers\"\n\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nconst { browser, keyNames } = config\nlet pastedFileCount = 0\n\nexport default class Level0InputController extends InputController {\n\n  static events = {\n    keydown(event) {\n      if (!this.isComposing()) {\n        this.resetInputSummary()\n      }\n      this.inputSummary.didInput = true\n\n      const keyName = keyNames[event.keyCode]\n      if (keyName) {\n        let context = this.keys\n\n        ;[ \"ctrl\", \"alt\", \"shift\", \"meta\" ].forEach((modifier) => {\n          if (event[`${modifier}Key`]) {\n            if (modifier === \"ctrl\") {\n              modifier = \"control\"\n            }\n            context = context?.[modifier]\n          }\n        })\n\n        if (context?.[keyName] != null) {\n          this.setInputSummary({ keyName })\n          selectionChangeObserver.reset()\n          context[keyName].call(this, event)\n        }\n      }\n\n      if (keyEventIsKeyboardCommand(event)) {\n        const character = String.fromCharCode(event.keyCode).toLowerCase()\n        if (character) {\n          const keys = [ \"alt\", \"shift\" ].map((modifier) => {\n            if (event[`${modifier}Key`]) {\n              return modifier\n            }\n          }).filter(key => key)\n          keys.push(character)\n          if (this.delegate?.inputControllerDidReceiveKeyboardCommand(keys)) {\n            event.preventDefault()\n          }\n        }\n      }\n    },\n\n    keypress(event) {\n      if (this.inputSummary.eventName != null) return\n      if (event.metaKey) return\n      if (event.ctrlKey && !event.altKey) return\n\n      const string = stringFromKeyEvent(event)\n      if (string) {\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(string)\n        return this.setInputSummary({ textAdded: string, didDelete: this.selectionIsExpanded() })\n      }\n    },\n\n    textInput(event) {\n      // Handle autocapitalization\n      const { data } = event\n      const { textAdded } = this.inputSummary\n      if (textAdded && textAdded !== data && textAdded.toUpperCase() === data) {\n        const range = this.getSelectedRange()\n        this.setSelectedRange([ range[0], range[1] + textAdded.length ])\n        this.responder?.insertString(data)\n        this.setInputSummary({ textAdded: data })\n        return this.setSelectedRange(range)\n      }\n    },\n\n    dragenter(event) {\n      event.preventDefault()\n    },\n\n    dragstart(event) {\n      this.serializeSelectionToDataTransfer(event.dataTransfer)\n      this.draggedRange = this.getSelectedRange()\n      return this.delegate?.inputControllerDidStartDrag?.()\n    },\n\n    dragover(event) {\n      if (this.draggedRange || this.canAcceptDataTransfer(event.dataTransfer)) {\n        event.preventDefault()\n        const draggingPoint = { x: event.clientX, y: event.clientY }\n        if (!objectsAreEqual(draggingPoint, this.draggingPoint)) {\n          this.draggingPoint = draggingPoint\n          return this.delegate?.inputControllerDidReceiveDragOverPoint?.(this.draggingPoint)\n        }\n      }\n    },\n\n    dragend(event) {\n      this.delegate?.inputControllerDidCancelDrag?.()\n      this.draggedRange = null\n      this.draggingPoint = null\n    },\n\n    drop(event) {\n      event.preventDefault()\n      const files = event.dataTransfer?.files\n      const documentJSON = event.dataTransfer.getData(\"application/x-trix-document\")\n\n      const point = { x: event.clientX, y: event.clientY }\n      this.responder?.setLocationRangeFromPointRange(point)\n\n      if (files?.length) {\n        this.attachFiles(files)\n      } else if (this.draggedRange) {\n        this.delegate?.inputControllerWillMoveText()\n        this.responder?.moveTextFromRange(this.draggedRange)\n        this.draggedRange = null\n        this.requestRender()\n      } else if (documentJSON) {\n        const document = Document.fromJSONString(documentJSON)\n        this.responder?.insertDocument(document)\n        this.requestRender()\n      }\n\n      this.draggedRange = null\n      this.draggingPoint = null\n    },\n\n    cut(event) {\n      if (this.responder?.selectionIsExpanded()) {\n        if (this.serializeSelectionToDataTransfer(event.clipboardData)) {\n          event.preventDefault()\n        }\n\n        this.delegate?.inputControllerWillCutText()\n        this.deleteInDirection(\"backward\")\n        if (event.defaultPrevented) {\n          return this.requestRender()\n        }\n      }\n    },\n\n    copy(event) {\n      if (this.responder?.selectionIsExpanded()) {\n        if (this.serializeSelectionToDataTransfer(event.clipboardData)) {\n          event.preventDefault()\n        }\n      }\n    },\n\n    paste(event) {\n      const clipboard = event.clipboardData || event.testClipboardData\n      const paste = { clipboard }\n\n      if (!clipboard || pasteEventIsCrippledSafariHTMLPaste(event)) {\n        this.getPastedHTMLUsingHiddenElement((html) => {\n          paste.type = \"text/html\"\n          paste.html = html\n          this.delegate?.inputControllerWillPaste(paste)\n          this.responder?.insertHTML(paste.html)\n          this.requestRender()\n          return this.delegate?.inputControllerDidPaste(paste)\n        })\n        return\n      }\n\n      const href = clipboard.getData(\"URL\")\n      const html = clipboard.getData(\"text/html\")\n      const name = clipboard.getData(\"public.url-name\")\n\n      if (href) {\n        let string\n        paste.type = \"text/html\"\n        if (name) {\n          string = squishBreakableWhitespace(name).trim()\n        } else {\n          string = href\n        }\n        paste.html = this.createLinkHTML(href, string)\n        this.delegate?.inputControllerWillPaste(paste)\n        this.setInputSummary({ textAdded: string, didDelete: this.selectionIsExpanded() })\n        this.responder?.insertHTML(paste.html)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (dataTransferIsPlainText(clipboard)) {\n        paste.type = \"text/plain\"\n        paste.string = clipboard.getData(\"text/plain\")\n        this.delegate?.inputControllerWillPaste(paste)\n        this.setInputSummary({ textAdded: paste.string, didDelete: this.selectionIsExpanded() })\n        this.responder?.insertString(paste.string)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (html) {\n        paste.type = \"text/html\"\n        paste.html = html\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertHTML(paste.html)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (Array.from(clipboard.types).includes(\"Files\")) {\n        const file = clipboard.items?.[0]?.getAsFile?.()\n        if (file) {\n          const extension = extensionForFile(file)\n          if (!file.name && extension) {\n            file.name = `pasted-file-${++pastedFileCount}.${extension}`\n          }\n          paste.type = \"File\"\n          paste.file = file\n          this.delegate?.inputControllerWillAttachFiles()\n          this.responder?.insertFile(paste.file)\n          this.requestRender()\n          this.delegate?.inputControllerDidPaste(paste)\n        }\n      }\n\n      event.preventDefault()\n    },\n\n    compositionstart(event) {\n      return this.getCompositionInput().start(event.data)\n    },\n\n    compositionupdate(event) {\n      return this.getCompositionInput().update(event.data)\n    },\n\n    compositionend(event) {\n      return this.getCompositionInput().end(event.data)\n    },\n\n    beforeinput(event) {\n      this.inputSummary.didInput = true\n    },\n\n    input(event) {\n      this.inputSummary.didInput = true\n      return event.stopPropagation()\n    },\n  }\n\n  static keys = {\n    backspace(event) {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.deleteInDirection(\"backward\", event)\n    },\n\n    delete(event) {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.deleteInDirection(\"forward\", event)\n    },\n\n    return(event) {\n      this.setInputSummary({ preferDocument: true })\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.responder?.insertLineBreak()\n    },\n\n    tab(event) {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        this.responder?.increaseNestingLevel()\n        this.requestRender()\n        event.preventDefault()\n      }\n    },\n\n    left(event) {\n      if (this.selectionIsInCursorTarget()) {\n        event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"backward\")\n      }\n    },\n\n    right(event) {\n      if (this.selectionIsInCursorTarget()) {\n        event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"forward\")\n      }\n    },\n\n    control: {\n      d(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        return this.deleteInDirection(\"forward\", event)\n      },\n\n      h(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        return this.deleteInDirection(\"backward\", event)\n      },\n\n      o(event) {\n        event.preventDefault()\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(\"\\n\", { updatePosition: false })\n        return this.requestRender()\n      },\n    },\n\n    shift: {\n      return(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(\"\\n\")\n        this.requestRender()\n        event.preventDefault()\n      },\n\n      tab(event) {\n        if (this.responder?.canDecreaseNestingLevel()) {\n          this.responder?.decreaseNestingLevel()\n          this.requestRender()\n          event.preventDefault()\n        }\n      },\n\n      left(event) {\n        if (this.selectionIsInCursorTarget()) {\n          event.preventDefault()\n          return this.expandSelectionInDirection(\"backward\")\n        }\n      },\n\n      right(event) {\n        if (this.selectionIsInCursorTarget()) {\n          event.preventDefault()\n          return this.expandSelectionInDirection(\"forward\")\n        }\n      },\n    },\n\n    alt: {\n      backspace(event) {\n        this.setInputSummary({ preferDocument: false })\n        return this.delegate?.inputControllerWillPerformTyping()\n      },\n    },\n\n    meta: {\n      backspace(event) {\n        this.setInputSummary({ preferDocument: false })\n        return this.delegate?.inputControllerWillPerformTyping()\n      },\n    },\n  }\n\n  constructor() {\n    super(...arguments)\n    this.resetInputSummary()\n  }\n\n  setInputSummary(summary = {}) {\n    this.inputSummary.eventName = this.eventName\n    for (const key in summary) {\n      const value = summary[key]\n      this.inputSummary[key] = value\n    }\n    return this.inputSummary\n  }\n\n  resetInputSummary() {\n    this.inputSummary = {}\n  }\n\n  reset() {\n    this.resetInputSummary()\n    return selectionChangeObserver.reset()\n  }\n\n  // Mutation observer delegate\n\n  elementDidMutate(mutationSummary) {\n    if (this.isComposing()) {\n      return this.delegate?.inputControllerDidAllowUnhandledInput?.()\n    } else {\n      return this.handleInput(function() {\n        if (this.mutationIsSignificant(mutationSummary)) {\n          if (this.mutationIsExpected(mutationSummary)) {\n            this.requestRender()\n          } else {\n            this.requestReparse()\n          }\n        }\n        return this.reset()\n      })\n    }\n  }\n\n  mutationIsExpected({ textAdded, textDeleted }) {\n    if (this.inputSummary.preferDocument) {\n      return true\n    }\n\n    const mutationAdditionMatchesSummary =\n      textAdded != null ? textAdded === this.inputSummary.textAdded : !this.inputSummary.textAdded\n    const mutationDeletionMatchesSummary =\n      textDeleted != null ? this.inputSummary.didDelete : !this.inputSummary.didDelete\n\n    const unexpectedNewlineAddition = [ \"\\n\", \" \\n\" ].includes(textAdded) && !mutationAdditionMatchesSummary\n    const unexpectedNewlineDeletion = textDeleted === \"\\n\" && !mutationDeletionMatchesSummary\n    const singleUnexpectedNewline =\n      unexpectedNewlineAddition && !unexpectedNewlineDeletion ||\n      unexpectedNewlineDeletion && !unexpectedNewlineAddition\n\n    if (singleUnexpectedNewline) {\n      const range = this.getSelectedRange()\n      if (range) {\n        const offset = unexpectedNewlineAddition ? textAdded.replace(/\\n$/, \"\").length || -1 : textAdded?.length || 1\n        if (this.responder?.positionIsBlockBreak(range[1] + offset)) {\n          return true\n        }\n      }\n    }\n\n    return mutationAdditionMatchesSummary && mutationDeletionMatchesSummary\n  }\n\n  mutationIsSignificant(mutationSummary) {\n    const textChanged = Object.keys(mutationSummary).length > 0\n    const composedEmptyString = this.compositionInput?.getEndData() === \"\"\n    return textChanged || !composedEmptyString\n  }\n\n  // Private\n\n  getCompositionInput() {\n    if (this.isComposing()) {\n      return this.compositionInput\n    } else {\n      this.compositionInput = new CompositionInput(this)\n    }\n  }\n\n  isComposing() {\n    return this.compositionInput && !this.compositionInput.isEnded()\n  }\n\n  deleteInDirection(direction, event) {\n    if (this.responder?.deleteInDirection(direction) === false) {\n      if (event) {\n        event.preventDefault()\n        return this.requestRender()\n      }\n    } else {\n      return this.setInputSummary({ didDelete: true })\n    }\n  }\n\n  serializeSelectionToDataTransfer(dataTransfer) {\n    if (!dataTransferIsWritable(dataTransfer)) return\n    const document = this.responder?.getSelectedDocument().toSerializableDocument()\n\n    dataTransfer.setData(\"application/x-trix-document\", JSON.stringify(document))\n    dataTransfer.setData(\"text/html\", DocumentView.render(document).innerHTML)\n    dataTransfer.setData(\"text/plain\", document.toString().replace(/\\n$/, \"\"))\n    return true\n  }\n\n  canAcceptDataTransfer(dataTransfer) {\n    const types = {}\n    Array.from(dataTransfer?.types || []).forEach((type) => {\n      types[type] = true\n    })\n    return types.Files || types[\"application/x-trix-document\"] || types[\"text/html\"] || types[\"text/plain\"]\n  }\n\n  getPastedHTMLUsingHiddenElement(callback) {\n    const selectedRange = this.getSelectedRange()\n\n    const style = {\n      position: \"absolute\",\n      left: `${window.pageXOffset}px`,\n      top: `${window.pageYOffset}px`,\n      opacity: 0,\n    }\n\n    const element = makeElement({ style, tagName: \"div\", editable: true })\n    document.body.appendChild(element)\n    element.focus()\n\n    return requestAnimationFrame(() => {\n      const html = element.innerHTML\n      removeNode(element)\n      this.setSelectedRange(selectedRange)\n      return callback(html)\n    })\n  }\n}\n\nLevel0InputController.proxyMethod(\"responder?.getSelectedRange\")\nLevel0InputController.proxyMethod(\"responder?.setSelectedRange\")\nLevel0InputController.proxyMethod(\"responder?.expandSelectionInDirection\")\nLevel0InputController.proxyMethod(\"responder?.selectionIsInCursorTarget\")\nLevel0InputController.proxyMethod(\"responder?.selectionIsExpanded\")\n\nconst extensionForFile = (file) => file.type?.match(/\\/(\\w+)$/)?.[1]\n\nconst hasStringCodePointAt = !!\" \".codePointAt?.(0)\n\nconst stringFromKeyEvent = function(event) {\n  if (event.key && hasStringCodePointAt && event.key.codePointAt(0) === event.keyCode) {\n    return event.key\n  } else {\n    let code\n    if (event.which === null) {\n      code = event.keyCode\n    } else if (event.which !== 0 && event.charCode !== 0) {\n      code = event.charCode\n    }\n\n    if (code != null && keyNames[code] !== \"escape\") {\n      return UTF16String.fromCodepoints([ code ]).toString()\n    }\n  }\n}\n\nconst pasteEventIsCrippledSafariHTMLPaste = function(event) {\n  const paste = event.clipboardData\n  if (paste) {\n    if (paste.types.includes(\"text/html\")) {\n      // Answer is yes if there's any possibility of Paste and Match Style in Safari,\n      // which is nearly impossible to detect confidently: https://bugs.webkit.org/show_bug.cgi?id=174165\n      for (const type of paste.types) {\n        const hasPasteboardFlavor = /^CorePasteboardFlavorType/.test(type)\n        const hasReadableDynamicData = /^dyn\\./.test(type) && paste.getData(type)\n        const mightBePasteAndMatchStyle = hasPasteboardFlavor || hasReadableDynamicData\n        if (mightBePasteAndMatchStyle) {\n          return true\n        }\n      }\n      return false\n    } else {\n      const isExternalHTMLPaste = paste.types.includes(\"com.apple.webarchive\")\n      const isExternalRichTextPaste = paste.types.includes(\"com.apple.flat-rtfd\")\n      return isExternalHTMLPaste || isExternalRichTextPaste\n    }\n  }\n}\n\nclass CompositionInput extends BasicObject {\n  constructor(inputController) {\n    super(...arguments)\n    this.inputController = inputController\n    this.responder = this.inputController.responder\n    this.delegate = this.inputController.delegate\n    this.inputSummary = this.inputController.inputSummary\n    this.data = {}\n  }\n\n  start(data) {\n    this.data.start = data\n\n    if (this.isSignificant()) {\n      if (this.inputSummary.eventName === \"keypress\" && this.inputSummary.textAdded) {\n        this.responder?.deleteInDirection(\"left\")\n      }\n\n      if (!this.selectionIsExpanded()) {\n        this.insertPlaceholder()\n        this.requestRender()\n      }\n\n      this.range = this.responder?.getSelectedRange()\n    }\n  }\n\n  update(data) {\n    this.data.update = data\n\n    if (this.isSignificant()) {\n      const range = this.selectPlaceholder()\n      if (range) {\n        this.forgetPlaceholder()\n        this.range = range\n      }\n    }\n  }\n\n  end(data) {\n    this.data.end = data\n\n    if (this.isSignificant()) {\n      this.forgetPlaceholder()\n\n      if (this.canApplyToDocument()) {\n        this.setInputSummary({ preferDocument: true, didInput: false })\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.setSelectedRange(this.range)\n        this.responder?.insertString(this.data.end)\n        return this.responder?.setSelectedRange(this.range[0] + this.data.end.length)\n      } else if (this.data.start != null || this.data.update != null) {\n        this.requestReparse()\n        return this.inputController.reset()\n      }\n    } else {\n      return this.inputController.reset()\n    }\n  }\n\n  getEndData() {\n    return this.data.end\n  }\n\n  isEnded() {\n    return this.getEndData() != null\n  }\n\n  isSignificant() {\n    if (browser.composesExistingText) {\n      return this.inputSummary.didInput\n    } else {\n      return true\n    }\n  }\n\n  // Private\n\n  canApplyToDocument() {\n    return this.data.start?.length === 0 && this.data.end?.length > 0 && this.range\n  }\n}\n\nCompositionInput.proxyMethod(\"inputController.setInputSummary\")\nCompositionInput.proxyMethod(\"inputController.requestRender\")\nCompositionInput.proxyMethod(\"inputController.requestReparse\")\nCompositionInput.proxyMethod(\"responder?.selectionIsExpanded\")\nCompositionInput.proxyMethod(\"responder?.insertPlaceholder\")\nCompositionInput.proxyMethod(\"responder?.selectPlaceholder\")\nCompositionInput.proxyMethod(\"responder?.forgetPlaceholder\")\n","import { getAllAttributeNames, shouldRenderInmmediatelyToDealWithIOSDictation, squishBreakableWhitespace } from \"trix/core/helpers\"\nimport InputController from \"trix/controllers/input_controller\"\nimport * as config from \"trix/config\"\n\nimport { dataTransferIsMsOfficePaste, dataTransferIsPlainText, keyEventIsKeyboardCommand, objectsAreEqual } from \"trix/core/helpers\"\n\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nexport default class Level2InputController extends InputController {\n  constructor(...args) {\n    super(...args)\n    this.render = this.render.bind(this)\n  }\n\n  static events = {\n    keydown(event) {\n      if (keyEventIsKeyboardCommand(event)) {\n        const command = keyboardCommandFromKeyEvent(event)\n        if (this.delegate?.inputControllerDidReceiveKeyboardCommand(command)) {\n          event.preventDefault()\n        }\n      } else {\n        let name = event.key\n        if (event.altKey) {\n          name += \"+Alt\"\n        }\n        if (event.shiftKey) {\n          name += \"+Shift\"\n        }\n        const handler = this.constructor.keys[name]\n        if (handler) {\n          return this.withEvent(event, handler)\n        }\n      }\n    },\n\n    // Handle paste event to work around beforeinput.insertFromPaste browser bugs.\n    // Safe to remove each condition once fixed upstream.\n    paste(event) {\n      // https://bugs.webkit.org/show_bug.cgi?id=194921\n      let paste\n      const href = event.clipboardData?.getData(\"URL\")\n      if (pasteEventHasFilesOnly(event)) {\n        event.preventDefault()\n        return this.attachFiles(event.clipboardData.files)\n\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=934448\n      } else if (pasteEventHasPlainTextOnly(event)) {\n        event.preventDefault()\n        paste = {\n          type: \"text/plain\",\n          string: event.clipboardData.getData(\"text/plain\"),\n        }\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertString(paste.string)\n        this.render()\n        return this.delegate?.inputControllerDidPaste(paste)\n\n        // https://bugs.webkit.org/show_bug.cgi?id=196702\n      } else if (href) {\n        event.preventDefault()\n        paste = {\n          type: \"text/html\",\n          html: this.createLinkHTML(href),\n        }\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertHTML(paste.html)\n        this.render()\n        return this.delegate?.inputControllerDidPaste(paste)\n      }\n    },\n\n    beforeinput(event) {\n      const handler = this.constructor.inputTypes[event.inputType]\n\n      const immmediateRender = shouldRenderInmmediatelyToDealWithIOSDictation(event)\n\n      if (handler) {\n        this.withEvent(event, handler)\n\n        if (!immmediateRender) {\n          this.scheduleRender()\n        }\n      }\n\n      if (immmediateRender) {\n        this.render()\n      }\n    },\n\n    input(event) {\n      selectionChangeObserver.reset()\n    },\n\n    dragstart(event) {\n      if (this.responder?.selectionContainsAttachments()) {\n        event.dataTransfer.setData(\"application/x-trix-dragging\", true)\n\n        this.dragging = {\n          range: this.responder?.getSelectedRange(),\n          point: pointFromEvent(event),\n        }\n      }\n    },\n\n    dragenter(event) {\n      if (dragEventHasFiles(event)) {\n        event.preventDefault()\n      }\n    },\n\n    dragover(event) {\n      if (this.dragging) {\n        event.preventDefault()\n        const point = pointFromEvent(event)\n        if (!objectsAreEqual(point, this.dragging.point)) {\n          this.dragging.point = point\n          return this.responder?.setLocationRangeFromPointRange(point)\n        }\n      } else if (dragEventHasFiles(event)) {\n        event.preventDefault()\n      }\n    },\n\n    drop(event) {\n      if (this.dragging) {\n        event.preventDefault()\n        this.delegate?.inputControllerWillMoveText()\n        this.responder?.moveTextFromRange(this.dragging.range)\n        this.dragging = null\n        return this.scheduleRender()\n      } else if (dragEventHasFiles(event)) {\n        event.preventDefault()\n        const point = pointFromEvent(event)\n        this.responder?.setLocationRangeFromPointRange(point)\n        return this.attachFiles(event.dataTransfer.files)\n      }\n    },\n\n    dragend() {\n      if (this.dragging) {\n        this.responder?.setSelectedRange(this.dragging.range)\n        this.dragging = null\n      }\n    },\n\n    compositionend(event) {\n      if (this.composing) {\n        this.composing = false\n        if (!config.browser.recentAndroid) this.scheduleRender()\n      }\n    },\n  }\n\n  static keys = {\n    ArrowLeft() {\n      if (this.responder?.shouldManageMovingCursorInDirection(\"backward\")) {\n        this.event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"backward\")\n      }\n    },\n\n    ArrowRight() {\n      if (this.responder?.shouldManageMovingCursorInDirection(\"forward\")) {\n        this.event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"forward\")\n      }\n    },\n\n    Backspace() {\n      if (this.responder?.shouldManageDeletingInDirection(\"backward\")) {\n        this.event.preventDefault()\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.deleteInDirection(\"backward\")\n        return this.render()\n      }\n    },\n\n    Tab() {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        this.event.preventDefault()\n        this.responder?.increaseNestingLevel()\n        return this.render()\n      }\n    },\n\n    \"Tab+Shift\"() {\n      if (this.responder?.canDecreaseNestingLevel()) {\n        this.event.preventDefault()\n        this.responder?.decreaseNestingLevel()\n        return this.render()\n      }\n    },\n  }\n\n  static inputTypes = {\n    deleteByComposition() {\n      return this.deleteInDirection(\"backward\", { recordUndoEntry: false })\n    },\n\n    deleteByCut() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteByDrag() {\n      this.event.preventDefault()\n      return this.withTargetDOMRange(function() {\n        this.deleteByDragRange = this.responder?.getSelectedRange()\n      })\n    },\n\n    deleteCompositionText() {\n      return this.deleteInDirection(\"backward\", { recordUndoEntry: false })\n    },\n\n    deleteContent() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteContentBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteContentForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteEntireSoftLine() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteHardLineBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteHardLineForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteSoftLineBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteSoftLineForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteWordBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteWordForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    formatBackColor() {\n      return this.activateAttributeIfSupported(\"backgroundColor\", this.event.data)\n    },\n\n    formatBold() {\n      return this.toggleAttributeIfSupported(\"bold\")\n    },\n\n    formatFontColor() {\n      return this.activateAttributeIfSupported(\"color\", this.event.data)\n    },\n\n    formatFontName() {\n      return this.activateAttributeIfSupported(\"font\", this.event.data)\n    },\n\n    formatIndent() {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        return this.withTargetDOMRange(function() {\n          return this.responder?.increaseNestingLevel()\n        })\n      }\n    },\n\n    formatItalic() {\n      return this.toggleAttributeIfSupported(\"italic\")\n    },\n\n    formatJustifyCenter() {\n      return this.toggleAttributeIfSupported(\"justifyCenter\")\n    },\n\n    formatJustifyFull() {\n      return this.toggleAttributeIfSupported(\"justifyFull\")\n    },\n\n    formatJustifyLeft() {\n      return this.toggleAttributeIfSupported(\"justifyLeft\")\n    },\n\n    formatJustifyRight() {\n      return this.toggleAttributeIfSupported(\"justifyRight\")\n    },\n\n    formatOutdent() {\n      if (this.responder?.canDecreaseNestingLevel()) {\n        return this.withTargetDOMRange(function() {\n          return this.responder?.decreaseNestingLevel()\n        })\n      }\n    },\n\n    formatRemove() {\n      this.withTargetDOMRange(function() {\n        for (const attributeName in this.responder?.getCurrentAttributes()) {\n          this.responder?.removeCurrentAttribute(attributeName)\n        }\n      })\n    },\n\n    formatSetBlockTextDirection() {\n      return this.activateAttributeIfSupported(\"blockDir\", this.event.data)\n    },\n\n    formatSetInlineTextDirection() {\n      return this.activateAttributeIfSupported(\"textDir\", this.event.data)\n    },\n\n    formatStrikeThrough() {\n      return this.toggleAttributeIfSupported(\"strike\")\n    },\n\n    formatSubscript() {\n      return this.toggleAttributeIfSupported(\"sub\")\n    },\n\n    formatSuperscript() {\n      return this.toggleAttributeIfSupported(\"sup\")\n    },\n\n    formatUnderline() {\n      return this.toggleAttributeIfSupported(\"underline\")\n    },\n\n    historyRedo() {\n      return this.delegate?.inputControllerWillPerformRedo()\n    },\n\n    historyUndo() {\n      return this.delegate?.inputControllerWillPerformUndo()\n    },\n\n    insertCompositionText() {\n      this.composing = true\n      return this.insertString(this.event.data)\n    },\n\n    insertFromComposition() {\n      this.composing = false\n      return this.insertString(this.event.data)\n    },\n\n    insertFromDrop() {\n      const range = this.deleteByDragRange\n      if (range) {\n        this.deleteByDragRange = null\n        this.delegate?.inputControllerWillMoveText()\n        return this.withTargetDOMRange(function() {\n          return this.responder?.moveTextFromRange(range)\n        })\n      }\n    },\n\n    insertFromPaste() {\n      const { dataTransfer } = this.event\n      const paste = { dataTransfer }\n\n      const href = dataTransfer.getData(\"URL\")\n      const html = dataTransfer.getData(\"text/html\")\n\n      if (href) {\n        let string\n        this.event.preventDefault()\n        paste.type = \"text/html\"\n        const name = dataTransfer.getData(\"public.url-name\")\n        if (name) {\n          string = squishBreakableWhitespace(name).trim()\n        } else {\n          string = href\n        }\n        paste.html = this.createLinkHTML(href, string)\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertHTML(paste.html)\n        })\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (dataTransferIsPlainText(dataTransfer)) {\n        paste.type = \"text/plain\"\n        paste.string = dataTransfer.getData(\"text/plain\")\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertString(paste.string)\n        })\n\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (processableFilePaste(this.event)) {\n        paste.type = \"File\"\n        paste.file = dataTransfer.files[0]\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertFile(paste.file)\n        })\n\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (html) {\n        this.event.preventDefault()\n        paste.type = \"text/html\"\n        paste.html = html\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertHTML(paste.html)\n        })\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      }\n    },\n\n    insertFromYank() {\n      return this.insertString(this.event.data)\n    },\n\n    insertLineBreak() {\n      return this.insertString(\"\\n\")\n    },\n\n    insertLink() {\n      return this.activateAttributeIfSupported(\"href\", this.event.data)\n    },\n\n    insertOrderedList() {\n      return this.toggleAttributeIfSupported(\"number\")\n    },\n\n    insertParagraph() {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.withTargetDOMRange(function() {\n        return this.responder?.insertLineBreak()\n      })\n    },\n\n    insertReplacementText() {\n      const replacement = this.event.dataTransfer.getData(\"text/plain\")\n      const domRange = this.event.getTargetRanges()[0]\n\n      this.withTargetDOMRange(domRange, () => {\n        this.insertString(replacement, { updatePosition: false })\n      })\n    },\n\n    insertText() {\n      return this.insertString(this.event.data || this.event.dataTransfer?.getData(\"text/plain\"))\n    },\n\n    insertTranspose() {\n      return this.insertString(this.event.data)\n    },\n\n    insertUnorderedList() {\n      return this.toggleAttributeIfSupported(\"bullet\")\n    },\n  }\n\n  elementDidMutate() {\n    if (this.scheduledRender) {\n      if (this.composing) {\n        return this.delegate?.inputControllerDidAllowUnhandledInput?.()\n      }\n    } else {\n      return this.reparse()\n    }\n  }\n\n  scheduleRender() {\n    return this.scheduledRender ? this.scheduledRender : this.scheduledRender = requestAnimationFrame(this.render)\n  }\n\n  render() {\n    cancelAnimationFrame(this.scheduledRender)\n    this.scheduledRender = null\n    if (!this.composing) {\n      this.delegate?.render()\n    }\n    this.afterRender?.()\n    this.afterRender = null\n  }\n\n  reparse() {\n    return this.delegate?.reparse()\n  }\n\n  // Responder helpers\n\n  insertString(string = \"\", options) {\n    this.delegate?.inputControllerWillPerformTyping()\n    return this.withTargetDOMRange(function() {\n      return this.responder?.insertString(string, options)\n    })\n  }\n\n  toggleAttributeIfSupported(attributeName) {\n    if (getAllAttributeNames().includes(attributeName)) {\n      this.delegate?.inputControllerWillPerformFormatting(attributeName)\n      return this.withTargetDOMRange(function() {\n        return this.responder?.toggleCurrentAttribute(attributeName)\n      })\n    }\n  }\n\n  activateAttributeIfSupported(attributeName, value) {\n    if (getAllAttributeNames().includes(attributeName)) {\n      this.delegate?.inputControllerWillPerformFormatting(attributeName)\n      return this.withTargetDOMRange(function() {\n        return this.responder?.setCurrentAttribute(attributeName, value)\n      })\n    }\n  }\n\n  deleteInDirection(direction, { recordUndoEntry } = { recordUndoEntry: true }) {\n    if (recordUndoEntry) {\n      this.delegate?.inputControllerWillPerformTyping()\n    }\n    const perform = () => this.responder?.deleteInDirection(direction)\n    const domRange = this.getTargetDOMRange({ minLength: this.composing ? 1 : 2 })\n    if (domRange) {\n      return this.withTargetDOMRange(domRange, perform)\n    } else {\n      return perform()\n    }\n  }\n\n  // Selection helpers\n\n  withTargetDOMRange(domRange, fn) {\n    if (typeof domRange === \"function\") {\n      fn = domRange\n      domRange = this.getTargetDOMRange()\n    }\n    if (domRange) {\n      return this.responder?.withTargetDOMRange(domRange, fn.bind(this))\n    } else {\n      selectionChangeObserver.reset()\n      return fn.call(this)\n    }\n  }\n\n  getTargetDOMRange({ minLength } = { minLength: 0 }) {\n    const targetRanges = this.event.getTargetRanges?.()\n    if (targetRanges) {\n      if (targetRanges.length) {\n        const domRange = staticRangeToRange(targetRanges[0])\n        if (minLength === 0 || domRange.toString().length >= minLength) {\n          return domRange\n        }\n      }\n    }\n  }\n\n  withEvent(event, fn) {\n    let result\n    this.event = event\n    try {\n      result = fn.call(this)\n    } finally {\n      this.event = null\n    }\n    return result\n  }\n}\n\nconst staticRangeToRange = function(staticRange) {\n  const range = document.createRange()\n  range.setStart(staticRange.startContainer, staticRange.startOffset)\n  range.setEnd(staticRange.endContainer, staticRange.endOffset)\n  return range\n}\n\n// Event helpers\n\nconst dragEventHasFiles = (event) => Array.from(event.dataTransfer?.types || []).includes(\"Files\")\n\nconst processableFilePaste = (event) => {\n  // Paste events that only have files are handled by the paste event handler,\n  // to work around Safari not supporting beforeinput.insertFromPaste for files.\n\n  // MS Office text pastes include a file with a screenshot of the text, but we should\n  // handle them as text pastes.\n  return event.dataTransfer.files?.[0] && !pasteEventHasFilesOnly(event) && !dataTransferIsMsOfficePaste(event)\n}\n\nconst pasteEventHasFilesOnly = function(event) {\n  const clipboard = event.clipboardData\n  if (clipboard) {\n    const fileTypes = Array.from(clipboard.types).filter((type) => type.match(/file/i)) // \"Files\", \"application/x-moz-file\"\n    return fileTypes.length === clipboard.types.length && clipboard.files.length >= 1\n  }\n}\n\nconst pasteEventHasPlainTextOnly = function(event) {\n  const clipboard = event.clipboardData\n  if (clipboard) {\n    return clipboard.types.includes(\"text/plain\") && clipboard.types.length === 1\n  }\n}\n\nconst keyboardCommandFromKeyEvent = function(event) {\n  const command = []\n  if (event.altKey) {\n    command.push(\"alt\")\n  }\n  if (event.shiftKey) {\n    command.push(\"shift\")\n  }\n  command.push(event.key)\n  return command\n}\n\nconst pointFromEvent = (event) => ({\n  x: event.clientX,\n  y: event.clientY,\n})\n","import BasicObject from \"trix/core/basic_object\"\n\nimport { findClosestElementFromNode, handleEvent, triggerEvent } from \"trix/core/helpers\"\n\nimport DOMPurify from \"dompurify\"\n\nconst attributeButtonSelector = \"[data-trix-attribute]\"\nconst actionButtonSelector = \"[data-trix-action]\"\nconst toolbarButtonSelector = `${attributeButtonSelector}, ${actionButtonSelector}`\nconst dialogSelector = \"[data-trix-dialog]\"\nconst activeDialogSelector = `${dialogSelector}[data-trix-active]`\nconst dialogButtonSelector = `${dialogSelector} [data-trix-method]`\nconst dialogInputSelector = `${dialogSelector} [data-trix-input]`\nconst getInputForDialog = (element, attributeName) => {\n  if (!attributeName) { attributeName = getAttributeName(element) }\n  return element.querySelector(`[data-trix-input][name='${attributeName}']`)\n}\nconst getActionName = (element) => element.getAttribute(\"data-trix-action\")\nconst getAttributeName = (element) => {\n  return element.getAttribute(\"data-trix-attribute\") || element.getAttribute(\"data-trix-dialog-attribute\")\n}\nconst getDialogName = (element) => element.getAttribute(\"data-trix-dialog\")\n\nexport default class ToolbarController extends BasicObject {\n  constructor(element) {\n    super(element)\n    this.didClickActionButton = this.didClickActionButton.bind(this)\n    this.didClickAttributeButton = this.didClickAttributeButton.bind(this)\n    this.didClickDialogButton = this.didClickDialogButton.bind(this)\n    this.didKeyDownDialogInput = this.didKeyDownDialogInput.bind(this)\n    this.element = element\n    this.attributes = {}\n    this.actions = {}\n    this.resetDialogInputs()\n\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: actionButtonSelector,\n      withCallback: this.didClickActionButton,\n    })\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: attributeButtonSelector,\n      withCallback: this.didClickAttributeButton,\n    })\n    handleEvent(\"click\", { onElement: this.element, matchingSelector: toolbarButtonSelector, preventDefault: true })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: dialogButtonSelector,\n      withCallback: this.didClickDialogButton,\n    })\n    handleEvent(\"keydown\", {\n      onElement: this.element,\n      matchingSelector: dialogInputSelector,\n      withCallback: this.didKeyDownDialogInput,\n    })\n  }\n\n  // Event handlers\n\n  didClickActionButton(event, element) {\n    this.delegate?.toolbarDidClickButton()\n    event.preventDefault()\n    const actionName = getActionName(element)\n\n    if (this.getDialog(actionName)) {\n      return this.toggleDialog(actionName)\n    } else {\n      return this.delegate?.toolbarDidInvokeAction(actionName, element)\n    }\n  }\n\n  didClickAttributeButton(event, element) {\n    this.delegate?.toolbarDidClickButton()\n    event.preventDefault()\n    const attributeName = getAttributeName(element)\n\n    if (this.getDialog(attributeName)) {\n      this.toggleDialog(attributeName)\n    } else {\n      this.delegate?.toolbarDidToggleAttribute(attributeName)\n    }\n\n    return this.refreshAttributeButtons()\n  }\n\n  didClickDialogButton(event, element) {\n    const dialogElement = findClosestElementFromNode(element, { matchingSelector: dialogSelector })\n    const method = element.getAttribute(\"data-trix-method\")\n    return this[method].call(this, dialogElement)\n  }\n\n  didKeyDownDialogInput(event, element) {\n    if (event.keyCode === 13) {\n      // Enter key\n      event.preventDefault()\n      const attribute = element.getAttribute(\"name\")\n      const dialog = this.getDialog(attribute)\n      this.setAttribute(dialog)\n    }\n    if (event.keyCode === 27) {\n      // Escape key\n      event.preventDefault()\n      return this.hideDialog()\n    }\n  }\n\n  // Action buttons\n\n  updateActions(actions) {\n    this.actions = actions\n    return this.refreshActionButtons()\n  }\n\n  refreshActionButtons() {\n    return this.eachActionButton((element, actionName) => {\n      element.disabled = this.actions[actionName] === false\n    })\n  }\n\n  eachActionButton(callback) {\n    return Array.from(this.element.querySelectorAll(actionButtonSelector)).map((element) =>\n      callback(element, getActionName(element))\n    )\n  }\n\n  // Attribute buttons\n\n  updateAttributes(attributes) {\n    this.attributes = attributes\n    return this.refreshAttributeButtons()\n  }\n\n  refreshAttributeButtons() {\n    return this.eachAttributeButton((element, attributeName) => {\n      element.disabled = this.attributes[attributeName] === false\n      if (this.attributes[attributeName] || this.dialogIsVisible(attributeName)) {\n        element.setAttribute(\"data-trix-active\", \"\")\n        return element.classList.add(\"trix-active\")\n      } else {\n        element.removeAttribute(\"data-trix-active\")\n        return element.classList.remove(\"trix-active\")\n      }\n    })\n  }\n\n  eachAttributeButton(callback) {\n    return Array.from(this.element.querySelectorAll(attributeButtonSelector)).map((element) =>\n      callback(element, getAttributeName(element))\n    )\n  }\n\n  applyKeyboardCommand(keys) {\n    const keyString = JSON.stringify(keys.sort())\n    for (const button of Array.from(this.element.querySelectorAll(\"[data-trix-key]\"))) {\n      const buttonKeys = button.getAttribute(\"data-trix-key\").split(\"+\")\n      const buttonKeyString = JSON.stringify(buttonKeys.sort())\n      if (buttonKeyString === keyString) {\n        triggerEvent(\"mousedown\", { onElement: button })\n        return true\n      }\n    }\n    return false\n  }\n\n  // Dialogs\n\n  dialogIsVisible(dialogName) {\n    const element = this.getDialog(dialogName)\n    if (element) {\n      return element.hasAttribute(\"data-trix-active\")\n    }\n  }\n\n  toggleDialog(dialogName) {\n    if (this.dialogIsVisible(dialogName)) {\n      return this.hideDialog()\n    } else {\n      return this.showDialog(dialogName)\n    }\n  }\n\n  showDialog(dialogName) {\n    this.hideDialog()\n    this.delegate?.toolbarWillShowDialog()\n\n    const element = this.getDialog(dialogName)\n    element.setAttribute(\"data-trix-active\", \"\")\n    element.classList.add(\"trix-active\")\n\n    Array.from(element.querySelectorAll(\"input[disabled]\")).forEach((disabledInput) => {\n      disabledInput.removeAttribute(\"disabled\")\n    })\n\n    const attributeName = getAttributeName(element)\n    if (attributeName) {\n      const input = getInputForDialog(element, dialogName)\n      if (input) {\n        input.value = this.attributes[attributeName] || \"\"\n        input.select()\n      }\n    }\n\n    return this.delegate?.toolbarDidShowDialog(dialogName)\n  }\n\n  setAttribute(dialogElement) {\n    const attributeName = getAttributeName(dialogElement)\n    const input = getInputForDialog(dialogElement, attributeName)\n\n    if (input.willValidate) {\n      input.setCustomValidity(\"\")\n      if (!input.checkValidity() || !this.isSafeAttribute(input)) {\n        input.setCustomValidity(\"Invalid value\")\n        input.setAttribute(\"data-trix-validate\", \"\")\n        input.classList.add(\"trix-validate\")\n        return input.focus()\n      }\n    }\n    this.delegate?.toolbarDidUpdateAttribute(attributeName, input.value)\n    return this.hideDialog()\n  }\n\n  isSafeAttribute(input) {\n    if (input.hasAttribute(\"data-trix-validate-href\")) {\n      return DOMPurify.isValidAttribute(\"a\", \"href\", input.value)\n    } else {\n      return true\n    }\n  }\n\n  removeAttribute(dialogElement) {\n    const attributeName = getAttributeName(dialogElement)\n    this.delegate?.toolbarDidRemoveAttribute(attributeName)\n    return this.hideDialog()\n  }\n\n  hideDialog() {\n    const element = this.element.querySelector(activeDialogSelector)\n    if (element) {\n      element.removeAttribute(\"data-trix-active\")\n      element.classList.remove(\"trix-active\")\n      this.resetDialogInputs()\n      return this.delegate?.toolbarDidHideDialog(getDialogName(element))\n    }\n  }\n\n  resetDialogInputs() {\n    Array.from(this.element.querySelectorAll(dialogInputSelector)).forEach((input) => {\n      input.setAttribute(\"disabled\", \"disabled\")\n      input.removeAttribute(\"data-trix-validate\")\n      input.classList.remove(\"trix-validate\")\n    })\n  }\n\n  getDialog(dialogName) {\n    return this.element.querySelector(`[data-trix-dialog=${dialogName}]`)\n  }\n}\n","/* eslint-disable\n    id-length,\n*/\nimport * as config from \"trix/config\"\n\nimport { serializeToContentType } from \"trix/core/serialization\"\n\nimport Controller from \"trix/controllers/controller\"\nimport Level0InputController from \"trix/controllers/level_0_input_controller\"\nimport Level2InputController from \"trix/controllers/level_2_input_controller\"\nimport CompositionController from \"trix/controllers/composition_controller\"\nimport ToolbarController from \"trix/controllers/toolbar_controller\"\nimport Composition from \"trix/models/composition\"\nimport Editor from \"trix/models/editor\"\nimport AttachmentManager from \"trix/models/attachment_manager\"\nimport SelectionManager from \"trix/models/selection_manager\"\n\nimport { getBlockConfig, objectsAreEqual, rangeIsCollapsed, rangesAreEqual } from \"trix/core/helpers\"\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nconst snapshotsAreEqual = (a, b) => rangesAreEqual(a.selectedRange, b.selectedRange) && a.document.isEqualTo(b.document)\n\nexport default class EditorController extends Controller {\n  static actions = {\n    undo: {\n      test() {\n        return this.editor.canUndo()\n      },\n      perform() {\n        return this.editor.undo()\n      },\n    },\n    redo: {\n      test() {\n        return this.editor.canRedo()\n      },\n      perform() {\n        return this.editor.redo()\n      },\n    },\n    link: {\n      test() {\n        return this.editor.canActivateAttribute(\"href\")\n      },\n    },\n    increaseNestingLevel: {\n      test() {\n        return this.editor.canIncreaseNestingLevel()\n      },\n      perform() {\n        return this.editor.increaseNestingLevel() && this.render()\n      },\n    },\n    decreaseNestingLevel: {\n      test() {\n        return this.editor.canDecreaseNestingLevel()\n      },\n      perform() {\n        return this.editor.decreaseNestingLevel() && this.render()\n      },\n    },\n    attachFiles: {\n      test() {\n        return true\n      },\n      perform() {\n        return config.input.pickFiles(this.editor.insertFiles)\n      },\n    },\n  }\n\n  constructor({ editorElement, document, html }) {\n    super(...arguments)\n    this.editorElement = editorElement\n    this.selectionManager = new SelectionManager(this.editorElement)\n    this.selectionManager.delegate = this\n\n    this.composition = new Composition()\n    this.composition.delegate = this\n\n    this.attachmentManager = new AttachmentManager(this.composition.getAttachments())\n    this.attachmentManager.delegate = this\n\n    this.inputController =\n      config.input.getLevel() === 2\n        ? new Level2InputController(this.editorElement)\n        : new Level0InputController(this.editorElement)\n\n    this.inputController.delegate = this\n    this.inputController.responder = this.composition\n\n    this.compositionController = new CompositionController(this.editorElement, this.composition)\n    this.compositionController.delegate = this\n\n    this.toolbarController = new ToolbarController(this.editorElement.toolbarElement)\n    this.toolbarController.delegate = this\n\n    this.editor = new Editor(this.composition, this.selectionManager, this.editorElement)\n    if (document) {\n      this.editor.loadDocument(document)\n    } else {\n      this.editor.loadHTML(html)\n    }\n  }\n\n  registerSelectionManager() {\n    return selectionChangeObserver.registerSelectionManager(this.selectionManager)\n  }\n\n  unregisterSelectionManager() {\n    return selectionChangeObserver.unregisterSelectionManager(this.selectionManager)\n  }\n\n  render() {\n    return this.compositionController.render()\n  }\n\n  reparse() {\n    return this.composition.replaceHTML(this.editorElement.innerHTML)\n  }\n\n  // Composition delegate\n\n  compositionDidChangeDocument(document) {\n    this.notifyEditorElement(\"document-change\")\n    if (!this.handlingInput) {\n      return this.render()\n    }\n  }\n\n  compositionDidChangeCurrentAttributes(currentAttributes) {\n    this.currentAttributes = currentAttributes\n    this.toolbarController.updateAttributes(this.currentAttributes)\n    this.updateCurrentActions()\n    return this.notifyEditorElement(\"attributes-change\", { attributes: this.currentAttributes })\n  }\n\n  compositionDidPerformInsertionAtRange(range) {\n    if (this.pasting) {\n      this.pastedRange = range\n    }\n  }\n\n  compositionShouldAcceptFile(file) {\n    return this.notifyEditorElement(\"file-accept\", { file })\n  }\n\n  compositionDidAddAttachment(attachment) {\n    const managedAttachment = this.attachmentManager.manageAttachment(attachment)\n    return this.notifyEditorElement(\"attachment-add\", { attachment: managedAttachment })\n  }\n\n  compositionDidEditAttachment(attachment) {\n    this.compositionController.rerenderViewForObject(attachment)\n    const managedAttachment = this.attachmentManager.manageAttachment(attachment)\n    this.notifyEditorElement(\"attachment-edit\", { attachment: managedAttachment })\n    return this.notifyEditorElement(\"change\")\n  }\n\n  compositionDidChangeAttachmentPreviewURL(attachment) {\n    this.compositionController.invalidateViewForObject(attachment)\n    return this.notifyEditorElement(\"change\")\n  }\n\n  compositionDidRemoveAttachment(attachment) {\n    const managedAttachment = this.attachmentManager.unmanageAttachment(attachment)\n    return this.notifyEditorElement(\"attachment-remove\", { attachment: managedAttachment })\n  }\n\n  compositionDidStartEditingAttachment(attachment, options) {\n    this.attachmentLocationRange = this.composition.document.getLocationRangeOfAttachment(attachment)\n    this.compositionController.installAttachmentEditorForAttachment(attachment, options)\n    return this.selectionManager.setLocationRange(this.attachmentLocationRange)\n  }\n\n  compositionDidStopEditingAttachment(attachment) {\n    this.compositionController.uninstallAttachmentEditor()\n    this.attachmentLocationRange = null\n  }\n\n  compositionDidRequestChangingSelectionToLocationRange(locationRange) {\n    if (this.loadingSnapshot && !this.isFocused()) return\n    this.requestedLocationRange = locationRange\n    this.compositionRevisionWhenLocationRangeRequested = this.composition.revision\n    if (!this.handlingInput) {\n      return this.render()\n    }\n  }\n\n  compositionWillLoadSnapshot() {\n    this.loadingSnapshot = true\n  }\n\n  compositionDidLoadSnapshot() {\n    this.compositionController.refreshViewCache()\n    this.render()\n    this.loadingSnapshot = false\n  }\n\n  getSelectionManager() {\n    return this.selectionManager\n  }\n\n  // Attachment manager delegate\n\n  attachmentManagerDidRequestRemovalOfAttachment(attachment) {\n    return this.removeAttachment(attachment)\n  }\n\n  // Document controller delegate\n\n  compositionControllerWillSyncDocumentView() {\n    this.inputController.editorWillSyncDocumentView()\n    this.selectionManager.lock()\n    return this.selectionManager.clearSelection()\n  }\n\n  compositionControllerDidSyncDocumentView() {\n    this.inputController.editorDidSyncDocumentView()\n    this.selectionManager.unlock()\n    this.updateCurrentActions()\n    return this.notifyEditorElement(\"sync\")\n  }\n\n  compositionControllerDidRender() {\n    if (this.requestedLocationRange) {\n      if (this.compositionRevisionWhenLocationRangeRequested === this.composition.revision) {\n        this.selectionManager.setLocationRange(this.requestedLocationRange)\n      }\n      this.requestedLocationRange = null\n      this.compositionRevisionWhenLocationRangeRequested = null\n    }\n\n    if (this.renderedCompositionRevision !== this.composition.revision) {\n      this.runEditorFilters()\n      this.composition.updateCurrentAttributes()\n      this.notifyEditorElement(\"render\")\n    }\n\n    this.renderedCompositionRevision = this.composition.revision\n  }\n\n  compositionControllerDidFocus() {\n    if (this.isFocusedInvisibly()) {\n      this.setLocationRange({ index: 0, offset: 0 })\n    }\n    this.toolbarController.hideDialog()\n    return this.notifyEditorElement(\"focus\")\n  }\n\n  compositionControllerDidBlur() {\n    return this.notifyEditorElement(\"blur\")\n  }\n\n  compositionControllerDidSelectAttachment(attachment, options) {\n    this.toolbarController.hideDialog()\n    return this.composition.editAttachment(attachment, options)\n  }\n\n  compositionControllerDidRequestDeselectingAttachment(attachment) {\n    const locationRange = this.attachmentLocationRange || this.composition.document.getLocationRangeOfAttachment(attachment)\n    return this.selectionManager.setLocationRange(locationRange[1])\n  }\n\n  compositionControllerWillUpdateAttachment(attachment) {\n    return this.editor.recordUndoEntry(\"Edit Attachment\", { context: attachment.id, consolidatable: true })\n  }\n\n  compositionControllerDidRequestRemovalOfAttachment(attachment) {\n    return this.removeAttachment(attachment)\n  }\n\n  // Input controller delegate\n\n  inputControllerWillHandleInput() {\n    this.handlingInput = true\n    this.requestedRender = false\n  }\n\n  inputControllerDidRequestRender() {\n    this.requestedRender = true\n  }\n\n  inputControllerDidHandleInput() {\n    this.handlingInput = false\n    if (this.requestedRender) {\n      this.requestedRender = false\n      return this.render()\n    }\n  }\n\n  inputControllerDidAllowUnhandledInput() {\n    return this.notifyEditorElement(\"change\")\n  }\n\n  inputControllerDidRequestReparse() {\n    return this.reparse()\n  }\n\n  inputControllerWillPerformTyping() {\n    return this.recordTypingUndoEntry()\n  }\n\n  inputControllerWillPerformFormatting(attributeName) {\n    return this.recordFormattingUndoEntry(attributeName)\n  }\n\n  inputControllerWillCutText() {\n    return this.editor.recordUndoEntry(\"Cut\")\n  }\n\n  inputControllerWillPaste(paste) {\n    this.editor.recordUndoEntry(\"Paste\")\n    this.pasting = true\n    return this.notifyEditorElement(\"before-paste\", { paste })\n  }\n\n  inputControllerDidPaste(paste) {\n    paste.range = this.pastedRange\n    this.pastedRange = null\n    this.pasting = null\n    return this.notifyEditorElement(\"paste\", { paste })\n  }\n\n  inputControllerWillMoveText() {\n    return this.editor.recordUndoEntry(\"Move\")\n  }\n\n  inputControllerWillAttachFiles() {\n    return this.editor.recordUndoEntry(\"Drop Files\")\n  }\n\n  inputControllerWillPerformUndo() {\n    return this.editor.undo()\n  }\n\n  inputControllerWillPerformRedo() {\n    return this.editor.redo()\n  }\n\n  inputControllerDidReceiveKeyboardCommand(keys) {\n    return this.toolbarController.applyKeyboardCommand(keys)\n  }\n\n  inputControllerDidStartDrag() {\n    this.locationRangeBeforeDrag = this.selectionManager.getLocationRange()\n  }\n\n  inputControllerDidReceiveDragOverPoint(point) {\n    return this.selectionManager.setLocationRangeFromPointRange(point)\n  }\n\n  inputControllerDidCancelDrag() {\n    this.selectionManager.setLocationRange(this.locationRangeBeforeDrag)\n    this.locationRangeBeforeDrag = null\n  }\n\n  // Selection manager delegate\n\n  locationRangeDidChange(locationRange) {\n    this.composition.updateCurrentAttributes()\n    this.updateCurrentActions()\n    if (this.attachmentLocationRange && !rangesAreEqual(this.attachmentLocationRange, locationRange)) {\n      this.composition.stopEditingAttachment()\n    }\n    return this.notifyEditorElement(\"selection-change\")\n  }\n\n  // Toolbar controller delegate\n\n  toolbarDidClickButton() {\n    if (!this.getLocationRange()) {\n      return this.setLocationRange({ index: 0, offset: 0 })\n    }\n  }\n\n  toolbarDidInvokeAction(actionName, invokingElement) {\n    return this.invokeAction(actionName, invokingElement)\n  }\n\n  toolbarDidToggleAttribute(attributeName) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.toggleCurrentAttribute(attributeName)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarDidUpdateAttribute(attributeName, value) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.setCurrentAttribute(attributeName, value)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarDidRemoveAttribute(attributeName) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.removeCurrentAttribute(attributeName)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarWillShowDialog(dialogElement) {\n    this.composition.expandSelectionForEditing()\n    return this.freezeSelection()\n  }\n\n  toolbarDidShowDialog(dialogName) {\n    return this.notifyEditorElement(\"toolbar-dialog-show\", { dialogName })\n  }\n\n  toolbarDidHideDialog(dialogName) {\n    this.thawSelection()\n    this.editorElement.focus()\n    return this.notifyEditorElement(\"toolbar-dialog-hide\", { dialogName })\n  }\n\n  // Selection\n\n  freezeSelection() {\n    if (!this.selectionFrozen) {\n      this.selectionManager.lock()\n      this.composition.freezeSelection()\n      this.selectionFrozen = true\n      return this.render()\n    }\n  }\n\n  thawSelection() {\n    if (this.selectionFrozen) {\n      this.composition.thawSelection()\n      this.selectionManager.unlock()\n      this.selectionFrozen = false\n      return this.render()\n    }\n  }\n\n  canInvokeAction(actionName) {\n    if (this.actionIsExternal(actionName)) {\n      return true\n    } else {\n      return !!this.actions[actionName]?.test?.call(this)\n    }\n  }\n\n  invokeAction(actionName, invokingElement) {\n    if (this.actionIsExternal(actionName)) {\n      return this.notifyEditorElement(\"action-invoke\", { actionName, invokingElement })\n    } else {\n      return this.actions[actionName]?.perform?.call(this)\n    }\n  }\n\n  actionIsExternal(actionName) {\n    return /^x-./.test(actionName)\n  }\n\n  getCurrentActions() {\n    const result = {}\n    for (const actionName in this.actions) {\n      result[actionName] = this.canInvokeAction(actionName)\n    }\n    return result\n  }\n\n  updateCurrentActions() {\n    const currentActions = this.getCurrentActions()\n    if (!objectsAreEqual(currentActions, this.currentActions)) {\n      this.currentActions = currentActions\n      this.toolbarController.updateActions(this.currentActions)\n      return this.notifyEditorElement(\"actions-change\", { actions: this.currentActions })\n    }\n  }\n\n  // Editor filters\n\n  runEditorFilters() {\n    let snapshot = this.composition.getSnapshot()\n\n    Array.from(this.editor.filters).forEach((filter) => {\n      const { document, selectedRange } = snapshot\n      snapshot = filter.call(this.editor, snapshot) || {}\n      if (!snapshot.document) {\n        snapshot.document = document\n      }\n      if (!snapshot.selectedRange) {\n        snapshot.selectedRange = selectedRange\n      }\n    })\n\n    if (!snapshotsAreEqual(snapshot, this.composition.getSnapshot())) {\n      return this.composition.loadSnapshot(snapshot)\n    }\n  }\n\n  // Private\n\n  updateInputElement() {\n    const element = this.compositionController.getSerializableElement()\n    const value = serializeToContentType(element, \"text/html\")\n    return this.editorElement.setFormValue(value)\n  }\n\n  notifyEditorElement(message, data) {\n    switch (message) {\n      case \"document-change\":\n        this.documentChangedSinceLastRender = true\n        break\n      case \"render\":\n        if (this.documentChangedSinceLastRender) {\n          this.documentChangedSinceLastRender = false\n          this.notifyEditorElement(\"change\")\n        }\n        break\n      case \"change\":\n      case \"attachment-add\":\n      case \"attachment-edit\":\n      case \"attachment-remove\":\n        this.updateInputElement()\n        break\n    }\n\n    return this.editorElement.notify(message, data)\n  }\n\n  removeAttachment(attachment) {\n    this.editor.recordUndoEntry(\"Delete Attachment\")\n    this.composition.removeAttachment(attachment)\n    return this.render()\n  }\n\n  recordFormattingUndoEntry(attributeName) {\n    const blockConfig = getBlockConfig(attributeName)\n    const locationRange = this.selectionManager.getLocationRange()\n    if (blockConfig || !rangeIsCollapsed(locationRange)) {\n      return this.editor.recordUndoEntry(\"Formatting\", { context: this.getUndoContext(), consolidatable: true })\n    }\n  }\n\n  recordTypingUndoEntry() {\n    return this.editor.recordUndoEntry(\"Typing\", {\n      context: this.getUndoContext(this.currentAttributes),\n      consolidatable: true,\n    })\n  }\n\n  getUndoContext(...context) {\n    return [ this.getLocationContext(), this.getTimeContext(), ...Array.from(context) ]\n  }\n\n  getLocationContext() {\n    const locationRange = this.selectionManager.getLocationRange()\n    if (rangeIsCollapsed(locationRange)) {\n      return locationRange[0].index\n    } else {\n      return locationRange\n    }\n  }\n\n  getTimeContext() {\n    if (config.undo.interval > 0) {\n      return Math.floor(new Date().getTime() / config.undo.interval)\n    } else {\n      return 0\n    }\n  }\n\n  isFocused() {\n    return this.editorElement === this.editorElement.ownerDocument?.activeElement\n  }\n\n  // Detect \"Cursor disappears sporadically\" Firefox bug.\n  // - https://bugzilla.mozilla.org/show_bug.cgi?id=226301\n  isFocusedInvisibly() {\n    return this.isFocused() && !this.getLocationRange()\n  }\n\n  get actions() {\n    return this.constructor.actions\n  }\n}\n\nEditorController.proxyMethod(\"getSelectionManager().setLocationRange\")\nEditorController.proxyMethod(\"getSelectionManager().getLocationRange\")\n","import * as config from \"trix/config\"\n\nimport { installDefaultCSSForTagName } from \"trix/core/helpers\"\n\ninstallDefaultCSSForTagName(\"trix-toolbar\", `\\\n%t {\n  display: block;\n}\n\n%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}`)\n\nexport default class TrixToolbarElement extends HTMLElement {\n\n  // Element lifecycle\n\n  connectedCallback() {\n    if (this.innerHTML === \"\") {\n      this.innerHTML = config.toolbar.getDefaultHTML()\n    }\n  }\n\n  // Properties\n\n  get editorElements() {\n    if (this.id) {\n      const nodeList = this.ownerDocument?.querySelectorAll(`trix-editor[toolbar=\"${this.id}\"]`)\n\n      return Array.from(nodeList)\n    } else {\n      return []\n    }\n  }\n\n  get editorElement() {\n    const [ editorElement ] = this.editorElements\n\n    return editorElement\n  }\n}\n","import * as config from \"trix/config\"\n\nimport {\n  findClosestElementFromNode,\n  handleEvent,\n  handleEventOnce,\n  installDefaultCSSForTagName,\n  makeElement,\n  triggerEvent,\n} from \"trix/core/helpers\"\n\nimport { attachmentSelector } from \"trix/config/attachments\"\nimport EditorController from \"trix/controllers/editor_controller\"\nimport \"trix/elements/trix_toolbar_element\"\n\nlet id = 0\n\n// Contenteditable support helpers\n\nconst autofocus = function(element) {\n  if (!document.querySelector(\":focus\")) {\n    if (element.hasAttribute(\"autofocus\") && document.querySelector(\"[autofocus]\") === element) {\n      return element.focus()\n    }\n  }\n}\n\nconst makeEditable = function(element) {\n  if (element.hasAttribute(\"contenteditable\")) {\n    return\n  }\n  element.toggleAttribute(\"contenteditable\", !element.disabled)\n  return handleEventOnce(\"focus\", {\n    onElement: element,\n    withCallback() {\n      return configureContentEditable(element)\n    },\n  })\n}\n\nconst configureContentEditable = function(element) {\n  disableObjectResizing(element)\n  return setDefaultParagraphSeparator(element)\n}\n\nconst disableObjectResizing = function(element) {\n  if (document.queryCommandSupported?.(\"enableObjectResizing\")) {\n    document.execCommand(\"enableObjectResizing\", false, false)\n    return handleEvent(\"mscontrolselect\", { onElement: element, preventDefault: true })\n  }\n}\n\nconst setDefaultParagraphSeparator = function(element) {\n  if (document.queryCommandSupported?.(\"DefaultParagraphSeparator\")) {\n    const { tagName } = config.blockAttributes.default\n    if ([ \"div\", \"p\" ].includes(tagName)) {\n      return document.execCommand(\"DefaultParagraphSeparator\", false, tagName)\n    }\n  }\n}\n\n// Accessibility helpers\n\nconst addAccessibilityRole = function(element) {\n  if (element.hasAttribute(\"role\")) {\n    return\n  }\n  return element.setAttribute(\"role\", \"textbox\")\n}\n\nconst ensureAriaLabel = function(element) {\n  if (element.hasAttribute(\"aria-label\") || element.hasAttribute(\"aria-labelledby\")) {\n    return\n  }\n\n  const update = function() {\n    const texts = Array.from(element.labels).map((label) => {\n      if (!label.contains(element)) return label.textContent\n    }).filter(text => text)\n\n    const text = texts.join(\" \")\n    if (text) {\n      return element.setAttribute(\"aria-label\", text)\n    } else {\n      return element.removeAttribute(\"aria-label\")\n    }\n  }\n  update()\n  return handleEvent(\"focus\", { onElement: element, withCallback: update })\n}\n\n// Style\n\nconst cursorTargetStyles = (function() {\n  if (config.browser.forcesObjectResizing) {\n    return {\n      display: \"inline\",\n      width: \"auto\",\n    }\n  } else {\n    return {\n      display: \"inline-block\",\n      width: \"1px\",\n    }\n  }\n})()\n\ninstallDefaultCSSForTagName(\"trix-editor\", `\\\n%t {\n    display: block;\n}\n\n%t:empty::before {\n    content: attr(placeholder);\n    color: graytext;\n    cursor: text;\n    pointer-events: none;\n    white-space: pre-line;\n}\n\n%t a[contenteditable=false] {\n    cursor: text;\n}\n\n%t img {\n    max-width: 100%;\n    height: auto;\n}\n\n%t ${attachmentSelector} figcaption textarea {\n    resize: none;\n}\n\n%t ${attachmentSelector} figcaption textarea.trix-autoresize-clone {\n    position: absolute;\n    left: -9999px;\n    max-height: 0px;\n}\n\n%t ${attachmentSelector} figcaption[data-trix-placeholder]:empty::before {\n    content: attr(data-trix-placeholder);\n    color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n    display: ${cursorTargetStyles.display} !important;\n    width: ${cursorTargetStyles.width} !important;\n    padding: 0 !important;\n    margin: 0 !important;\n    border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n    vertical-align: top !important;\n    margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n    vertical-align: bottom !important;\n    margin-right: -1px !important;\n}`)\n\nclass ElementInternalsDelegate {\n  value = \"\"\n  #internals\n  #formDisabled\n\n  constructor(element) {\n    this.element = element\n    this.#internals = element.attachInternals()\n    this.#formDisabled = false\n  }\n\n  connectedCallback() {\n    this.#validate()\n  }\n\n  disconnectedCallback() {\n  }\n\n  get form() {\n    return this.#internals.form\n  }\n\n  get name() {\n    return this.element.getAttribute(\"name\")\n  }\n\n  set name(value) {\n    this.element.setAttribute(\"name\", value)\n  }\n\n  get labels() {\n    return this.#internals.labels\n  }\n\n  get disabled() {\n    return this.#formDisabled || this.element.hasAttribute(\"disabled\")\n  }\n\n  set disabled(value) {\n    this.element.toggleAttribute(\"disabled\", value)\n  }\n\n  get required() {\n    return this.element.hasAttribute(\"required\")\n  }\n\n  set required(value) {\n    this.element.toggleAttribute(\"required\", value)\n    this.#validate()\n  }\n\n  get validity() {\n    return this.#internals.validity\n  }\n\n  get validationMessage() {\n    return this.#internals.validationMessage\n  }\n\n  get willValidate() {\n    return this.#internals.willValidate\n  }\n\n  formDisabledCallback(disabled) {\n    this.#formDisabled = disabled\n  }\n\n  setFormValue(value) {\n    this.value = value\n    this.#validate()\n    this.#internals.setFormValue(this.element.disabled ? undefined : this.value)\n  }\n\n  checkValidity() {\n    return this.#internals.checkValidity()\n  }\n\n  reportValidity() {\n    return this.#internals.reportValidity()\n  }\n\n  setCustomValidity(validationMessage) {\n    this.#validate(validationMessage)\n  }\n\n  #validate(customValidationMessage = \"\") {\n    const { required, value } = this.element\n    const valueMissing = required && !value\n    const customError = !!customValidationMessage\n    const input = makeElement(\"input\", { required })\n    const validationMessage = customValidationMessage || input.validationMessage\n\n    this.#internals.setValidity({ valueMissing, customError }, validationMessage)\n  }\n}\n\nclass LegacyDelegate {\n  #focusHandler\n\n  constructor(element) {\n    this.element = element\n  }\n\n  connectedCallback() {\n    this.#focusHandler = ensureAriaLabel(this.element)\n    window.addEventListener(\"reset\", this.#resetBubbled, false)\n    window.addEventListener(\"click\", this.#clickBubbled, false)\n  }\n\n  disconnectedCallback() {\n    this.#focusHandler?.destroy()\n    window.removeEventListener(\"reset\", this.#resetBubbled, false)\n    window.removeEventListener(\"click\", this.#clickBubbled, false)\n  }\n\n  get labels() {\n    const labels = []\n    if (this.element.id && this.element.ownerDocument) {\n      labels.push(...Array.from(this.element.ownerDocument.querySelectorAll(`label[for='${this.element.id}']`) || []))\n    }\n\n    const label = findClosestElementFromNode(this.element, { matchingSelector: \"label\" })\n    if (label) {\n      if ([ this.element, null ].includes(label.control)) {\n        labels.push(label)\n      }\n    }\n\n    return labels\n  }\n\n  get form() {\n    console.warn(\"This browser does not support the .form property for trix-editor elements.\")\n\n    return null\n  }\n\n  get name() {\n    console.warn(\"This browser does not support the .name property for trix-editor elements.\")\n\n    return null\n  }\n\n  set name(value) {\n    console.warn(\"This browser does not support the .name property for trix-editor elements.\")\n  }\n\n  get disabled() {\n    console.warn(\"This browser does not support the [disabled] attribute for trix-editor elements.\")\n\n    return false\n  }\n\n  set disabled(value) {\n    console.warn(\"This browser does not support the [disabled] attribute for trix-editor elements.\")\n  }\n\n  get required() {\n    console.warn(\"This browser does not support the [required] attribute for trix-editor elements.\")\n\n    return false\n  }\n\n  set required(value) {\n    console.warn(\"This browser does not support the [required] attribute for trix-editor elements.\")\n  }\n\n  get validity() {\n    console.warn(\"This browser does not support the validity property for trix-editor elements.\")\n    return null\n  }\n\n  get validationMessage() {\n    console.warn(\"This browser does not support the validationMessage property for trix-editor elements.\")\n\n    return \"\"\n  }\n\n  get willValidate() {\n    console.warn(\"This browser does not support the willValidate property for trix-editor elements.\")\n\n    return false\n  }\n\n  formDisabledCallback(value) {\n  }\n\n  setFormValue(value) {\n  }\n\n  checkValidity() {\n    console.warn(\"This browser does not support checkValidity() for trix-editor elements.\")\n\n    return true\n  }\n\n  reportValidity() {\n    console.warn(\"This browser does not support reportValidity() for trix-editor elements.\")\n\n    return true\n  }\n\n  setCustomValidity(validationMessage) {\n    console.warn(\"This browser does not support setCustomValidity(validationMessage) for trix-editor elements.\")\n  }\n\n  #resetBubbled = (event) => {\n    if (event.defaultPrevented) return\n    if (event.target !== this.element.form) return\n    this.element.reset()\n  }\n\n  #clickBubbled = (event) => {\n    if (event.defaultPrevented) return\n    if (this.element.contains(event.target)) return\n\n    const label = findClosestElementFromNode(event.target, { matchingSelector: \"label\" })\n    if (!label) return\n\n    if (!Array.from(this.labels).includes(label)) return\n\n    this.element.focus()\n  }\n}\n\nexport default class TrixEditorElement extends HTMLElement {\n  static formAssociated = \"ElementInternals\" in window\n\n  static observedAttributes = [ \"connected\" ]\n\n  #delegate\n\n  constructor() {\n    super()\n    this.willCreateInput = true\n    this.#delegate = this.constructor.formAssociated ?\n      new ElementInternalsDelegate(this) :\n      new LegacyDelegate(this)\n  }\n\n  // Properties\n\n  get trixId() {\n    if (this.hasAttribute(\"trix-id\")) {\n      return this.getAttribute(\"trix-id\")\n    } else {\n      this.setAttribute(\"trix-id\", ++id)\n      return this.trixId\n    }\n  }\n\n  get labels() {\n    return this.#delegate.labels\n  }\n\n  get disabled() {\n    const { inputElement } = this\n\n    if (inputElement) {\n      return inputElement.disabled\n    } else {\n      return this.#delegate.disabled\n    }\n  }\n\n  set disabled(value) {\n    const { inputElement } = this\n\n    if (inputElement) {\n      inputElement.disabled = value\n    }\n    this.#delegate.disabled = value\n  }\n\n  get required() {\n    return this.#delegate.required\n  }\n\n  set required(value) {\n    this.#delegate.required = value\n  }\n\n  get validity() {\n    return this.#delegate.validity\n  }\n\n  get validationMessage() {\n    return this.#delegate.validationMessage\n  }\n\n  get willValidate() {\n    return this.#delegate.willValidate\n  }\n\n  get type() {\n    return this.localName\n  }\n\n  get toolbarElement() {\n    if (this.hasAttribute(\"toolbar\")) {\n      return this.ownerDocument?.getElementById(this.getAttribute(\"toolbar\"))\n    } else if (this.parentNode) {\n      const toolbarId = `trix-toolbar-${this.trixId}`\n      this.setAttribute(\"toolbar\", toolbarId)\n      this.internalToolbar = makeElement(\"trix-toolbar\", { id: toolbarId })\n      this.parentNode.insertBefore(this.internalToolbar, this)\n      return this.internalToolbar\n    } else {\n      return undefined\n    }\n  }\n\n  get form() {\n    const { inputElement } = this\n\n    if (inputElement) {\n      return inputElement.form\n    } else {\n      return this.#delegate.form\n    }\n  }\n\n  get inputElement() {\n    if (this.hasAttribute(\"input\")) {\n      return this.ownerDocument?.getElementById(this.getAttribute(\"input\"))\n    } else {\n      return undefined\n    }\n  }\n\n  get editor() {\n    return this.editorController?.editor\n  }\n\n  get name() {\n    const { inputElement } = this\n\n    if (inputElement) {\n      return inputElement.name\n    } else {\n      return this.#delegate.name\n    }\n  }\n\n  set name(value) {\n    const { inputElement } = this\n\n    if (inputElement) {\n      inputElement.name = value\n    } else {\n      this.#delegate.name = value\n    }\n  }\n\n  get value() {\n    const { inputElement } = this\n\n    if (inputElement) {\n      return inputElement.value\n    } else {\n      return this.#delegate.value\n    }\n  }\n\n  set value(defaultValue) {\n    this.defaultValue = defaultValue\n    this.editor?.loadHTML(this.defaultValue)\n  }\n\n  // Element callbacks\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === \"connected\" && this.isConnected && oldValue != null && oldValue !== newValue) {\n      requestAnimationFrame(() => this.reconnect())\n    }\n  }\n\n  // Controller delegate methods\n\n  notify(message, data) {\n    if (this.editorController) {\n      return triggerEvent(`trix-${message}`, { onElement: this, attributes: data })\n    }\n  }\n\n  setFormValue(value) {\n    const { inputElement } = this\n\n    if (inputElement) {\n      inputElement.value = value\n    }\n    this.#delegate.setFormValue(value)\n  }\n\n  // Element lifecycle\n\n  connectedCallback() {\n    if (!this.hasAttribute(\"data-trix-internal\")) {\n      makeEditable(this)\n      addAccessibilityRole(this)\n\n      if (!this.editorController) {\n        triggerEvent(\"trix-before-initialize\", { onElement: this })\n        this.defaultValue = this.inputElement ? this.inputElement.value : this.innerHTML\n        if (!this.hasAttribute(\"input\") && this.parentNode && this.willCreateInput) {\n          const inputId = `trix-input-${this.trixId}`\n          this.setAttribute(\"input\", inputId)\n          const element = makeElement(\"input\", { type: \"hidden\", id: inputId })\n          this.parentNode.insertBefore(element, this.nextElementSibling)\n        }\n        this.editorController = new EditorController({\n          editorElement: this,\n          html: this.defaultValue\n        })\n        requestAnimationFrame(() => triggerEvent(\"trix-initialize\", { onElement: this }))\n      }\n      this.editorController.registerSelectionManager()\n      this.#delegate.connectedCallback()\n\n      this.toggleAttribute(\"connected\", true)\n      autofocus(this)\n    }\n  }\n\n  disconnectedCallback() {\n    this.editorController?.unregisterSelectionManager()\n    this.#delegate.disconnectedCallback()\n    this.toggleAttribute(\"connected\", false)\n  }\n\n  reconnect() {\n    this.removeInternalToolbar()\n    this.disconnectedCallback()\n    this.connectedCallback()\n  }\n\n  removeInternalToolbar() {\n    this.internalToolbar?.remove()\n    this.internalToolbar = null\n  }\n\n  // Form support\n\n  checkValidity() {\n    return this.#delegate.checkValidity()\n  }\n\n  reportValidity() {\n    return this.#delegate.reportValidity()\n  }\n\n  setCustomValidity(validationMessage) {\n    this.#delegate.setCustomValidity(validationMessage)\n  }\n\n  formDisabledCallback(disabled) {\n    const { inputElement } = this\n\n    if (inputElement) {\n      inputElement.disabled = disabled\n    }\n    this.toggleAttribute(\"contenteditable\", !disabled)\n    this.#delegate.formDisabledCallback(disabled)\n  }\n\n  formResetCallback() {\n    this.reset()\n  }\n\n  reset() {\n    this.value = this.defaultValue\n  }\n}\n","import { version } from \"../../package.json\"\n\nimport * as config from \"trix/config\"\nimport * as core from \"trix/core\"\nimport * as models from \"trix/models\"\nimport * as views from \"trix/views\"\nimport * as controllers from \"trix/controllers\"\nimport * as observers from \"trix/observers\"\nimport * as operations from \"trix/operations\"\nimport * as elements from \"trix/elements\"\nimport * as filters from \"trix/filters\"\n\nconst Trix = {\n  VERSION: version,\n  config,\n  core,\n  models,\n  views,\n  controllers,\n  observers,\n  operations,\n  elements,\n  filters\n}\n\n// Expose models under the Trix constant for compatibility with v1\nObject.assign(Trix, models)\n\nfunction start() {\n  if (!customElements.get(\"trix-toolbar\")) {\n    customElements.define(\"trix-toolbar\", elements.TrixToolbarElement)\n  }\n\n  if (!customElements.get(\"trix-editor\")) {\n    customElements.define(\"trix-editor\", elements.TrixEditorElement)\n  }\n}\n\nwindow.Trix = Trix\nsetTimeout(start, 0)\n\nexport default Trix\n","// Explicitly require this file (not included in the main\n// Trix bundle) to install the following global helpers.\n\nthis.getEditorElement = () => document.querySelector(\"trix-editor\")\n\nthis.getToolbarElement = () => getEditorElement().toolbarElement\n\nthis.getEditorController = () => getEditorElement().editorController\n\nthis.getEditor = () => getEditorController().editor\n\nthis.getComposition = () => getEditorController().composition\n\nthis.getDocument = () => getComposition().document\n\nthis.getSelectionManager = () => getEditorController().selectionManager\n","export const createEvent = function (type, properties = {}) {\n  const event = document.createEvent(\"Events\")\n  event.initEvent(type, true, true)\n  for (const key in properties) {\n    const value = properties[key]\n    event[key] = value\n  }\n  return event\n}\n\nexport const triggerEvent = (element, type, properties) => element.dispatchEvent(createEvent(type, properties))\n","import DocumentView from \"trix/views/document_view\"\nimport { normalizeRange } from \"trix/core/helpers\"\n\nconst { assert } = QUnit\n\nassert.locationRange = function (start, end) {\n  const expectedLocationRange = normalizeRange([ start, end ])\n  const actualLocationRange = getEditorController().getLocationRange()\n  this.deepEqual(actualLocationRange, expectedLocationRange)\n}\n\nassert.selectedRange = function (range) {\n  const expectedRange = normalizeRange(range)\n  const actualRange = getEditor().getSelectedRange()\n  this.deepEqual(actualRange, expectedRange)\n}\n\nassert.textAttributes = function (range, attributes) {\n  const document = window.getDocument().getDocumentAtRange(range)\n  const blocks = document.getBlocks()\n  if (blocks.length !== 1) {\n    throw `range ${JSON.stringify(range)} spans more than one block`\n  }\n\n  const locationRange = window.getDocument().locationRangeFromRange(range)\n  const textIndex = locationRange[0].index\n  const textRange = [ locationRange[0].offset, locationRange[1].offset ]\n  const text = window.getDocument().getTextAtIndex(textIndex).getTextAtRange(textRange)\n  const pieces = text.getPieces()\n  if (pieces.length !== 1) {\n    throw `range ${JSON.stringify(range)} must only span one piece`\n  }\n\n  const piece = pieces[0]\n  this.deepEqual(piece.getAttributes(), attributes)\n}\n\nassert.blockAttributes = function (range, attributes) {\n  const document = window.getDocument().getDocumentAtRange(range)\n  const blocks = document.getBlocks()\n  if (blocks.length !== 1) {\n    throw `range ${JSON.stringify(range)} spans more than one block`\n  }\n\n  const block = blocks[0]\n  this.deepEqual(block.getAttributes(), attributes)\n}\n\nassert.documentHTMLEqual = function (trixDocument, html) {\n  this.equal(getHTML(trixDocument), html)\n}\n\nconst getHTML = (trixDocument) => DocumentView.render(trixDocument).innerHTML\n\nexport const expectDocument = (expectedDocumentValue, element) => {\n  if (!element) element = getEditorElement()\n  assert.equal(element.editor.getDocument().toString(), expectedDocumentValue)\n}\n\nexport { assert, getHTML }\n","export default () =>\n  `<trix-editor id=\"editor-without-labels\"></trix-editor>\n\n  <label for=\"editor-with-aria-label\"><span>Label text</span></label>\n  <trix-editor id=\"editor-with-aria-label\" aria-label=\"ARIA Label text\"></trix-editor>\n\n  <span id=\"aria-labelledby-id\">ARIA Labelledby</span>\n  <label for=\"editor-with-aria-labelledby\"><span>Label text</span></label>\n  <trix-editor id=\"editor-with-aria-labelledby\" aria-labelledby=\"aria-labelledby-id\"></trix-editor>\n\n  <label for=\"editor-with-labels\"><span>Label 1</span></label>\n  <label for=\"editor-with-labels\"><span>Label 2</span></label>\n  <label for=\"editor-with-labels\"><span>Label 3</span></label>\n  <label>\n    <span>Label 4</span>\n    <trix-editor id=\"editor-with-labels\"></trix-editor>\n  </label>\n\n  <label id=\"modified-label\" for=\"editor-with-modified-label\">Original Value</label>\n  <trix-editor id=\"editor-with-modified-label\"></trix-editor>`\n","export default () => \"<trix-editor autofocus placeholder=\\\"Say hello...\\\"></trix-editor>\"\n","export default () =>\n  `<input id=\"my_input\" type=\"hidden\" value=\"&lt;div&gt;Hello world&lt;/div&gt;\">\n  <trix-editor input=\"my_input\" autofocus placeholder=\"Say hello...\"></trix-editor>`\n","export default () =>\n  `<table>\n    <tr>\n      <td>\n        <trix-editor></trix-editor>\n      </td>\n    </tr>\n  </table>`\n","export default () =>\n  `<style type=\"text/css\">\n    blockquote { font-style: italic; }\n    li { font-weight: bold; }\n  </style>\n\n  <trix-editor class=\"trix-content\"></trix-editor>`\n","export default () =>\n  `<style type=\"text/css\">\n    strong { font-weight: 500; }\n    span { font-weight: 600; }\n    article { font-weight: bold; }\n  </style>\n\n  <trix-editor class=\"trix-content\"></trix-editor>`\n","export const TEST_IMAGE_URL = \"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=\"\n","import { TEST_IMAGE_URL } from \"./test_image_url\"\n\nexport default () =>\n  `<trix-editor input=\"my_input\" autofocus placeholder=\"Say hello...\"></trix-editor>\n  <input id=\"my_input\" type=\"hidden\" value=\"ab&lt;img src=&quot;${TEST_IMAGE_URL}&quot; width=&quot;10&quot; height=&quot;10&quot;&gt;\">`\n","export default () =>\n  `<label id=\"label-1\" for=\"editor\"><span>Label 1</span></label>\n   <label id=\"label-2\">Label 2</label>\n   <trix-editor id=\"editor\"></trix-editor>\n   <label id=\"label-3\" for=\"editor\">Label 3</label>`\n","export default () =>\n  `<style type=\"text/css\">\n    .trix-content figure.attachment {\n      display: inline-block;\n    }\n  </style>\n\n  <trix-editor class=\"trix-content\"></trix-editor>`\n","export default () =>\n  `<ul id=\"my_editor\">\n    <li><trix-toolbar id=\"my_toolbar\"></trix-toolbar></li>\n    <li><trix-editor toolbar=\"my_toolbar\" input=\"my_input\" autofocus placeholder=\"Say hello...\"></trix-editor></li>\n    <li><input id=\"my_input\" type=\"hidden\" value=\"&lt;div&gt;Hello world&lt;/div&gt;\"></li>\n  </ul>`\n","export default () =>\n  `<form id=\"ancestor-form\">\n    <trix-editor id=\"editor-with-ancestor-form\" name=\"editor-with-ancestor-form\"></trix-editor>\n  </form>\n\n  <form id=\"input-form\">\n    <input type=\"hidden\" id=\"hidden-input\">\n  </form>\n  <trix-editor id=\"editor-with-input-form\" input=\"hidden-input\"></trix-editor>\n\n  <trix-editor id=\"editor-with-no-form\"></trix-editor>\n  <fieldset id=\"fieldset\"><trix-editor id=\"editor-within-fieldset\"></fieldset>`\n","import * as config from \"trix/config\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { makeElement } from \"trix/core/helpers\"\n\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport Attachment from \"trix/models/attachment\"\nimport Document from \"trix/models/document\"\nimport StringPiece from \"trix/models/string_piece\"\n\nimport editorDefaultAriaLabel from \"./editor_default_aria_label\"\nimport editorEmpty from \"./editor_empty\"\nimport editorHtml from \"./editor_html\"\nimport editorInTable from \"./editor_in_table\"\nimport editorWithBlockStyles from \"./editor_with_block_styles\"\nimport editorWithBoldStyles from \"./editor_with_bold_styles\"\nimport editorWithImage from \"./editor_with_image\"\nimport editorWithLabels from \"./editor_with_labels\"\nimport editorWithStyledContent from \"./editor_with_styled_content\"\nimport editorWithToolbarAndInput from \"./editor_with_toolbar_and_input\"\nimport editorsWithForms from \"./editors_with_forms\"\nimport { TEST_IMAGE_URL } from \"./test_image_url\"\n\nexport const fixtureTemplates = {\n  \"editor_default_aria_label\": editorDefaultAriaLabel,\n  \"editor_empty\": editorEmpty,\n  \"editor_html\": editorHtml,\n  \"editor_in_table\": editorInTable,\n  \"editor_with_block_styles\": editorWithBlockStyles,\n  \"editor_with_bold_styles\": editorWithBoldStyles,\n  \"editor_with_image\": editorWithImage,\n  \"editor_with_labels\": editorWithLabels,\n  \"editor_with_styled_content\": editorWithStyledContent,\n  \"editor_with_toolbar_and_input\": editorWithToolbarAndInput,\n  \"editors_with_forms\": editorsWithForms,\n}\n\nexport { TEST_IMAGE_URL }\n\nconst { css } = config\n\nconst createDocument = function (...parts) {\n  const blocks = parts.map((part) => {\n    const [ string, textAttributes, blockAttributes, htmlAttributes = {} ] = Array.from(part)\n    const text = Text.textForStringWithAttributes(string, textAttributes)\n    return new Block(text, blockAttributes, htmlAttributes)\n  })\n\n  return new Document(blocks)\n}\n\nexport const createCursorTarget = (name) =>\n  makeElement({\n    tagName: \"span\",\n    textContent: ZERO_WIDTH_SPACE,\n    data: {\n      trixCursorTarget: name,\n      trixSerialize: false,\n    },\n  })\n\nconst cursorTargetLeft = createCursorTarget(\"left\").outerHTML\nconst cursorTargetRight = createCursorTarget(\"right\").outerHTML\n\nconst blockComment = \"<!--block-->\"\n\nconst removeWhitespace = (string) => string.replace(/\\s/g, \"\")\n\nexport const fixtures = {\n  \"bold text\": {\n    document: createDocument([ \"abc\", { bold: true } ]),\n    html: `<div>${blockComment}<strong>abc</strong></div>`,\n    serializedHTML: \"<div><strong>abc</strong></div>\",\n  },\n\n  \"bold, italic text\": {\n    document: createDocument([ \"abc\", { bold: true, italic: true } ]),\n    html: `<div>${blockComment}<strong><em>abc</em></strong></div>`,\n  },\n\n  \"text with newline\": {\n    document: createDocument([ \"ab\\nc\" ]),\n    html: `<div>${blockComment}ab<br>c</div>`,\n  },\n\n  \"text with link\": {\n    document: createDocument([ \"abc\", { href: \"http://example.com\" } ]),\n    html: `<div>${blockComment}<a href=\"http://example.com\">abc</a></div>`,\n  },\n\n  \"text with link and formatting\": {\n    document: createDocument([ \"abc\", { italic: true, href: \"http://example.com\" } ]),\n    html: `<div>${blockComment}<a href=\"http://example.com\"><em>abc</em></a></div>`,\n  },\n\n  \"partially formatted link\": {\n    document: new Document([\n      new Block(\n        new Text([\n          new StringPiece(\"ab\", { href: \"http://example.com\" }),\n          new StringPiece(\"c\", { href: \"http://example.com\", italic: true }),\n        ])\n      ),\n    ]),\n    html: `<div>${blockComment}<a href=\"http://example.com\">ab<em>c</em></a></div>`,\n  },\n\n  \"spaces 1\": {\n    document: createDocument([ \" a\" ]),\n    html: `<div>${blockComment}&nbsp;a</div>`,\n  },\n\n  \"spaces 2\": {\n    document: createDocument([ \"  a\" ]),\n    html: `<div>${blockComment}&nbsp; a</div>`,\n  },\n\n  \"spaces 3\": {\n    document: createDocument([ \"   a\" ]),\n    html: `<div>${blockComment}&nbsp; &nbsp;a</div>`,\n  },\n\n  \"spaces 4\": {\n    document: createDocument([ \" a \" ]),\n    html: `<div>${blockComment}&nbsp;a&nbsp;</div>`,\n  },\n\n  \"spaces 5\": {\n    document: createDocument([ \"a  b\" ]),\n    html: `<div>${blockComment}a&nbsp; b</div>`,\n  },\n\n  \"spaces 6\": {\n    document: createDocument([ \"a   b\" ]),\n    html: `<div>${blockComment}a &nbsp; b</div>`,\n  },\n\n  \"spaces 7\": {\n    document: createDocument([ \"a    b\" ]),\n    html: `<div>${blockComment}a&nbsp; &nbsp; b</div>`,\n  },\n\n  \"spaces 8\": {\n    document: createDocument([ \"a b \" ]),\n    html: `<div>${blockComment}a b&nbsp;</div>`,\n  },\n\n  \"spaces 9\": {\n    document: createDocument([ \"a b c\" ]),\n    html: `<div>${blockComment}a b c</div>`,\n  },\n\n  \"spaces 10\": {\n    document: createDocument([ \"a \" ]),\n    html: `<div>${blockComment}a&nbsp;</div>`,\n  },\n\n  \"spaces 11\": {\n    document: createDocument([ \"a  \" ]),\n    html: `<div>${blockComment}a &nbsp;</div>`,\n  },\n\n  \"spaces and formatting\": {\n    document: new Document([\n      new Block(\n        new Text([\n          new StringPiece(\" a \"),\n          new StringPiece(\"b\", { href: \"http://b.com\" }),\n          new StringPiece(\" \"),\n          new StringPiece(\"c\", { bold: true }),\n          new StringPiece(\" d\"),\n          new StringPiece(\" e \", { italic: true }),\n          new StringPiece(\" f  \"),\n        ])\n      ),\n    ]),\n    html: `<div>${blockComment}&nbsp;a <a href=\"http://b.com\">b</a> <strong>c</strong> d<em> e </em>&nbsp;f &nbsp;</div>`,\n  },\n\n  \"quote formatted block\": {\n    document: createDocument([ \"abc\", {}, [ \"quote\" ] ]),\n    html: `<blockquote>${blockComment}abc</blockquote>`,\n  },\n\n  \"code formatted block\": {\n    document: createDocument([ \"123\", {}, [ \"code\" ] ]),\n    html: `<pre>${blockComment}123</pre>`,\n  },\n\n  \"code with newline\": {\n    document: createDocument([ \"12\\n3\", {}, [ \"code\" ] ]),\n    html: `<pre>${blockComment}12\\n3</pre>`,\n  },\n\n  \"code with custom language\": {\n    document: createDocument([ \"puts \\\"Hello world!\\\"\", {}, [ \"code\" ], { \"language\": \"ruby\" } ]),\n    html: `<pre language=\"ruby\">${blockComment}puts \"Hello world!\"</pre>`,\n    serializedHTML: \"<pre language=\\\"ruby\\\">puts \\\"Hello world!\\\"</pre>\"\n  },\n\n  \"multiple blocks with block comments in their text\": {\n    document: createDocument([ `a${blockComment}b`, {}, [ \"quote\" ] ], [ `${blockComment}c`, {}, [ \"code\" ] ]),\n    html: `<blockquote>${blockComment}a&lt;!--block--&gt;b</blockquote><pre>${blockComment}&lt;!--block--&gt;c</pre>`,\n    serializedHTML: \"<blockquote>a&lt;!--block--&gt;b</blockquote><pre>&lt;!--block--&gt;c</pre>\",\n  },\n\n  \"unordered list with one item\": {\n    document: createDocument([ \"a\", {}, [ \"bulletList\", \"bullet\" ] ]),\n    html: `<ul><li>${blockComment}a</li></ul>`,\n  },\n\n  \"unordered list with bold text\": {\n    document: createDocument([ \"a\", { bold: true }, [ \"bulletList\", \"bullet\" ] ]),\n    html: `<ul><li>${blockComment}<strong>a</strong></li></ul>`,\n  },\n\n  \"unordered list with partially formatted text\": {\n    document: new Document([\n      new Block(new Text([ new StringPiece(\"a\"), new StringPiece(\"b\", { italic: true }) ]), [ \"bulletList\", \"bullet\" ]),\n    ]),\n    html: `<ul><li>${blockComment}a<em>b</em></li></ul>`,\n  },\n\n  \"unordered list with two items\": {\n    document: createDocument([ \"a\", {}, [ \"bulletList\", \"bullet\" ] ], [ \"b\", {}, [ \"bulletList\", \"bullet\" ] ]),\n    html: `<ul><li>${blockComment}a</li><li>${blockComment}b</li></ul>`,\n  },\n\n  \"unordered list surrounded by unformatted blocks\": {\n    document: createDocument([ \"a\" ], [ \"b\", {}, [ \"bulletList\", \"bullet\" ] ], [ \"c\" ]),\n    html: `<div>${blockComment}a</div><ul><li>${blockComment}b</li></ul><div>${blockComment}c</div>`,\n  },\n\n  \"ordered list\": {\n    document: createDocument([ \"a\", {}, [ \"numberList\", \"number\" ] ]),\n    html: `<ol><li>${blockComment}a</li></ol>`,\n  },\n\n  \"ordered list and an unordered list\": {\n    document: createDocument([ \"a\", {}, [ \"bulletList\", \"bullet\" ] ], [ \"b\", {}, [ \"numberList\", \"number\" ] ]),\n    html: `<ul><li>${blockComment}a</li></ul><ol><li>${blockComment}b</li></ol>`,\n  },\n\n  \"empty block with attributes\": {\n    document: createDocument([ \"\", {}, [ \"quote\" ] ]),\n    html: `<blockquote>${blockComment}<br></blockquote>`,\n  },\n\n  \"image attachment\": (() => {\n    const attrs = {\n      url: TEST_IMAGE_URL,\n      filename: \"example.png\",\n      filesize: 98203,\n      contentType: \"image/png\",\n      width: 1,\n      height: 1,\n    }\n    const attachment = new Attachment(attrs)\n    const text = Text.textForAttachmentWithAttributes(attachment)\n\n    const image = makeElement(\"img\", { src: attrs.url, \"data-trix-mutable\": true, width: 1, height: 1 })\n    image.dataset.trixStoreKey = [ \"imageElement\", attachment.id, image.src, image.width, image.height ].join(\"/\")\n\n    const caption = makeElement({ tagName: \"figcaption\", className: css.attachmentCaption })\n    caption.innerHTML = `<span class=\"${css.attachmentName}\">${attrs.filename}</span> <span class=\"${css.attachmentSize}\">95.9 KB</span>`\n\n    const figure = makeElement({\n      tagName: \"figure\",\n      className: \"attachment attachment--preview attachment--png\",\n      editable: false,\n      data: {\n        trixAttachment: JSON.stringify(attachment),\n        trixContentType: \"image/png\",\n        trixId: attachment.id,\n      },\n    })\n\n    figure.setAttribute(\"contenteditable\", false)\n    figure.appendChild(image)\n    figure.appendChild(caption)\n\n    const serializedFigure = figure.cloneNode(true)\n\n    ;[ \"data-trix-id\", \"data-trix-mutable\", \"data-trix-store-key\", \"contenteditable\" ].forEach((attribute) => {\n      serializedFigure.removeAttribute(attribute)\n\n      Array.from(serializedFigure.querySelectorAll(`[${attribute}]`)).forEach((element) => {\n        element.removeAttribute(attribute)\n      })\n    })\n\n    return {\n      html: `<div>${blockComment}${cursorTargetLeft}${figure.outerHTML}${cursorTargetRight}</div>`,\n      serializedHTML: `<div>${serializedFigure.outerHTML}</div>`,\n      document: new Document([ new Block(text) ]),\n    }\n  })(),\n\n  \"text with newlines and image attachment\": (() => {\n    const stringText = Text.textForStringWithAttributes(\"a\\nb\")\n\n    const attrs = {\n      url: TEST_IMAGE_URL,\n      filename: \"example.png\",\n      filesize: 98203,\n      contentType: \"image/png\",\n      width: 1,\n      height: 1,\n    }\n    const attachment = new Attachment(attrs)\n    const attachmentText = Text.textForAttachmentWithAttributes(attachment)\n\n    const image = makeElement(\"img\", { src: attrs.url, \"data-trix-mutable\": true, width: 1, height: 1 })\n    image.dataset.trixStoreKey = [ \"imageElement\", attachment.id, image.src, image.width, image.height ].join(\"/\")\n\n    const caption = makeElement({ tagName: \"figcaption\", className: css.attachmentCaption })\n    caption.innerHTML = `<span class=\"${css.attachmentName}\">${attrs.filename}</span> <span class=\"${css.attachmentSize}\">95.9 KB</span>`\n\n    const figure = makeElement({\n      tagName: \"figure\",\n      className: \"attachment attachment--preview attachment--png\",\n      editable: false,\n      data: {\n        trixAttachment: JSON.stringify(attachment),\n        trixContentType: \"image/png\",\n        trixId: attachment.id,\n      },\n    })\n\n    figure.appendChild(image)\n    figure.appendChild(caption)\n\n    const serializedFigure = figure.cloneNode(true)\n\n    ;[ \"data-trix-id\", \"data-trix-mutable\", \"data-trix-store-key\", \"contenteditable\" ].forEach((attribute) => {\n      serializedFigure.removeAttribute(attribute)\n\n      Array.from(serializedFigure.querySelectorAll(`[${attribute}]`)).forEach((element) => {\n        element.removeAttribute(attribute)\n      })\n    })\n\n    const text = stringText.appendText(attachmentText)\n\n    return {\n      html: `<div>${blockComment}a<br>b${cursorTargetLeft}${figure.outerHTML}${cursorTargetRight}</div>`,\n      serializedHTML: `<div>a<br>b${serializedFigure.outerHTML}</div>`,\n      document: new Document([ new Block(text) ]),\n    }\n  })(),\n\n  \"image attachment with edited caption\": (() => {\n    const attrs = {\n      url: TEST_IMAGE_URL,\n      filename: \"example.png\",\n      filesize: 123,\n      contentType: \"image/png\",\n      width: 1,\n      height: 1,\n    }\n    const attachment = new Attachment(attrs)\n    const textAttrs = { caption: \"Example\" }\n    const text = Text.textForAttachmentWithAttributes(attachment, textAttrs)\n\n    const image = makeElement(\"img\", { src: attrs.url, \"data-trix-mutable\": true, width: 1, height: 1 })\n    image.dataset.trixStoreKey = [ \"imageElement\", attachment.id, image.src, image.width, image.height ].join(\"/\")\n\n    const caption = makeElement({\n      tagName: \"figcaption\",\n      className: `${css.attachmentCaption} ${css.attachmentCaption}--edited`,\n      textContent: \"Example\",\n    })\n\n    const figure = makeElement({\n      tagName: \"figure\",\n      className: \"attachment attachment--preview attachment--png\",\n      editable: false,\n      data: {\n        trixAttachment: JSON.stringify(attachment),\n        trixContentType: \"image/png\",\n        trixId: attachment.id,\n        trixAttributes: JSON.stringify(textAttrs),\n      },\n    })\n\n    figure.appendChild(image)\n    figure.appendChild(caption)\n\n    return {\n      html: `<div>${blockComment}${cursorTargetLeft}${figure.outerHTML}${cursorTargetRight}</div>`,\n      document: new Document([ new Block(text) ]),\n    }\n  })(),\n\n  \"file attachment\": (() => {\n    const attrs = {\n      href: \"http://example.com/example.pdf\",\n      filename: \"example.pdf\",\n      filesize: 34038769,\n      contentType: \"application/pdf\",\n    }\n    const attachment = new Attachment(attrs)\n    const text = Text.textForAttachmentWithAttributes(attachment)\n\n    const figure = makeElement({\n      tagName: \"figure\",\n      className: \"attachment attachment--file attachment--pdf\",\n      editable: false,\n      data: {\n        trixAttachment: JSON.stringify(attachment),\n        trixContentType: \"application/pdf\",\n        trixId: attachment.id,\n      },\n    })\n\n    const caption = `<figcaption class=\"${css.attachmentCaption}\"><span class=\"${css.attachmentName}\">${attrs.filename}</span> <span class=\"${css.attachmentSize}\">32.46 MB</span></figcaption>`\n    figure.innerHTML = caption\n\n    const link = makeElement({ tagName: \"a\", editable: false, attributes: { href: attrs.href, tabindex: -1 } })\n    Array.from(figure.childNodes).forEach((node) => {\n      link.appendChild(node)\n    })\n    figure.appendChild(link)\n\n    return {\n      html: `<div>${blockComment}${cursorTargetLeft}${figure.outerHTML}${cursorTargetRight}</div>`,\n      document: new Document([ new Block(text) ]),\n    }\n  })(),\n\n  \"pending file attachment\": (() => {\n    const attrs = { filename: \"example.pdf\", filesize: 34038769, contentType: \"application/pdf\" }\n    const attachment = new Attachment(attrs)\n    attachment.file = {}\n    const text = Text.textForAttachmentWithAttributes(attachment)\n\n    const figure = makeElement({\n      tagName: \"figure\",\n      className: \"attachment attachment--file attachment--pdf\",\n      editable: false,\n      data: {\n        trixAttachment: JSON.stringify(attachment),\n        trixContentType: \"application/pdf\",\n        trixId: attachment.id,\n        trixSerialize: false,\n      },\n    })\n\n    const progress = makeElement({\n      tagName: \"progress\",\n      attributes: {\n        class: \"attachment__progress\",\n        value: 0,\n        max: 100,\n      },\n      data: {\n        trixMutable: true,\n        trixStoreKey: [ \"progressElement\", attachment.id ].join(\"/\"),\n      },\n    })\n\n    const caption = `<figcaption class=\"${css.attachmentCaption}\"><span class=\"${css.attachmentName}\">${attrs.filename}</span> <span class=\"${css.attachmentSize}\">32.46 MB</span></figcaption>`\n    figure.innerHTML = caption + progress.outerHTML\n\n    return {\n      html: `<div>${blockComment}${cursorTargetLeft}${figure.outerHTML}${cursorTargetRight}</div>`,\n      document: new Document([ new Block(text) ]),\n    }\n  })(),\n\n  \"content attachment\": (() => {\n    const content =\n      \"<blockquote class=\\\"twitter-tweet\\\"><p>ruby-build 20150413 is out, with definitions for 2.2.2, 2.1.6, and 2.0.0-p645 to address recent security issues: <a href=\\\"https://t.co/YEwV6NtRD8\\\">https://t.co/YEwV6NtRD8</a></p>&mdash; Sam Stephenson (@sstephenson) <a href=\\\"https://twitter.com/sstephenson/status/587715996783218688\\\">April 13, 2015</a></blockquote>\"\n    const href = \"https://twitter.com/sstephenson/status/587715996783218688\"\n    const contentType = \"embed/twitter\"\n\n    const attachment = new Attachment({ content, contentType, href })\n    const text = Text.textForAttachmentWithAttributes(attachment)\n\n    const figure = makeElement({\n      tagName: \"figure\",\n      className: \"attachment attachment--content\",\n      editable: false,\n      data: {\n        trixAttachment: JSON.stringify(attachment),\n        trixContentType: contentType,\n        trixId: attachment.id,\n      },\n    })\n\n    figure.innerHTML = content\n\n    const caption = makeElement({ tagName: \"figcaption\", className: css.attachmentCaption })\n    figure.appendChild(caption)\n\n    return {\n      html: `<div>${blockComment}${cursorTargetLeft}${figure.outerHTML}${cursorTargetRight}</div>`,\n      document: new Document([ new Block(text) ]),\n    }\n  })(),\n\n  \"nested quote and code formatted block\": {\n    document: createDocument([ \"ab3\", {}, [ \"quote\", \"code\" ] ]),\n    html: `<blockquote><pre>${blockComment}ab3</pre></blockquote>`,\n  },\n\n  \"nested code and quote formatted block\": {\n    document: createDocument([ \"ab3\", {}, [ \"code\", \"quote\" ] ]),\n    html: `<pre><blockquote>${blockComment}ab3</blockquote></pre>`,\n  },\n\n  \"nested code blocks in quote\": {\n    document: createDocument(\n      [ \"a\\n\", {}, [ \"quote\" ] ],\n      [ \"b\", {}, [ \"quote\", \"code\" ] ],\n      [ \"\\nc\\n\", {}, [ \"quote\" ] ],\n      [ \"d\", {}, [ \"quote\", \"code\" ] ]\n    ),\n    html: removeWhitespace(\n      `<blockquote>\n        ${blockComment}\n        a\n        <br>\n        <br>\n        <pre>\n          ${blockComment}\n          b\n        </pre>\n        ${blockComment}\n        <br>\n        c\n        <br>\n        <br>\n        <pre>\n          ${blockComment}\n          d\n        </pre>\n      </blockquote>`\n    ),\n    serializedHTML: removeWhitespace(\n      `<blockquote>\n        a\n        <br>\n        <br>\n        <pre>\n          b\n        </pre>\n        <br>\n        c\n        <br>\n        <br>\n        <pre>\n          d\n        </pre>\n      </blockquote>`\n    ),\n  },\n\n  \"nested code, quote, and list in quote\": {\n    document: createDocument(\n      [ \"a\\n\", {}, [ \"quote\" ] ],\n      [ \"b\", {}, [ \"quote\", \"code\" ] ],\n      [ \"\\nc\\n\", {}, [ \"quote\" ] ],\n      [ \"d\", {}, [ \"quote\", \"quote\" ] ],\n      [ \"\\ne\\n\", {}, [ \"quote\" ] ],\n      [ \"f\", {}, [ \"quote\", \"bulletList\", \"bullet\" ] ]\n    ),\n    html: removeWhitespace(\n      `<blockquote>\n        ${blockComment}\n        a\n        <br>\n        <br>\n        <pre>\n          ${blockComment}\n          b\n        </pre>\n        ${blockComment}\n        <br>\n        c\n        <br>\n        <br>\n        <blockquote>\n          ${blockComment}\n          d\n        </blockquote>\n        ${blockComment}\n        <br>\n        e\n        <br>\n        <br>\n        <ul>\n          <li>\n            ${blockComment}\n            f\n          </li>\n        </ul>\n      </blockquote>`\n  ),\n    serializedHTML: removeWhitespace(\n      `<blockquote>\n        a\n        <br>\n        <br>\n        <pre>\n          b\n        </pre>\n        <br>\n        c\n        <br>\n        <br>\n        <blockquote>\n          d\n        </blockquote>\n        <br>\n        e\n        <br>\n        <br>\n        <ul>\n          <li>\n            f\n          </li>\n        </ul>\n      </blockquote>`\n    ),\n  },\n\n  \"nested quotes at different nesting levels\": {\n    document: createDocument(\n      [ \"a\", {}, [ \"quote\", \"quote\", \"quote\" ] ],\n      [ \"b\", {}, [ \"quote\", \"quote\" ] ],\n      [ \"c\", {}, [ \"quote\" ] ],\n      [ \"d\", {}, [ \"quote\", \"quote\" ] ]\n    ),\n    html: removeWhitespace(\n      `<blockquote>\n        <blockquote>\n          <blockquote>\n            ${blockComment}\n            a\n          </blockquote>\n          ${blockComment}\n          b\n        </blockquote>\n        ${blockComment}\n        c\n        <blockquote>\n          ${blockComment}\n          d\n        </blockquote>\n      </blockquote>`\n    ),\n    serializedHTML: removeWhitespace(\n      `<blockquote>\n        <blockquote>\n          <blockquote>\n            a\n          </blockquote>\n          b\n        </blockquote>\n        c\n        <blockquote>\n          d\n        </blockquote>\n      </blockquote>`\n    ),\n  },\n\n  \"nested quote and list\": {\n    document: createDocument([ \"ab3\", {}, [ \"quote\", \"bulletList\", \"bullet\" ] ]),\n    html: `<blockquote><ul><li>${blockComment}ab3</li></ul></blockquote>`,\n  },\n\n  \"nested list and quote\": {\n    document: createDocument([ \"ab3\", {}, [ \"bulletList\", \"bullet\", \"quote\" ] ]),\n    html: `<ul><li><blockquote>${blockComment}ab3</blockquote></li></ul>`,\n  },\n\n  \"nested lists and quotes\": {\n    document: createDocument(\n      [ \"a\", {}, [ \"bulletList\", \"bullet\", \"quote\" ] ],\n      [ \"b\", {}, [ \"bulletList\", \"bullet\", \"quote\" ] ]\n    ),\n    html: `<ul><li><blockquote>${blockComment}a</blockquote></li><li><blockquote>${blockComment}b</blockquote></li></ul>`,\n  },\n\n  \"nested quote and list with two items\": {\n    document: createDocument(\n      [ \"a\", {}, [ \"quote\", \"bulletList\", \"bullet\" ] ],\n      [ \"b\", {}, [ \"quote\", \"bulletList\", \"bullet\" ] ]\n    ),\n    html: `<blockquote><ul><li>${blockComment}a</li><li>${blockComment}b</li></ul></blockquote>`,\n  },\n\n  \"nested unordered lists\": {\n    document: createDocument(\n      [ \"a\", {}, [ \"bulletList\", \"bullet\" ] ],\n      [ \"b\", {}, [ \"bulletList\", \"bullet\", \"bulletList\", \"bullet\" ] ],\n      [ \"c\", {}, [ \"bulletList\", \"bullet\", \"bulletList\", \"bullet\" ] ]\n    ),\n    html: `<ul><li>${blockComment}a<ul><li>${blockComment}b</li><li>${blockComment}c</li></ul></li></ul>`,\n  },\n\n  \"nested lists\": {\n    document: createDocument(\n      [ \"a\", {}, [ \"numberList\", \"number\" ] ],\n      [ \"b\", {}, [ \"numberList\", \"number\", \"bulletList\", \"bullet\" ] ],\n      [ \"c\", {}, [ \"numberList\", \"number\", \"bulletList\", \"bullet\" ] ]\n    ),\n    html: `<ol><li>${blockComment}a<ul><li>${blockComment}b</li><li>${blockComment}c</li></ul></li></ol>`,\n  },\n\n  \"blocks beginning with newlines\": {\n    document: createDocument([ \"\\na\", {}, [ \"quote\" ] ], [ \"\\nb\", {}, [] ], [ \"\\nc\", {}, [ \"quote\" ] ]),\n    html: `<blockquote>${blockComment}<br>a</blockquote><div>${blockComment}<br>b</div><blockquote>${blockComment}<br>c</blockquote>`,\n  },\n\n  \"blocks beginning with formatted text\": {\n    document: createDocument(\n      [ \"a\", { bold: true }, [ \"quote\" ] ],\n      [ \"b\", { italic: true }, [] ],\n      [ \"c\", { bold: true }, [ \"quote\" ] ]\n    ),\n    html: `<blockquote>${blockComment}<strong>a</strong></blockquote><div>${blockComment}<em>b</em></div><blockquote>${blockComment}<strong>c</strong></blockquote>`,\n  },\n\n  \"text with newlines before block\": {\n    document: createDocument([ \"a\\nb\" ], [ \"c\", {}, [ \"quote\" ] ]),\n    html: `<div>${blockComment}a<br>b</div><blockquote>${blockComment}c</blockquote>`,\n  },\n\n  \"empty heading block\": {\n    document: createDocument([ \"\", {}, [ \"heading1\" ] ]),\n    html: `<h1>${blockComment}<br></h1>`,\n  },\n\n  \"two adjacent headings\": {\n    document: createDocument([ \"a\", {}, [ \"heading1\" ] ], [ \"b\", {}, [ \"heading1\" ] ]),\n    html: `<h1>${blockComment}a</h1><h1>${blockComment}b</h1>`,\n  },\n\n  \"heading in ordered list\": {\n    document: createDocument([ \"a\", {}, [ \"numberList\", \"number\", \"heading1\" ] ]),\n    html: `<ol><li><h1>${blockComment}a</h1></li></ol>`,\n  },\n\n  \"headings with formatted text\": {\n    document: createDocument([ \"a\", { bold: true }, [ \"heading1\" ] ], [ \"b\", { italic: true, bold: true }, [ \"heading1\" ] ]),\n    html: `<h1>${blockComment}<strong>a</strong></h1><h1>${blockComment}<strong><em>b</em></strong></h1>`,\n  },\n\n  \"bidrectional text\": {\n    document: createDocument(\n      [ \"a\" ],\n      [ \"ل\", {}, [ \"quote\" ] ],\n      [ \"b\", {}, [ \"bulletList\", \"bullet\" ] ],\n      [ \"ל\", {}, [ \"bulletList\", \"bullet\" ] ],\n      [ \"\", {}, [ \"bulletList\", \"bullet\" ] ],\n      [ \"cید\" ],\n      [ \"\\n گ\" ]\n    ),\n    html: `<div>${blockComment}a</div>\\\n<blockquote dir=\"rtl\">${blockComment}ل</blockquote>\\\n<ul><li>${blockComment}b</li></ul>\\\n<ul dir=\"rtl\"><li>${blockComment}ל</li><li>${blockComment}<br></li></ul>\\\n<div>${blockComment}cید</div>\\\n<div dir=\"rtl\">${blockComment}<br>&nbsp;گ</div>\\\n`,\n    serializedHTML:\n      \"\\\n<div>a</div>\\\n<blockquote dir=\\\"rtl\\\">ل</blockquote>\\\n<ul><li>b</li></ul>\\\n<ul dir=\\\"rtl\\\"><li>ל</li><li><br></li></ul>\\\n<div>cید</div>\\\n<div dir=\\\"rtl\\\"><br>&nbsp;گ</div>\\\n\",\n  },\n}\n\nexport const eachFixture = (callback) => {\n  for (const name in fixtures) {\n    const details = fixtures[name]\n    callback(name, details)\n  }\n}\n","import { fixtureTemplates } from \"test/test_helpers/fixtures/fixtures\"\nimport { removeNode } from \"trix/core/helpers\"\n\nexport const setFixtureHTML = function (html, container = \"form\") {\n  let element = document.getElementById(\"trix-container\")\n  if (element != null) removeNode(element)\n\n  element = document.createElement(container)\n  element.id = \"trix-container\"\n  element.innerHTML = html\n\n  document.body.insertAdjacentElement(\"afterbegin\", element)\n\n  return waitForTrixInit()\n}\n\nexport const testGroup = function (name, options, callback) {\n  let container, beforeSetup, setup, teardown, afterTeardown, template\n  if (callback != null) {\n    ({ container, template, beforeSetup, setup, teardown, afterTeardown } = options)\n  } else {\n    callback = options\n  }\n\n  const before = () => {\n    if (beforeSetup) beforeSetup()\n  }\n\n  const beforeEach = async () => {\n    // Ensure window is active on CI so focus and blur events are natively dispatched\n    window.focus()\n\n    if (template != null) {\n      await setFixtureHTML(fixtureTemplates[template](), container)\n    }\n\n    if (setup) setup()\n  }\n\n  const afterEach = () => {\n    if (template != null) setFixtureHTML(\"\")\n    return teardown?.()\n  }\n\n  const after = () => {\n    if (afterTeardown) afterTeardown()\n  }\n\n  if (callback != null) {\n    return QUnit.module(name, function (hooks) {\n      hooks.before(before)\n      hooks.beforeEach(beforeEach)\n      hooks.afterEach(afterEach)\n      hooks.after(after)\n      callback()\n    })\n  } else {\n    return QUnit.module(name, { before, beforeEach, afterEach, after })\n  }\n}\n\nexport const skipIf = function (condition, ...args) {\n  testIf(!condition, ...args)\n}\n\nexport const testIf = function (condition, ...args) {\n  if (condition) {\n    test(...Array.from(args || []))\n  } else {\n    skip(...Array.from(args || []))\n  }\n}\n\nexport const { skip, test } = QUnit\n\nconst waitForTrixInit = async () => {\n  return new Promise((resolve) => {\n    addEventListener(\"trix-initialize\", ({ target }) => {\n      if (target.hasAttribute(\"autofocus\")) target.editor.setSelectedRange(0)\n      resolve(target)\n    }, { once: true })\n  })\n}\n\n\n// const isAsync = (func) => func.constructor.name === \"AsyncFunction\"\n","import { normalizeRange, rangeIsCollapsed } from \"trix/core/helpers\"\n\nexport class TestCompositionDelegate {\n  compositionDidRequestChangingSelectionToLocationRange() {\n    return this.getSelectionManager().setLocationRange(...arguments)\n  }\n\n  getSelectionManager() {\n    if (!this.selectionManager) this.selectionManager = new TestSelectionManager()\n    return this.selectionManager\n  }\n}\n\nexport class TestSelectionManager {\n  constructor() {\n    this.setLocationRange({ index: 0, offset: 0 })\n  }\n\n  getLocationRange() {\n    return this.locationRange\n  }\n\n  setLocationRange(locationRange) {\n    this.locationRange = normalizeRange(locationRange)\n  }\n\n  preserveSelection(block) {\n    const locationRange = this.getLocationRange()\n    block()\n    this.locationRange = locationRange\n  }\n\n  setLocationRangeFromPoint(point) {}\n\n  locationIsCursorTarget() {\n    return false\n  }\n\n  selectionIsExpanded() {\n    return !rangeIsCollapsed(this.getLocationRange())\n  }\n}\n","export const extend = function (properties) {\n  for (const key in properties) {\n    const value = properties[key]\n    this[key] = value\n  }\n  return this\n}\n\nexport const after = (delay, callback) => setTimeout(callback, delay)\n","export function nextFrame() {\n  return new Promise(requestAnimationFrame)\n}\n\nexport function nextIdle() {\n  return new Promise(window.requestIdleCallback || setTimeout)\n}\n\nexport function delay(ms = 1) {\n  return new Promise(resolve => setTimeout(resolve, ms))\n}\n","/**\n * Rangy, a cross-browser JavaScript range and selection library\n * https://github.com/timdown/rangy\n *\n * Copyright 2022, Tim Down\n * Licensed under the MIT license.\n * Version: 1.3.1\n * Build date: 17 August 2022\n */\n\n(function(factory, root) {\n    if (typeof define == \"function\" && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else if (typeof module != \"undefined\" && typeof exports == \"object\") {\n        // Node/CommonJS style\n        module.exports = factory();\n    } else {\n        // No AMD or CommonJS support so we place Rangy in (probably) the global variable\n        root.rangy = factory();\n    }\n})(function() {\n\n    var OBJECT = \"object\", FUNCTION = \"function\", UNDEFINED = \"undefined\";\n\n    // Minimal set of properties required for DOM Level 2 Range compliance. Comparison constants such as START_TO_START\n    // are omitted because ranges in KHTML do not have them but otherwise work perfectly well. See issue 113.\n    var domRangeProperties = [\"startContainer\", \"startOffset\", \"endContainer\", \"endOffset\", \"collapsed\",\n        \"commonAncestorContainer\"];\n\n    // Minimal set of methods required for DOM Level 2 Range compliance\n    var domRangeMethods = [\"setStart\", \"setStartBefore\", \"setStartAfter\", \"setEnd\", \"setEndBefore\",\n        \"setEndAfter\", \"collapse\", \"selectNode\", \"selectNodeContents\", \"compareBoundaryPoints\", \"deleteContents\",\n        \"extractContents\", \"cloneContents\", \"insertNode\", \"surroundContents\", \"cloneRange\", \"toString\", \"detach\"];\n\n    var textRangeProperties = [\"boundingHeight\", \"boundingLeft\", \"boundingTop\", \"boundingWidth\", \"htmlText\", \"text\"];\n\n    // Subset of TextRange's full set of methods that we're interested in\n    var textRangeMethods = [\"collapse\", \"compareEndPoints\", \"duplicate\", \"moveToElementText\", \"parentElement\", \"select\",\n        \"setEndPoint\", \"getBoundingClientRect\"];\n\n    /*----------------------------------------------------------------------------------------------------------------*/\n\n    // Trio of functions taken from Peter Michaux's article:\n    // http://peter.michaux.ca/articles/feature-detection-state-of-the-art-browser-scripting\n    function isHostMethod(o, p) {\n        var t = typeof o[p];\n        return t == FUNCTION || (!!(t == OBJECT && o[p])) || t == \"unknown\";\n    }\n\n    function isHostObject(o, p) {\n        return !!(typeof o[p] == OBJECT && o[p]);\n    }\n\n    function isHostProperty(o, p) {\n        return typeof o[p] != UNDEFINED;\n    }\n\n    // Creates a convenience function to save verbose repeated calls to tests functions\n    function createMultiplePropertyTest(testFunc) {\n        return function(o, props) {\n            var i = props.length;\n            while (i--) {\n                if (!testFunc(o, props[i])) {\n                    return false;\n                }\n            }\n            return true;\n        };\n    }\n\n    // Next trio of functions are a convenience to save verbose repeated calls to previous two functions\n    var areHostMethods = createMultiplePropertyTest(isHostMethod);\n    var areHostObjects = createMultiplePropertyTest(isHostObject);\n    var areHostProperties = createMultiplePropertyTest(isHostProperty);\n\n    function isTextRange(range) {\n        return range && areHostMethods(range, textRangeMethods) && areHostProperties(range, textRangeProperties);\n    }\n\n    function getBody(doc) {\n        return isHostObject(doc, \"body\") ? doc.body : doc.getElementsByTagName(\"body\")[0];\n    }\n\n    var forEach = [].forEach ?\n        function(arr, func) {\n            arr.forEach(func);\n        } :\n        function(arr, func) {\n            for (var i = 0, len = arr.length; i < len; ++i) {\n                func(arr[i], i);\n            }\n        };\n\n    var modules = {};\n\n    var isBrowser = (typeof window != UNDEFINED && typeof document != UNDEFINED);\n\n    var util = {\n        isHostMethod: isHostMethod,\n        isHostObject: isHostObject,\n        isHostProperty: isHostProperty,\n        areHostMethods: areHostMethods,\n        areHostObjects: areHostObjects,\n        areHostProperties: areHostProperties,\n        isTextRange: isTextRange,\n        getBody: getBody,\n        forEach: forEach\n    };\n\n    var api = {\n        version: \"1.3.1\",\n        initialized: false,\n        isBrowser: isBrowser,\n        supported: true,\n        util: util,\n        features: {},\n        modules: modules,\n        config: {\n            alertOnFail: false,\n            alertOnWarn: false,\n            preferTextRange: false,\n            autoInitialize: (typeof rangyAutoInitialize == UNDEFINED) ? true : rangyAutoInitialize\n        }\n    };\n\n    function consoleLog(msg) {\n        if (typeof console != UNDEFINED && isHostMethod(console, \"log\")) {\n            console.log(msg);\n        }\n    }\n\n    function alertOrLog(msg, shouldAlert) {\n        if (isBrowser && shouldAlert) {\n            alert(msg);\n        } else  {\n            consoleLog(msg);\n        }\n    }\n\n    function fail(reason) {\n        api.initialized = true;\n        api.supported = false;\n        alertOrLog(\"Rangy is not supported in this environment. Reason: \" + reason, api.config.alertOnFail);\n    }\n\n    api.fail = fail;\n\n    function warn(msg) {\n        alertOrLog(\"Rangy warning: \" + msg, api.config.alertOnWarn);\n    }\n\n    api.warn = warn;\n\n    // Add utility extend() method\n    var extend;\n    if ({}.hasOwnProperty) {\n        util.extend = extend = function(obj, props, deep) {\n            var o, p;\n            for (var i in props) {\n                if (props.hasOwnProperty(i)) {\n                    o = obj[i];\n                    p = props[i];\n                    if (deep && o !== null && typeof o == \"object\" && p !== null && typeof p == \"object\") {\n                        extend(o, p, true);\n                    }\n                    obj[i] = p;\n                }\n            }\n            // Special case for toString, which does not show up in for...in loops in IE <= 8\n            if (props.hasOwnProperty(\"toString\")) {\n                obj.toString = props.toString;\n            }\n            return obj;\n        };\n\n        util.createOptions = function(optionsParam, defaults) {\n            var options = {};\n            extend(options, defaults);\n            if (optionsParam) {\n                extend(options, optionsParam);\n            }\n            return options;\n        };\n    } else {\n        fail(\"hasOwnProperty not supported\");\n    }\n\n    // Test whether we're in a browser and bail out if not\n    if (!isBrowser) {\n        fail(\"Rangy can only run in a browser\");\n    }\n\n    // Test whether Array.prototype.slice can be relied on for NodeLists and use an alternative toArray() if not\n    (function() {\n        var toArray;\n\n        if (isBrowser) {\n            var el = document.createElement(\"div\");\n            el.appendChild(document.createElement(\"span\"));\n            var slice = [].slice;\n            try {\n                if (slice.call(el.childNodes, 0)[0].nodeType == 1) {\n                    toArray = function(arrayLike) {\n                        return slice.call(arrayLike, 0);\n                    };\n                }\n            } catch (e) {}\n        }\n\n        if (!toArray) {\n            toArray = function(arrayLike) {\n                var arr = [];\n                for (var i = 0, len = arrayLike.length; i < len; ++i) {\n                    arr[i] = arrayLike[i];\n                }\n                return arr;\n            };\n        }\n\n        util.toArray = toArray;\n    })();\n\n    // Very simple event handler wrapper function that doesn't attempt to solve issues such as \"this\" handling or\n    // normalization of event properties because we don't need this.\n    var addListener;\n    if (isBrowser) {\n        if (isHostMethod(document, \"addEventListener\")) {\n            addListener = function(obj, eventType, listener) {\n                obj.addEventListener(eventType, listener, false);\n            };\n        } else if (isHostMethod(document, \"attachEvent\")) {\n            addListener = function(obj, eventType, listener) {\n                obj.attachEvent(\"on\" + eventType, listener);\n            };\n        } else {\n            fail(\"Document does not have required addEventListener or attachEvent method\");\n        }\n\n        util.addListener = addListener;\n    }\n\n    var initListeners = [];\n\n    function getErrorDesc(ex) {\n        return ex.message || ex.description || String(ex);\n    }\n\n    // Initialization\n    function init() {\n        if (!isBrowser || api.initialized) {\n            return;\n        }\n        var testRange;\n        var implementsDomRange = false, implementsTextRange = false;\n\n        // First, perform basic feature tests\n\n        if (isHostMethod(document, \"createRange\")) {\n            testRange = document.createRange();\n            if (areHostMethods(testRange, domRangeMethods) && areHostProperties(testRange, domRangeProperties)) {\n                implementsDomRange = true;\n            }\n        }\n\n        var body = getBody(document);\n        if (!body || body.nodeName.toLowerCase() != \"body\") {\n            fail(\"No body element found\");\n            return;\n        }\n\n        if (body && isHostMethod(body, \"createTextRange\")) {\n            testRange = body.createTextRange();\n            if (isTextRange(testRange)) {\n                implementsTextRange = true;\n            }\n        }\n\n        if (!implementsDomRange && !implementsTextRange) {\n            fail(\"Neither Range nor TextRange are available\");\n            return;\n        }\n\n        api.initialized = true;\n        api.features = {\n            implementsDomRange: implementsDomRange,\n            implementsTextRange: implementsTextRange\n        };\n\n        // Initialize modules\n        var module, errorMessage;\n        for (var moduleName in modules) {\n            if ( (module = modules[moduleName]) instanceof Module ) {\n                module.init(module, api);\n            }\n        }\n\n        // Call init listeners\n        for (var i = 0, len = initListeners.length; i < len; ++i) {\n            try {\n                initListeners[i](api);\n            } catch (ex) {\n                errorMessage = \"Rangy init listener threw an exception. Continuing. Detail: \" + getErrorDesc(ex);\n                consoleLog(errorMessage);\n            }\n        }\n    }\n\n    function deprecationNotice(deprecated, replacement, module) {\n        if (module) {\n            deprecated += \" in module \" + module.name;\n        }\n        api.warn(\"DEPRECATED: \" + deprecated + \" is deprecated. Please use \" +\n        replacement + \" instead.\");\n    }\n\n    function createAliasForDeprecatedMethod(owner, deprecated, replacement, module) {\n        owner[deprecated] = function() {\n            deprecationNotice(deprecated, replacement, module);\n            return owner[replacement].apply(owner, util.toArray(arguments));\n        };\n    }\n\n    util.deprecationNotice = deprecationNotice;\n    util.createAliasForDeprecatedMethod = createAliasForDeprecatedMethod;\n\n    // Allow external scripts to initialize this library in case it's loaded after the document has loaded\n    api.init = init;\n\n    // Execute listener immediately if already initialized\n    api.addInitListener = function(listener) {\n        if (api.initialized) {\n            listener(api);\n        } else {\n            initListeners.push(listener);\n        }\n    };\n\n    var shimListeners = [];\n\n    api.addShimListener = function(listener) {\n        shimListeners.push(listener);\n    };\n\n    function shim(win) {\n        win = win || window;\n        init();\n\n        // Notify listeners\n        for (var i = 0, len = shimListeners.length; i < len; ++i) {\n            shimListeners[i](win);\n        }\n    }\n\n    if (isBrowser) {\n        api.shim = api.createMissingNativeApi = shim;\n        createAliasForDeprecatedMethod(api, \"createMissingNativeApi\", \"shim\");\n    }\n\n    function Module(name, dependencies, initializer) {\n        this.name = name;\n        this.dependencies = dependencies;\n        this.initialized = false;\n        this.supported = false;\n        this.initializer = initializer;\n    }\n\n    Module.prototype = {\n        init: function() {\n            var requiredModuleNames = this.dependencies || [];\n            for (var i = 0, len = requiredModuleNames.length, requiredModule, moduleName; i < len; ++i) {\n                moduleName = requiredModuleNames[i];\n\n                requiredModule = modules[moduleName];\n                if (!requiredModule || !(requiredModule instanceof Module)) {\n                    throw new Error(\"required module '\" + moduleName + \"' not found\");\n                }\n\n                requiredModule.init();\n\n                if (!requiredModule.supported) {\n                    throw new Error(\"required module '\" + moduleName + \"' not supported\");\n                }\n            }\n\n            // Now run initializer\n            this.initializer(this);\n        },\n\n        fail: function(reason) {\n            this.initialized = true;\n            this.supported = false;\n            throw new Error(reason);\n        },\n\n        warn: function(msg) {\n            api.warn(\"Module \" + this.name + \": \" + msg);\n        },\n\n        deprecationNotice: function(deprecated, replacement) {\n            api.warn(\"DEPRECATED: \" + deprecated + \" in module \" + this.name + \" is deprecated. Please use \" +\n                replacement + \" instead\");\n        },\n\n        createError: function(msg) {\n            return new Error(\"Error in Rangy \" + this.name + \" module: \" + msg);\n        }\n    };\n\n    function createModule(name, dependencies, initFunc) {\n        var newModule = new Module(name, dependencies, function(module) {\n            if (!module.initialized) {\n                module.initialized = true;\n                try {\n                    initFunc(api, module);\n                    module.supported = true;\n                } catch (ex) {\n                    var errorMessage = \"Module '\" + name + \"' failed to load: \" + getErrorDesc(ex);\n                    consoleLog(errorMessage);\n                    if (ex.stack) {\n                        consoleLog(ex.stack);\n                    }\n                }\n            }\n        });\n        modules[name] = newModule;\n        return newModule;\n    }\n\n    api.createModule = function(name) {\n        // Allow 2 or 3 arguments (second argument is an optional array of dependencies)\n        var initFunc, dependencies;\n        if (arguments.length == 2) {\n            initFunc = arguments[1];\n            dependencies = [];\n        } else {\n            initFunc = arguments[2];\n            dependencies = arguments[1];\n        }\n\n        var module = createModule(name, dependencies, initFunc);\n\n        // Initialize the module immediately if the core is already initialized\n        if (api.initialized && api.supported) {\n            module.init();\n        }\n    };\n\n    api.createCoreModule = function(name, dependencies, initFunc) {\n        createModule(name, dependencies, initFunc);\n    };\n\n    /*----------------------------------------------------------------------------------------------------------------*/\n\n    // Ensure rangy.rangePrototype and rangy.selectionPrototype are available immediately\n\n    function RangePrototype() {}\n    api.RangePrototype = RangePrototype;\n    api.rangePrototype = new RangePrototype();\n\n    function SelectionPrototype() {}\n    api.selectionPrototype = new SelectionPrototype();\n\n    /*----------------------------------------------------------------------------------------------------------------*/\n\n    // DOM utility methods used by Rangy\n    api.createCoreModule(\"DomUtil\", [], function(api, module) {\n        var UNDEF = \"undefined\";\n        var util = api.util;\n        var getBody = util.getBody;\n\n        // Perform feature tests\n        if (!util.areHostMethods(document, [\"createDocumentFragment\", \"createElement\", \"createTextNode\"])) {\n            module.fail(\"document missing a Node creation method\");\n        }\n\n        if (!util.isHostMethod(document, \"getElementsByTagName\")) {\n            module.fail(\"document missing getElementsByTagName method\");\n        }\n\n        var el = document.createElement(\"div\");\n        if (!util.areHostMethods(el, [\"insertBefore\", \"appendChild\", \"cloneNode\"] ||\n                !util.areHostObjects(el, [\"previousSibling\", \"nextSibling\", \"childNodes\", \"parentNode\"]))) {\n            module.fail(\"Incomplete Element implementation\");\n        }\n\n        // innerHTML is required for Range's createContextualFragment method\n        if (!util.isHostProperty(el, \"innerHTML\")) {\n            module.fail(\"Element is missing innerHTML property\");\n        }\n\n        var textNode = document.createTextNode(\"test\");\n        if (!util.areHostMethods(textNode, [\"splitText\", \"deleteData\", \"insertData\", \"appendData\", \"cloneNode\"] ||\n                !util.areHostObjects(el, [\"previousSibling\", \"nextSibling\", \"childNodes\", \"parentNode\"]) ||\n                !util.areHostProperties(textNode, [\"data\"]))) {\n            module.fail(\"Incomplete Text Node implementation\");\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Removed use of indexOf because of a bizarre bug in Opera that is thrown in one of the Acid3 tests. I haven't been\n        // able to replicate it outside of the test. The bug is that indexOf returns -1 when called on an Array that\n        // contains just the document as a single element and the value searched for is the document.\n        var arrayContains = /*Array.prototype.indexOf ?\n            function(arr, val) {\n                return arr.indexOf(val) > -1;\n            }:*/\n\n            function(arr, val) {\n                var i = arr.length;\n                while (i--) {\n                    if (arr[i] === val) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n\n        // Opera 11 puts HTML elements in the null namespace, it seems, and IE 7 has undefined namespaceURI\n        function isHtmlNamespace(node) {\n            var ns;\n            return typeof node.namespaceURI == UNDEF || ((ns = node.namespaceURI) === null || ns == \"http://www.w3.org/1999/xhtml\");\n        }\n\n        function parentElement(node) {\n            var parent = node.parentNode;\n            return (parent.nodeType == 1) ? parent : null;\n        }\n\n        function getNodeIndex(node) {\n            var i = 0;\n            while( (node = node.previousSibling) ) {\n                ++i;\n            }\n            return i;\n        }\n\n        function getNodeLength(node) {\n            switch (node.nodeType) {\n                case 7:\n                case 10:\n                    return 0;\n                case 3:\n                case 8:\n                    return node.length;\n                default:\n                    return node.childNodes.length;\n            }\n        }\n\n        function getCommonAncestor(node1, node2) {\n            var ancestors = [], n;\n            for (n = node1; n; n = n.parentNode) {\n                ancestors.push(n);\n            }\n\n            for (n = node2; n; n = n.parentNode) {\n                if (arrayContains(ancestors, n)) {\n                    return n;\n                }\n            }\n\n            return null;\n        }\n\n        function isAncestorOf(ancestor, descendant, selfIsAncestor) {\n            var n = selfIsAncestor ? descendant : descendant.parentNode;\n            while (n) {\n                if (n === ancestor) {\n                    return true;\n                } else {\n                    n = n.parentNode;\n                }\n            }\n            return false;\n        }\n\n        function isOrIsAncestorOf(ancestor, descendant) {\n            return isAncestorOf(ancestor, descendant, true);\n        }\n\n        function getClosestAncestorIn(node, ancestor, selfIsAncestor) {\n            var p, n = selfIsAncestor ? node : node.parentNode;\n            while (n) {\n                p = n.parentNode;\n                if (p === ancestor) {\n                    return n;\n                }\n                n = p;\n            }\n            return null;\n        }\n\n        function isCharacterDataNode(node) {\n            var t = node.nodeType;\n            return t == 3 || t == 4 || t == 8 ; // Text, CDataSection or Comment\n        }\n\n        function isTextOrCommentNode(node) {\n            if (!node) {\n                return false;\n            }\n            var t = node.nodeType;\n            return t == 3 || t == 8 ; // Text or Comment\n        }\n\n        function insertAfter(node, precedingNode) {\n            var nextNode = precedingNode.nextSibling, parent = precedingNode.parentNode;\n            if (nextNode) {\n                parent.insertBefore(node, nextNode);\n            } else {\n                parent.appendChild(node);\n            }\n            return node;\n        }\n\n        // Note that we cannot use splitText() because it is bugridden in IE 9.\n        function splitDataNode(node, index, positionsToPreserve) {\n            var newNode = node.cloneNode(false);\n            newNode.deleteData(0, index);\n            node.deleteData(index, node.length - index);\n            insertAfter(newNode, node);\n\n            // Preserve positions\n            if (positionsToPreserve) {\n                for (var i = 0, position; position = positionsToPreserve[i++]; ) {\n                    // Handle case where position was inside the portion of node after the split point\n                    if (position.node == node && position.offset > index) {\n                        position.node = newNode;\n                        position.offset -= index;\n                    }\n                    // Handle the case where the position is a node offset within node's parent\n                    else if (position.node == node.parentNode && position.offset > getNodeIndex(node)) {\n                        ++position.offset;\n                    }\n                }\n            }\n            return newNode;\n        }\n\n        function getDocument(node) {\n            if (node.nodeType == 9) {\n                return node;\n            } else if (typeof node.ownerDocument != UNDEF) {\n                return node.ownerDocument;\n            } else if (typeof node.document != UNDEF) {\n                return node.document;\n            } else if (node.parentNode) {\n                return getDocument(node.parentNode);\n            } else {\n                throw module.createError(\"getDocument: no document found for node\");\n            }\n        }\n\n        function getWindow(node) {\n            var doc = getDocument(node);\n            if (typeof doc.defaultView != UNDEF) {\n                return doc.defaultView;\n            } else if (typeof doc.parentWindow != UNDEF) {\n                return doc.parentWindow;\n            } else {\n                throw module.createError(\"Cannot get a window object for node\");\n            }\n        }\n\n        function getIframeDocument(iframeEl) {\n            if (typeof iframeEl.contentDocument != UNDEF) {\n                return iframeEl.contentDocument;\n            } else if (typeof iframeEl.contentWindow != UNDEF) {\n                return iframeEl.contentWindow.document;\n            } else {\n                throw module.createError(\"getIframeDocument: No Document object found for iframe element\");\n            }\n        }\n\n        function getIframeWindow(iframeEl) {\n            if (typeof iframeEl.contentWindow != UNDEF) {\n                return iframeEl.contentWindow;\n            } else if (typeof iframeEl.contentDocument != UNDEF) {\n                return iframeEl.contentDocument.defaultView;\n            } else {\n                throw module.createError(\"getIframeWindow: No Window object found for iframe element\");\n            }\n        }\n\n        // This looks bad. Is it worth it?\n        function isWindow(obj) {\n            return obj && util.isHostMethod(obj, \"setTimeout\") && util.isHostObject(obj, \"document\");\n        }\n\n        function getContentDocument(obj, module, methodName) {\n            var doc;\n\n            if (!obj) {\n                doc = document;\n            }\n\n            // Test if a DOM node has been passed and obtain a document object for it if so\n            else if (util.isHostProperty(obj, \"nodeType\")) {\n                doc = (obj.nodeType == 1 && obj.tagName.toLowerCase() == \"iframe\") ?\n                    getIframeDocument(obj) : getDocument(obj);\n            }\n\n            // Test if the doc parameter appears to be a Window object\n            else if (isWindow(obj)) {\n                doc = obj.document;\n            }\n\n            if (!doc) {\n                throw module.createError(methodName + \"(): Parameter must be a Window object or DOM node\");\n            }\n\n            return doc;\n        }\n\n        function getRootContainer(node) {\n            var parent;\n            while ( (parent = node.parentNode) ) {\n                node = parent;\n            }\n            return node;\n        }\n\n        function comparePoints(nodeA, offsetA, nodeB, offsetB) {\n            // See http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Comparing\n            var nodeC, root, childA, childB, n;\n            if (nodeA == nodeB) {\n                // Case 1: nodes are the same\n                return offsetA === offsetB ? 0 : (offsetA < offsetB) ? -1 : 1;\n            } else if ( (nodeC = getClosestAncestorIn(nodeB, nodeA, true)) ) {\n                // Case 2: node C (container B or an ancestor) is a child node of A\n                return offsetA <= getNodeIndex(nodeC) ? -1 : 1;\n            } else if ( (nodeC = getClosestAncestorIn(nodeA, nodeB, true)) ) {\n                // Case 3: node C (container A or an ancestor) is a child node of B\n                return getNodeIndex(nodeC) < offsetB  ? -1 : 1;\n            } else {\n                root = getCommonAncestor(nodeA, nodeB);\n                if (!root) {\n                    throw new Error(\"comparePoints error: nodes have no common ancestor\");\n                }\n\n                // Case 4: containers are siblings or descendants of siblings\n                childA = (nodeA === root) ? root : getClosestAncestorIn(nodeA, root, true);\n                childB = (nodeB === root) ? root : getClosestAncestorIn(nodeB, root, true);\n\n                if (childA === childB) {\n                    // This shouldn't be possible\n                    throw module.createError(\"comparePoints got to case 4 and childA and childB are the same!\");\n                } else {\n                    n = root.firstChild;\n                    while (n) {\n                        if (n === childA) {\n                            return -1;\n                        } else if (n === childB) {\n                            return 1;\n                        }\n                        n = n.nextSibling;\n                    }\n                }\n            }\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Test for IE's crash (IE 6/7) or exception (IE >= 8) when a reference to garbage-collected text node is queried\n        var crashyTextNodes = false;\n\n        function isBrokenNode(node) {\n            var n;\n            try {\n                n = node.parentNode;\n                return false;\n            } catch (e) {\n                return true;\n            }\n        }\n\n        (function() {\n            var el = document.createElement(\"b\");\n            el.innerHTML = \"1\";\n            var textNode = el.firstChild;\n            el.innerHTML = \"<br />\";\n            crashyTextNodes = isBrokenNode(textNode);\n\n            api.features.crashyTextNodes = crashyTextNodes;\n        })();\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        function inspectNode(node) {\n            if (!node) {\n                return \"[No node]\";\n            }\n            if (crashyTextNodes && isBrokenNode(node)) {\n                return \"[Broken node]\";\n            }\n            if (isCharacterDataNode(node)) {\n                return '\"' + node.data + '\"';\n            }\n            if (node.nodeType == 1) {\n                var idAttr = node.id ? ' id=\"' + node.id + '\"' : \"\";\n                return \"<\" + node.nodeName + idAttr + \">[index:\" + getNodeIndex(node) + \",length:\" + node.childNodes.length + \"][\" + (node.innerHTML || \"[innerHTML not supported]\").slice(0, 25) + \"]\";\n            }\n            return node.nodeName;\n        }\n\n        function fragmentFromNodeChildren(node) {\n            var fragment = getDocument(node).createDocumentFragment(), child;\n            while ( (child = node.firstChild) ) {\n                fragment.appendChild(child);\n            }\n            return fragment;\n        }\n\n        var getComputedStyleProperty;\n        if (typeof window.getComputedStyle != UNDEF) {\n            getComputedStyleProperty = function(el, propName) {\n                return getWindow(el).getComputedStyle(el, null)[propName];\n            };\n        } else if (typeof document.documentElement.currentStyle != UNDEF) {\n            getComputedStyleProperty = function(el, propName) {\n                return el.currentStyle ? el.currentStyle[propName] : \"\";\n            };\n        } else {\n            module.fail(\"No means of obtaining computed style properties found\");\n        }\n\n        function createTestElement(doc, html, contentEditable) {\n            var body = getBody(doc);\n            var el = doc.createElement(\"div\");\n            el.contentEditable = \"\" + !!contentEditable;\n            if (html) {\n                el.innerHTML = html;\n            }\n\n            // Insert the test element at the start of the body to prevent scrolling to the bottom in iOS (issue #292)\n            var bodyFirstChild = body.firstChild;\n            if (bodyFirstChild) {\n                body.insertBefore(el, bodyFirstChild);\n            } else {\n                body.appendChild(el);\n            }\n\n            return el;\n        }\n\n        function removeNode(node) {\n            return node.parentNode.removeChild(node);\n        }\n\n        function NodeIterator(root) {\n            this.root = root;\n            this._next = root;\n        }\n\n        NodeIterator.prototype = {\n            _current: null,\n\n            hasNext: function() {\n                return !!this._next;\n            },\n\n            next: function() {\n                var n = this._current = this._next;\n                var child, next;\n                if (this._current) {\n                    child = n.firstChild;\n                    if (child) {\n                        this._next = child;\n                    } else {\n                        next = null;\n                        while ((n !== this.root) && !(next = n.nextSibling)) {\n                            n = n.parentNode;\n                        }\n                        this._next = next;\n                    }\n                }\n                return this._current;\n            },\n\n            detach: function() {\n                this._current = this._next = this.root = null;\n            }\n        };\n\n        function createIterator(root) {\n            return new NodeIterator(root);\n        }\n\n        function DomPosition(node, offset) {\n            this.node = node;\n            this.offset = offset;\n        }\n\n        DomPosition.prototype = {\n            equals: function(pos) {\n                return !!pos && this.node === pos.node && this.offset == pos.offset;\n            },\n\n            inspect: function() {\n                return \"[DomPosition(\" + inspectNode(this.node) + \":\" + this.offset + \")]\";\n            },\n\n            toString: function() {\n                return this.inspect();\n            }\n        };\n\n        function DOMException(codeName) {\n            this.code = this[codeName];\n            this.codeName = codeName;\n            this.message = \"DOMException: \" + this.codeName;\n        }\n\n        DOMException.prototype = {\n            INDEX_SIZE_ERR: 1,\n            HIERARCHY_REQUEST_ERR: 3,\n            WRONG_DOCUMENT_ERR: 4,\n            NO_MODIFICATION_ALLOWED_ERR: 7,\n            NOT_FOUND_ERR: 8,\n            NOT_SUPPORTED_ERR: 9,\n            INVALID_STATE_ERR: 11,\n            INVALID_NODE_TYPE_ERR: 24\n        };\n\n        DOMException.prototype.toString = function() {\n            return this.message;\n        };\n\n        api.dom = {\n            arrayContains: arrayContains,\n            isHtmlNamespace: isHtmlNamespace,\n            parentElement: parentElement,\n            getNodeIndex: getNodeIndex,\n            getNodeLength: getNodeLength,\n            getCommonAncestor: getCommonAncestor,\n            isAncestorOf: isAncestorOf,\n            isOrIsAncestorOf: isOrIsAncestorOf,\n            getClosestAncestorIn: getClosestAncestorIn,\n            isCharacterDataNode: isCharacterDataNode,\n            isTextOrCommentNode: isTextOrCommentNode,\n            insertAfter: insertAfter,\n            splitDataNode: splitDataNode,\n            getDocument: getDocument,\n            getWindow: getWindow,\n            getIframeWindow: getIframeWindow,\n            getIframeDocument: getIframeDocument,\n            getBody: getBody,\n            isWindow: isWindow,\n            getContentDocument: getContentDocument,\n            getRootContainer: getRootContainer,\n            comparePoints: comparePoints,\n            isBrokenNode: isBrokenNode,\n            inspectNode: inspectNode,\n            getComputedStyleProperty: getComputedStyleProperty,\n            createTestElement: createTestElement,\n            removeNode: removeNode,\n            fragmentFromNodeChildren: fragmentFromNodeChildren,\n            createIterator: createIterator,\n            DomPosition: DomPosition\n        };\n\n        api.DOMException = DOMException;\n    });\n\n    /*----------------------------------------------------------------------------------------------------------------*/\n\n    // Pure JavaScript implementation of DOM Range\n    api.createCoreModule(\"DomRange\", [\"DomUtil\"], function(api, module) {\n        var dom = api.dom;\n        var util = api.util;\n        var DomPosition = dom.DomPosition;\n        var DOMException = api.DOMException;\n\n        var isCharacterDataNode = dom.isCharacterDataNode;\n        var getNodeIndex = dom.getNodeIndex;\n        var isOrIsAncestorOf = dom.isOrIsAncestorOf;\n        var getDocument = dom.getDocument;\n        var comparePoints = dom.comparePoints;\n        var splitDataNode = dom.splitDataNode;\n        var getClosestAncestorIn = dom.getClosestAncestorIn;\n        var getNodeLength = dom.getNodeLength;\n        var arrayContains = dom.arrayContains;\n        var getRootContainer = dom.getRootContainer;\n        var crashyTextNodes = api.features.crashyTextNodes;\n\n        var removeNode = dom.removeNode;\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Utility functions\n\n        function isNonTextPartiallySelected(node, range) {\n            return (node.nodeType != 3) &&\n                   (isOrIsAncestorOf(node, range.startContainer) || isOrIsAncestorOf(node, range.endContainer));\n        }\n\n        function getRangeDocument(range) {\n            return range.document || getDocument(range.startContainer);\n        }\n\n        function getRangeRoot(range) {\n            return getRootContainer(range.startContainer);\n        }\n\n        function getBoundaryBeforeNode(node) {\n            return new DomPosition(node.parentNode, getNodeIndex(node));\n        }\n\n        function getBoundaryAfterNode(node) {\n            return new DomPosition(node.parentNode, getNodeIndex(node) + 1);\n        }\n\n        function insertNodeAtPosition(node, n, o) {\n            var firstNodeInserted = node.nodeType == 11 ? node.firstChild : node;\n            if (isCharacterDataNode(n)) {\n                if (o == n.length) {\n                    dom.insertAfter(node, n);\n                } else {\n                    n.parentNode.insertBefore(node, o == 0 ? n : splitDataNode(n, o));\n                }\n            } else if (o >= n.childNodes.length) {\n                n.appendChild(node);\n            } else {\n                n.insertBefore(node, n.childNodes[o]);\n            }\n            return firstNodeInserted;\n        }\n\n        function rangesIntersect(rangeA, rangeB, touchingIsIntersecting) {\n            assertRangeValid(rangeA);\n            assertRangeValid(rangeB);\n\n            if (getRangeDocument(rangeB) != getRangeDocument(rangeA)) {\n                throw new DOMException(\"WRONG_DOCUMENT_ERR\");\n            }\n\n            var startComparison = comparePoints(rangeA.startContainer, rangeA.startOffset, rangeB.endContainer, rangeB.endOffset),\n                endComparison = comparePoints(rangeA.endContainer, rangeA.endOffset, rangeB.startContainer, rangeB.startOffset);\n\n            return touchingIsIntersecting ? startComparison <= 0 && endComparison >= 0 : startComparison < 0 && endComparison > 0;\n        }\n\n        function cloneSubtree(iterator) {\n            var partiallySelected;\n            for (var node, frag = getRangeDocument(iterator.range).createDocumentFragment(), subIterator; node = iterator.next(); ) {\n                partiallySelected = iterator.isPartiallySelectedSubtree();\n                node = node.cloneNode(!partiallySelected);\n                if (partiallySelected) {\n                    subIterator = iterator.getSubtreeIterator();\n                    node.appendChild(cloneSubtree(subIterator));\n                    subIterator.detach();\n                }\n\n                if (node.nodeType == 10) { // DocumentType\n                    throw new DOMException(\"HIERARCHY_REQUEST_ERR\");\n                }\n                frag.appendChild(node);\n            }\n            return frag;\n        }\n\n        function iterateSubtree(rangeIterator, func, iteratorState) {\n            var it, n;\n            iteratorState = iteratorState || { stop: false };\n            for (var node, subRangeIterator; node = rangeIterator.next(); ) {\n                if (rangeIterator.isPartiallySelectedSubtree()) {\n                    if (func(node) === false) {\n                        iteratorState.stop = true;\n                        return;\n                    } else {\n                        // The node is partially selected by the Range, so we can use a new RangeIterator on the portion of\n                        // the node selected by the Range.\n                        subRangeIterator = rangeIterator.getSubtreeIterator();\n                        iterateSubtree(subRangeIterator, func, iteratorState);\n                        subRangeIterator.detach();\n                        if (iteratorState.stop) {\n                            return;\n                        }\n                    }\n                } else {\n                    // The whole node is selected, so we can use efficient DOM iteration to iterate over the node and its\n                    // descendants\n                    it = dom.createIterator(node);\n                    while ( (n = it.next()) ) {\n                        if (func(n) === false) {\n                            iteratorState.stop = true;\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n\n        function deleteSubtree(iterator) {\n            var subIterator;\n            while (iterator.next()) {\n                if (iterator.isPartiallySelectedSubtree()) {\n                    subIterator = iterator.getSubtreeIterator();\n                    deleteSubtree(subIterator);\n                    subIterator.detach();\n                } else {\n                    iterator.remove();\n                }\n            }\n        }\n\n        function extractSubtree(iterator) {\n            for (var node, frag = getRangeDocument(iterator.range).createDocumentFragment(), subIterator; node = iterator.next(); ) {\n\n                if (iterator.isPartiallySelectedSubtree()) {\n                    node = node.cloneNode(false);\n                    subIterator = iterator.getSubtreeIterator();\n                    node.appendChild(extractSubtree(subIterator));\n                    subIterator.detach();\n                } else {\n                    iterator.remove();\n                }\n                if (node.nodeType == 10) { // DocumentType\n                    throw new DOMException(\"HIERARCHY_REQUEST_ERR\");\n                }\n                frag.appendChild(node);\n            }\n            return frag;\n        }\n\n        function getNodesInRange(range, nodeTypes, filter) {\n            var filterNodeTypes = !!(nodeTypes && nodeTypes.length), regex;\n            var filterExists = !!filter;\n            if (filterNodeTypes) {\n                regex = new RegExp(\"^(\" + nodeTypes.join(\"|\") + \")$\");\n            }\n\n            var nodes = [];\n            iterateSubtree(new RangeIterator(range, false), function(node) {\n                if (filterNodeTypes && !regex.test(node.nodeType)) {\n                    return;\n                }\n                if (filterExists && !filter(node)) {\n                    return;\n                }\n                // Don't include a boundary container if it is a character data node and the range does not contain any\n                // of its character data. See issue 190.\n                var sc = range.startContainer;\n                if (node == sc && isCharacterDataNode(sc) && range.startOffset == sc.length) {\n                    return;\n                }\n\n                var ec = range.endContainer;\n                if (node == ec && isCharacterDataNode(ec) && range.endOffset == 0) {\n                    return;\n                }\n\n                nodes.push(node);\n            });\n            return nodes;\n        }\n\n        function inspect(range) {\n            var name = (typeof range.getName == \"undefined\") ? \"Range\" : range.getName();\n            return \"[\" + name + \"(\" + dom.inspectNode(range.startContainer) + \":\" + range.startOffset + \", \" +\n                    dom.inspectNode(range.endContainer) + \":\" + range.endOffset + \")]\";\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // RangeIterator code partially borrows from IERange by Tim Ryan (http://github.com/timcameronryan/IERange)\n\n        function RangeIterator(range, clonePartiallySelectedTextNodes) {\n            this.range = range;\n            this.clonePartiallySelectedTextNodes = clonePartiallySelectedTextNodes;\n\n\n            if (!range.collapsed) {\n                this.sc = range.startContainer;\n                this.so = range.startOffset;\n                this.ec = range.endContainer;\n                this.eo = range.endOffset;\n                var root = range.commonAncestorContainer;\n\n                if (this.sc === this.ec && isCharacterDataNode(this.sc)) {\n                    this.isSingleCharacterDataNode = true;\n                    this._first = this._last = this._next = this.sc;\n                } else {\n                    this._first = this._next = (this.sc === root && !isCharacterDataNode(this.sc)) ?\n                        this.sc.childNodes[this.so] : getClosestAncestorIn(this.sc, root, true);\n                    this._last = (this.ec === root && !isCharacterDataNode(this.ec)) ?\n                        this.ec.childNodes[this.eo - 1] : getClosestAncestorIn(this.ec, root, true);\n                }\n            }\n        }\n\n        RangeIterator.prototype = {\n            _current: null,\n            _next: null,\n            _first: null,\n            _last: null,\n            isSingleCharacterDataNode: false,\n\n            reset: function() {\n                this._current = null;\n                this._next = this._first;\n            },\n\n            hasNext: function() {\n                return !!this._next;\n            },\n\n            next: function() {\n                // Move to next node\n                var current = this._current = this._next;\n                if (current) {\n                    this._next = (current !== this._last) ? current.nextSibling : null;\n\n                    // Check for partially selected text nodes\n                    if (isCharacterDataNode(current) && this.clonePartiallySelectedTextNodes) {\n                        if (current === this.ec) {\n                            (current = current.cloneNode(true)).deleteData(this.eo, current.length - this.eo);\n                        }\n                        if (this._current === this.sc) {\n                            (current = current.cloneNode(true)).deleteData(0, this.so);\n                        }\n                    }\n                }\n\n                return current;\n            },\n\n            remove: function() {\n                var current = this._current, start, end;\n\n                if (isCharacterDataNode(current) && (current === this.sc || current === this.ec)) {\n                    start = (current === this.sc) ? this.so : 0;\n                    end = (current === this.ec) ? this.eo : current.length;\n                    if (start != end) {\n                        current.deleteData(start, end - start);\n                    }\n                } else {\n                    if (current.parentNode) {\n                        removeNode(current);\n                    } else {\n                    }\n                }\n            },\n\n            // Checks if the current node is partially selected\n            isPartiallySelectedSubtree: function() {\n                var current = this._current;\n                return isNonTextPartiallySelected(current, this.range);\n            },\n\n            getSubtreeIterator: function() {\n                var subRange;\n                if (this.isSingleCharacterDataNode) {\n                    subRange = this.range.cloneRange();\n                    subRange.collapse(false);\n                } else {\n                    subRange = new Range(getRangeDocument(this.range));\n                    var current = this._current;\n                    var startContainer = current, startOffset = 0, endContainer = current, endOffset = getNodeLength(current);\n\n                    if (isOrIsAncestorOf(current, this.sc)) {\n                        startContainer = this.sc;\n                        startOffset = this.so;\n                    }\n                    if (isOrIsAncestorOf(current, this.ec)) {\n                        endContainer = this.ec;\n                        endOffset = this.eo;\n                    }\n\n                    updateBoundaries(subRange, startContainer, startOffset, endContainer, endOffset);\n                }\n                return new RangeIterator(subRange, this.clonePartiallySelectedTextNodes);\n            },\n\n            detach: function() {\n                this.range = this._current = this._next = this._first = this._last = this.sc = this.so = this.ec = this.eo = null;\n            }\n        };\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        var beforeAfterNodeTypes = [1, 3, 4, 5, 7, 8, 10];\n        var rootContainerNodeTypes = [2, 9, 11];\n        var readonlyNodeTypes = [5, 6, 10, 12];\n        var insertableNodeTypes = [1, 3, 4, 5, 7, 8, 10, 11];\n        var surroundNodeTypes = [1, 3, 4, 5, 7, 8];\n\n        function createAncestorFinder(nodeTypes) {\n            return function(node, selfIsAncestor) {\n                var t, n = selfIsAncestor ? node : node.parentNode;\n                while (n) {\n                    t = n.nodeType;\n                    if (arrayContains(nodeTypes, t)) {\n                        return n;\n                    }\n                    n = n.parentNode;\n                }\n                return null;\n            };\n        }\n\n        var getDocumentOrFragmentContainer = createAncestorFinder( [9, 11] );\n        var getReadonlyAncestor = createAncestorFinder(readonlyNodeTypes);\n        var getDocTypeNotationEntityAncestor = createAncestorFinder( [6, 10, 12] );\n        var getElementAncestor = createAncestorFinder( [1] );\n\n        function assertNoDocTypeNotationEntityAncestor(node, allowSelf) {\n            if (getDocTypeNotationEntityAncestor(node, allowSelf)) {\n                throw new DOMException(\"INVALID_NODE_TYPE_ERR\");\n            }\n        }\n\n        function assertValidNodeType(node, invalidTypes) {\n            if (!arrayContains(invalidTypes, node.nodeType)) {\n                throw new DOMException(\"INVALID_NODE_TYPE_ERR\");\n            }\n        }\n\n        function assertValidOffset(node, offset) {\n            if (offset < 0 || offset > (isCharacterDataNode(node) ? node.length : node.childNodes.length)) {\n                throw new DOMException(\"INDEX_SIZE_ERR\");\n            }\n        }\n\n        function assertSameDocumentOrFragment(node1, node2) {\n            if (getDocumentOrFragmentContainer(node1, true) !== getDocumentOrFragmentContainer(node2, true)) {\n                throw new DOMException(\"WRONG_DOCUMENT_ERR\");\n            }\n        }\n\n        function assertNodeNotReadOnly(node) {\n            if (getReadonlyAncestor(node, true)) {\n                throw new DOMException(\"NO_MODIFICATION_ALLOWED_ERR\");\n            }\n        }\n\n        function assertNode(node, codeName) {\n            if (!node) {\n                throw new DOMException(codeName);\n            }\n        }\n\n        function isValidOffset(node, offset) {\n            return offset <= (isCharacterDataNode(node) ? node.length : node.childNodes.length);\n        }\n\n        function isRangeValid(range) {\n            return (!!range.startContainer && !!range.endContainer &&\n                    !(crashyTextNodes && (dom.isBrokenNode(range.startContainer) || dom.isBrokenNode(range.endContainer))) &&\n                    getRootContainer(range.startContainer) == getRootContainer(range.endContainer) &&\n                    isValidOffset(range.startContainer, range.startOffset) &&\n                    isValidOffset(range.endContainer, range.endOffset));\n        }\n\n        function assertRangeValid(range) {\n            if (!isRangeValid(range)) {\n                throw new Error(\"Range error: Range is not valid. This usually happens after DOM mutation. Range: (\" + range.inspect() + \")\");\n            }\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Test the browser's innerHTML support to decide how to implement createContextualFragment\n        var styleEl = document.createElement(\"style\");\n        var htmlParsingConforms = false;\n        try {\n            styleEl.innerHTML = \"<b>x</b>\";\n            htmlParsingConforms = (styleEl.firstChild.nodeType == 3); // Pre-Blink Opera incorrectly creates an element node\n        } catch (e) {\n            // IE 6 and 7 throw\n        }\n\n        api.features.htmlParsingConforms = htmlParsingConforms;\n\n        var createContextualFragment = htmlParsingConforms ?\n\n            // Implementation as per HTML parsing spec, trusting in the browser's implementation of innerHTML. See\n            // discussion and base code for this implementation at issue 67.\n            // Spec: http://html5.org/specs/dom-parsing.html#extensions-to-the-range-interface\n            // Thanks to Aleks Williams.\n            function(fragmentStr) {\n                // \"Let node the context object's start's node.\"\n                var node = this.startContainer;\n                var doc = getDocument(node);\n\n                // \"If the context object's start's node is null, raise an INVALID_STATE_ERR\n                // exception and abort these steps.\"\n                if (!node) {\n                    throw new DOMException(\"INVALID_STATE_ERR\");\n                }\n\n                // \"Let element be as follows, depending on node's interface:\"\n                // Document, Document Fragment: null\n                var el = null;\n\n                // \"Element: node\"\n                if (node.nodeType == 1) {\n                    el = node;\n\n                // \"Text, Comment: node's parentElement\"\n                } else if (isCharacterDataNode(node)) {\n                    el = dom.parentElement(node);\n                }\n\n                // \"If either element is null or element's ownerDocument is an HTML document\n                // and element's local name is \"html\" and element's namespace is the HTML\n                // namespace\"\n                if (el === null || (\n                    el.nodeName == \"HTML\" &&\n                    dom.isHtmlNamespace(getDocument(el).documentElement) &&\n                    dom.isHtmlNamespace(el)\n                )) {\n\n                // \"let element be a new Element with \"body\" as its local name and the HTML\n                // namespace as its namespace.\"\"\n                    el = doc.createElement(\"body\");\n                } else {\n                    el = el.cloneNode(false);\n                }\n\n                // \"If the node's document is an HTML document: Invoke the HTML fragment parsing algorithm.\"\n                // \"If the node's document is an XML document: Invoke the XML fragment parsing algorithm.\"\n                // \"In either case, the algorithm must be invoked with fragment as the input\n                // and element as the context element.\"\n                el.innerHTML = fragmentStr;\n\n                // \"If this raises an exception, then abort these steps. Otherwise, let new\n                // children be the nodes returned.\"\n\n                // \"Let fragment be a new DocumentFragment.\"\n                // \"Append all new children to fragment.\"\n                // \"Return fragment.\"\n                return dom.fragmentFromNodeChildren(el);\n            } :\n\n            // In this case, innerHTML cannot be trusted, so fall back to a simpler, non-conformant implementation that\n            // previous versions of Rangy used (with the exception of using a body element rather than a div)\n            function(fragmentStr) {\n                var doc = getRangeDocument(this);\n                var el = doc.createElement(\"body\");\n                el.innerHTML = fragmentStr;\n\n                return dom.fragmentFromNodeChildren(el);\n            };\n\n        function splitRangeBoundaries(range, positionsToPreserve) {\n            assertRangeValid(range);\n\n            var sc = range.startContainer, so = range.startOffset, ec = range.endContainer, eo = range.endOffset;\n            var startEndSame = (sc === ec);\n\n            if (isCharacterDataNode(ec) && eo > 0 && eo < ec.length) {\n                splitDataNode(ec, eo, positionsToPreserve);\n            }\n\n            if (isCharacterDataNode(sc) && so > 0 && so < sc.length) {\n                sc = splitDataNode(sc, so, positionsToPreserve);\n                if (startEndSame) {\n                    eo -= so;\n                    ec = sc;\n                } else if (ec == sc.parentNode && eo >= getNodeIndex(sc)) {\n                    eo++;\n                }\n                so = 0;\n            }\n            range.setStartAndEnd(sc, so, ec, eo);\n        }\n\n        function rangeToHtml(range) {\n            assertRangeValid(range);\n            var container = range.commonAncestorContainer.parentNode.cloneNode(false);\n            container.appendChild( range.cloneContents() );\n            return container.innerHTML;\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        var rangeProperties = [\"startContainer\", \"startOffset\", \"endContainer\", \"endOffset\", \"collapsed\",\n            \"commonAncestorContainer\"];\n\n        var s2s = 0, s2e = 1, e2e = 2, e2s = 3;\n        var n_b = 0, n_a = 1, n_b_a = 2, n_i = 3;\n\n        util.extend(api.rangePrototype, {\n            compareBoundaryPoints: function(how, range) {\n                assertRangeValid(this);\n                assertSameDocumentOrFragment(this.startContainer, range.startContainer);\n\n                var nodeA, offsetA, nodeB, offsetB;\n                var prefixA = (how == e2s || how == s2s) ? \"start\" : \"end\";\n                var prefixB = (how == s2e || how == s2s) ? \"start\" : \"end\";\n                nodeA = this[prefixA + \"Container\"];\n                offsetA = this[prefixA + \"Offset\"];\n                nodeB = range[prefixB + \"Container\"];\n                offsetB = range[prefixB + \"Offset\"];\n                return comparePoints(nodeA, offsetA, nodeB, offsetB);\n            },\n\n            insertNode: function(node) {\n                assertRangeValid(this);\n                assertValidNodeType(node, insertableNodeTypes);\n                assertNodeNotReadOnly(this.startContainer);\n\n                if (isOrIsAncestorOf(node, this.startContainer)) {\n                    throw new DOMException(\"HIERARCHY_REQUEST_ERR\");\n                }\n\n                // No check for whether the container of the start of the Range is of a type that does not allow\n                // children of the type of node: the browser's DOM implementation should do this for us when we attempt\n                // to add the node\n\n                var firstNodeInserted = insertNodeAtPosition(node, this.startContainer, this.startOffset);\n                this.setStartBefore(firstNodeInserted);\n            },\n\n            cloneContents: function() {\n                assertRangeValid(this);\n\n                var clone, frag;\n                if (this.collapsed) {\n                    return getRangeDocument(this).createDocumentFragment();\n                } else {\n                    if (this.startContainer === this.endContainer && isCharacterDataNode(this.startContainer)) {\n                        clone = this.startContainer.cloneNode(true);\n                        clone.data = clone.data.slice(this.startOffset, this.endOffset);\n                        frag = getRangeDocument(this).createDocumentFragment();\n                        frag.appendChild(clone);\n                        return frag;\n                    } else {\n                        var iterator = new RangeIterator(this, true);\n                        clone = cloneSubtree(iterator);\n                        iterator.detach();\n                    }\n                    return clone;\n                }\n            },\n\n            canSurroundContents: function() {\n                assertRangeValid(this);\n                assertNodeNotReadOnly(this.startContainer);\n                assertNodeNotReadOnly(this.endContainer);\n\n                // Check if the contents can be surrounded. Specifically, this means whether the range partially selects\n                // no non-text nodes.\n                var iterator = new RangeIterator(this, true);\n                var boundariesInvalid = (iterator._first && (isNonTextPartiallySelected(iterator._first, this)) ||\n                        (iterator._last && isNonTextPartiallySelected(iterator._last, this)));\n                iterator.detach();\n                return !boundariesInvalid;\n            },\n\n            surroundContents: function(node) {\n                assertValidNodeType(node, surroundNodeTypes);\n\n                if (!this.canSurroundContents()) {\n                    throw new DOMException(\"INVALID_STATE_ERR\");\n                }\n\n                // Extract the contents\n                var content = this.extractContents();\n\n                // Clear the children of the node\n                if (node.hasChildNodes()) {\n                    while (node.lastChild) {\n                        node.removeChild(node.lastChild);\n                    }\n                }\n\n                // Insert the new node and add the extracted contents\n                insertNodeAtPosition(node, this.startContainer, this.startOffset);\n                node.appendChild(content);\n\n                this.selectNode(node);\n            },\n\n            cloneRange: function() {\n                assertRangeValid(this);\n                var range = new Range(getRangeDocument(this));\n                var i = rangeProperties.length, prop;\n                while (i--) {\n                    prop = rangeProperties[i];\n                    range[prop] = this[prop];\n                }\n                return range;\n            },\n\n            toString: function() {\n                assertRangeValid(this);\n                var sc = this.startContainer;\n                if (sc === this.endContainer && isCharacterDataNode(sc)) {\n                    return (sc.nodeType == 3 || sc.nodeType == 4) ? sc.data.slice(this.startOffset, this.endOffset) : \"\";\n                } else {\n                    var textParts = [], iterator = new RangeIterator(this, true);\n                    iterateSubtree(iterator, function(node) {\n                        // Accept only text or CDATA nodes, not comments\n                        if (node.nodeType == 3 || node.nodeType == 4) {\n                            textParts.push(node.data);\n                        }\n                    });\n                    iterator.detach();\n                    return textParts.join(\"\");\n                }\n            },\n\n            // The methods below are all non-standard. The following batch were introduced by Mozilla but have since\n            // been removed from Mozilla.\n\n            compareNode: function(node) {\n                assertRangeValid(this);\n\n                var parent = node.parentNode;\n                var nodeIndex = getNodeIndex(node);\n\n                if (!parent) {\n                    throw new DOMException(\"NOT_FOUND_ERR\");\n                }\n\n                var startComparison = this.comparePoint(parent, nodeIndex),\n                    endComparison = this.comparePoint(parent, nodeIndex + 1);\n\n                if (startComparison < 0) { // Node starts before\n                    return (endComparison > 0) ? n_b_a : n_b;\n                } else {\n                    return (endComparison > 0) ? n_a : n_i;\n                }\n            },\n\n            comparePoint: function(node, offset) {\n                assertRangeValid(this);\n                assertNode(node, \"HIERARCHY_REQUEST_ERR\");\n                assertSameDocumentOrFragment(node, this.startContainer);\n\n                if (comparePoints(node, offset, this.startContainer, this.startOffset) < 0) {\n                    return -1;\n                } else if (comparePoints(node, offset, this.endContainer, this.endOffset) > 0) {\n                    return 1;\n                }\n                return 0;\n            },\n\n            createContextualFragment: createContextualFragment,\n\n            toHtml: function() {\n                return rangeToHtml(this);\n            },\n\n            // touchingIsIntersecting determines whether this method considers a node that borders a range intersects\n            // with it (as in WebKit) or not (as in Gecko pre-1.9, and the default)\n            intersectsNode: function(node, touchingIsIntersecting) {\n                assertRangeValid(this);\n                if (getRootContainer(node) != getRangeRoot(this)) {\n                    return false;\n                }\n\n                var parent = node.parentNode, offset = getNodeIndex(node);\n                if (!parent) {\n                    return true;\n                }\n\n                var startComparison = comparePoints(parent, offset, this.endContainer, this.endOffset),\n                    endComparison = comparePoints(parent, offset + 1, this.startContainer, this.startOffset);\n\n                return touchingIsIntersecting ? startComparison <= 0 && endComparison >= 0 : startComparison < 0 && endComparison > 0;\n            },\n\n            isPointInRange: function(node, offset) {\n                assertRangeValid(this);\n                assertNode(node, \"HIERARCHY_REQUEST_ERR\");\n                assertSameDocumentOrFragment(node, this.startContainer);\n\n                return (comparePoints(node, offset, this.startContainer, this.startOffset) >= 0) &&\n                       (comparePoints(node, offset, this.endContainer, this.endOffset) <= 0);\n            },\n\n            // The methods below are non-standard and invented by me.\n\n            // Sharing a boundary start-to-end or end-to-start does not count as intersection.\n            intersectsRange: function(range) {\n                return rangesIntersect(this, range, false);\n            },\n\n            // Sharing a boundary start-to-end or end-to-start does count as intersection.\n            intersectsOrTouchesRange: function(range) {\n                return rangesIntersect(this, range, true);\n            },\n\n            intersection: function(range) {\n                if (this.intersectsRange(range)) {\n                    var startComparison = comparePoints(this.startContainer, this.startOffset, range.startContainer, range.startOffset),\n                        endComparison = comparePoints(this.endContainer, this.endOffset, range.endContainer, range.endOffset);\n\n                    var intersectionRange = this.cloneRange();\n                    if (startComparison == -1) {\n                        intersectionRange.setStart(range.startContainer, range.startOffset);\n                    }\n                    if (endComparison == 1) {\n                        intersectionRange.setEnd(range.endContainer, range.endOffset);\n                    }\n                    return intersectionRange;\n                }\n                return null;\n            },\n\n            union: function(range) {\n                if (this.intersectsOrTouchesRange(range)) {\n                    var unionRange = this.cloneRange();\n                    if (comparePoints(range.startContainer, range.startOffset, this.startContainer, this.startOffset) == -1) {\n                        unionRange.setStart(range.startContainer, range.startOffset);\n                    }\n                    if (comparePoints(range.endContainer, range.endOffset, this.endContainer, this.endOffset) == 1) {\n                        unionRange.setEnd(range.endContainer, range.endOffset);\n                    }\n                    return unionRange;\n                } else {\n                    throw new DOMException(\"Ranges do not intersect\");\n                }\n            },\n\n            containsNode: function(node, allowPartial) {\n                if (allowPartial) {\n                    return this.intersectsNode(node, false);\n                } else {\n                    return this.compareNode(node) == n_i;\n                }\n            },\n\n            containsNodeContents: function(node) {\n                return this.comparePoint(node, 0) >= 0 && this.comparePoint(node, getNodeLength(node)) <= 0;\n            },\n\n            containsRange: function(range) {\n                var intersection = this.intersection(range);\n                return intersection !== null && range.equals(intersection);\n            },\n\n            containsNodeText: function(node) {\n                var nodeRange = this.cloneRange();\n                nodeRange.selectNode(node);\n                var textNodes = nodeRange.getNodes([3]);\n                if (textNodes.length > 0) {\n                    nodeRange.setStart(textNodes[0], 0);\n                    var lastTextNode = textNodes.pop();\n                    nodeRange.setEnd(lastTextNode, lastTextNode.length);\n                    return this.containsRange(nodeRange);\n                } else {\n                    return this.containsNodeContents(node);\n                }\n            },\n\n            getNodes: function(nodeTypes, filter) {\n                assertRangeValid(this);\n                return getNodesInRange(this, nodeTypes, filter);\n            },\n\n            getDocument: function() {\n                return getRangeDocument(this);\n            },\n\n            collapseBefore: function(node) {\n                this.setEndBefore(node);\n                this.collapse(false);\n            },\n\n            collapseAfter: function(node) {\n                this.setStartAfter(node);\n                this.collapse(true);\n            },\n\n            getBookmark: function(containerNode) {\n                var doc = getRangeDocument(this);\n                var preSelectionRange = api.createRange(doc);\n                containerNode = containerNode || dom.getBody(doc);\n                preSelectionRange.selectNodeContents(containerNode);\n                var range = this.intersection(preSelectionRange);\n                var start = 0, end = 0;\n                if (range) {\n                    preSelectionRange.setEnd(range.startContainer, range.startOffset);\n                    start = preSelectionRange.toString().length;\n                    end = start + range.toString().length;\n                }\n\n                return {\n                    start: start,\n                    end: end,\n                    containerNode: containerNode\n                };\n            },\n\n            moveToBookmark: function(bookmark) {\n                var containerNode = bookmark.containerNode;\n                var charIndex = 0;\n                this.setStart(containerNode, 0);\n                this.collapse(true);\n                var nodeStack = [containerNode], node, foundStart = false, stop = false;\n                var nextCharIndex, i, childNodes;\n\n                while (!stop && (node = nodeStack.pop())) {\n                    if (node.nodeType == 3) {\n                        nextCharIndex = charIndex + node.length;\n                        if (!foundStart && bookmark.start >= charIndex && bookmark.start <= nextCharIndex) {\n                            this.setStart(node, bookmark.start - charIndex);\n                            foundStart = true;\n                        }\n                        if (foundStart && bookmark.end >= charIndex && bookmark.end <= nextCharIndex) {\n                            this.setEnd(node, bookmark.end - charIndex);\n                            stop = true;\n                        }\n                        charIndex = nextCharIndex;\n                    } else {\n                        childNodes = node.childNodes;\n                        i = childNodes.length;\n                        while (i--) {\n                            nodeStack.push(childNodes[i]);\n                        }\n                    }\n                }\n            },\n\n            getName: function() {\n                return \"DomRange\";\n            },\n\n            equals: function(range) {\n                return Range.rangesEqual(this, range);\n            },\n\n            isValid: function() {\n                return isRangeValid(this);\n            },\n\n            inspect: function() {\n                return inspect(this);\n            },\n\n            detach: function() {\n                // In DOM4, detach() is now a no-op.\n            }\n        });\n\n        function copyComparisonConstantsToObject(obj) {\n            obj.START_TO_START = s2s;\n            obj.START_TO_END = s2e;\n            obj.END_TO_END = e2e;\n            obj.END_TO_START = e2s;\n\n            obj.NODE_BEFORE = n_b;\n            obj.NODE_AFTER = n_a;\n            obj.NODE_BEFORE_AND_AFTER = n_b_a;\n            obj.NODE_INSIDE = n_i;\n        }\n\n        function copyComparisonConstants(constructor) {\n            copyComparisonConstantsToObject(constructor);\n            copyComparisonConstantsToObject(constructor.prototype);\n        }\n\n        function createRangeContentRemover(remover, boundaryUpdater) {\n            return function() {\n                assertRangeValid(this);\n\n                var sc = this.startContainer, so = this.startOffset, root = this.commonAncestorContainer;\n\n                var iterator = new RangeIterator(this, true);\n\n                // Work out where to position the range after content removal\n                var node, boundary;\n                if (sc !== root) {\n                    node = getClosestAncestorIn(sc, root, true);\n                    boundary = getBoundaryAfterNode(node);\n                    sc = boundary.node;\n                    so = boundary.offset;\n                }\n\n                // Check none of the range is read-only\n                iterateSubtree(iterator, assertNodeNotReadOnly);\n\n                iterator.reset();\n\n                // Remove the content\n                var returnValue = remover(iterator);\n                iterator.detach();\n\n                // Move to the new position\n                boundaryUpdater(this, sc, so, sc, so);\n\n                return returnValue;\n            };\n        }\n\n        function createPrototypeRange(constructor, boundaryUpdater) {\n            function createBeforeAfterNodeSetter(isBefore, isStart) {\n                return function(node) {\n                    assertValidNodeType(node, beforeAfterNodeTypes);\n                    assertValidNodeType(getRootContainer(node), rootContainerNodeTypes);\n\n                    var boundary = (isBefore ? getBoundaryBeforeNode : getBoundaryAfterNode)(node);\n                    (isStart ? setRangeStart : setRangeEnd)(this, boundary.node, boundary.offset);\n                };\n            }\n\n            function setRangeStart(range, node, offset) {\n                var ec = range.endContainer, eo = range.endOffset;\n                if (node !== range.startContainer || offset !== range.startOffset) {\n                    // Check the root containers of the range and the new boundary, and also check whether the new boundary\n                    // is after the current end. In either case, collapse the range to the new position\n                    if (getRootContainer(node) != getRootContainer(ec) || comparePoints(node, offset, ec, eo) == 1) {\n                        ec = node;\n                        eo = offset;\n                    }\n                    boundaryUpdater(range, node, offset, ec, eo);\n                }\n            }\n\n            function setRangeEnd(range, node, offset) {\n                var sc = range.startContainer, so = range.startOffset;\n                if (node !== range.endContainer || offset !== range.endOffset) {\n                    // Check the root containers of the range and the new boundary, and also check whether the new boundary\n                    // is after the current end. In either case, collapse the range to the new position\n                    if (getRootContainer(node) != getRootContainer(sc) || comparePoints(node, offset, sc, so) == -1) {\n                        sc = node;\n                        so = offset;\n                    }\n                    boundaryUpdater(range, sc, so, node, offset);\n                }\n            }\n\n            // Set up inheritance\n            var F = function() {};\n            F.prototype = api.rangePrototype;\n            constructor.prototype = new F();\n\n            util.extend(constructor.prototype, {\n                setStart: function(node, offset) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n                    assertValidOffset(node, offset);\n\n                    setRangeStart(this, node, offset);\n                },\n\n                setEnd: function(node, offset) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n                    assertValidOffset(node, offset);\n\n                    setRangeEnd(this, node, offset);\n                },\n\n                /**\n                 * Convenience method to set a range's start and end boundaries. Overloaded as follows:\n                 * - Two parameters (node, offset) creates a collapsed range at that position\n                 * - Three parameters (node, startOffset, endOffset) creates a range contained with node starting at\n                 *   startOffset and ending at endOffset\n                 * - Four parameters (startNode, startOffset, endNode, endOffset) creates a range starting at startOffset in\n                 *   startNode and ending at endOffset in endNode\n                 */\n                setStartAndEnd: function() {\n                    var args = arguments;\n                    var sc = args[0], so = args[1], ec = sc, eo = so;\n\n                    switch (args.length) {\n                        case 3:\n                            eo = args[2];\n                            break;\n                        case 4:\n                            ec = args[2];\n                            eo = args[3];\n                            break;\n                    }\n\n                    assertNoDocTypeNotationEntityAncestor(sc, true);\n                    assertValidOffset(sc, so);\n\n                    assertNoDocTypeNotationEntityAncestor(ec, true);\n                    assertValidOffset(ec, eo);\n\n                    boundaryUpdater(this, sc, so, ec, eo);\n                },\n\n                setBoundary: function(node, offset, isStart) {\n                    this[\"set\" + (isStart ? \"Start\" : \"End\")](node, offset);\n                },\n\n                setStartBefore: createBeforeAfterNodeSetter(true, true),\n                setStartAfter: createBeforeAfterNodeSetter(false, true),\n                setEndBefore: createBeforeAfterNodeSetter(true, false),\n                setEndAfter: createBeforeAfterNodeSetter(false, false),\n\n                collapse: function(isStart) {\n                    assertRangeValid(this);\n                    if (isStart) {\n                        boundaryUpdater(this, this.startContainer, this.startOffset, this.startContainer, this.startOffset);\n                    } else {\n                        boundaryUpdater(this, this.endContainer, this.endOffset, this.endContainer, this.endOffset);\n                    }\n                },\n\n                selectNodeContents: function(node) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n\n                    boundaryUpdater(this, node, 0, node, getNodeLength(node));\n                },\n\n                selectNode: function(node) {\n                    assertNoDocTypeNotationEntityAncestor(node, false);\n                    assertValidNodeType(node, beforeAfterNodeTypes);\n\n                    var start = getBoundaryBeforeNode(node), end = getBoundaryAfterNode(node);\n                    boundaryUpdater(this, start.node, start.offset, end.node, end.offset);\n                },\n\n                extractContents: createRangeContentRemover(extractSubtree, boundaryUpdater),\n\n                deleteContents: createRangeContentRemover(deleteSubtree, boundaryUpdater),\n\n                canSurroundContents: function() {\n                    assertRangeValid(this);\n                    assertNodeNotReadOnly(this.startContainer);\n                    assertNodeNotReadOnly(this.endContainer);\n\n                    // Check if the contents can be surrounded. Specifically, this means whether the range partially selects\n                    // no non-text nodes.\n                    var iterator = new RangeIterator(this, true);\n                    var boundariesInvalid = (iterator._first && isNonTextPartiallySelected(iterator._first, this) ||\n                            (iterator._last && isNonTextPartiallySelected(iterator._last, this)));\n                    iterator.detach();\n                    return !boundariesInvalid;\n                },\n\n                splitBoundaries: function() {\n                    splitRangeBoundaries(this);\n                },\n\n                splitBoundariesPreservingPositions: function(positionsToPreserve) {\n                    splitRangeBoundaries(this, positionsToPreserve);\n                },\n\n                normalizeBoundaries: function() {\n                    assertRangeValid(this);\n\n                    var sc = this.startContainer, so = this.startOffset, ec = this.endContainer, eo = this.endOffset;\n\n                    var mergeForward = function(node) {\n                        var sibling = node.nextSibling;\n                        if (sibling && sibling.nodeType == node.nodeType) {\n                            ec = node;\n                            eo = node.length;\n                            node.appendData(sibling.data);\n                            removeNode(sibling);\n                        }\n                    };\n\n                    var mergeBackward = function(node) {\n                        var sibling = node.previousSibling;\n                        if (sibling && sibling.nodeType == node.nodeType) {\n                            sc = node;\n                            var nodeLength = node.length;\n                            so = sibling.length;\n                            node.insertData(0, sibling.data);\n                            removeNode(sibling);\n                            if (sc == ec) {\n                                eo += so;\n                                ec = sc;\n                            } else if (ec == node.parentNode) {\n                                var nodeIndex = getNodeIndex(node);\n                                if (eo == nodeIndex) {\n                                    ec = node;\n                                    eo = nodeLength;\n                                } else if (eo > nodeIndex) {\n                                    eo--;\n                                }\n                            }\n                        }\n                    };\n\n                    var normalizeStart = true;\n                    var sibling;\n\n                    if (isCharacterDataNode(ec)) {\n                        if (eo == ec.length) {\n                            mergeForward(ec);\n                        } else if (eo == 0) {\n                            sibling = ec.previousSibling;\n                            if (sibling && sibling.nodeType == ec.nodeType) {\n                                eo = sibling.length;\n                                if (sc == ec) {\n                                    normalizeStart = false;\n                                }\n                                sibling.appendData(ec.data);\n                                removeNode(ec);\n                                ec = sibling;\n                            }\n                        }\n                    } else {\n                        if (eo > 0) {\n                            var endNode = ec.childNodes[eo - 1];\n                            if (endNode && isCharacterDataNode(endNode)) {\n                                mergeForward(endNode);\n                            }\n                        }\n                        normalizeStart = !this.collapsed;\n                    }\n\n                    if (normalizeStart) {\n                        if (isCharacterDataNode(sc)) {\n                            if (so == 0) {\n                                mergeBackward(sc);\n                            } else if (so == sc.length) {\n                                sibling = sc.nextSibling;\n                                if (sibling && sibling.nodeType == sc.nodeType) {\n                                    if (ec == sibling) {\n                                        ec = sc;\n                                        eo += sc.length;\n                                    }\n                                    sc.appendData(sibling.data);\n                                    removeNode(sibling);\n                                }\n                            }\n                        } else {\n                            if (so < sc.childNodes.length) {\n                                var startNode = sc.childNodes[so];\n                                if (startNode && isCharacterDataNode(startNode)) {\n                                    mergeBackward(startNode);\n                                }\n                            }\n                        }\n                    } else {\n                        sc = ec;\n                        so = eo;\n                    }\n\n                    boundaryUpdater(this, sc, so, ec, eo);\n                },\n\n                collapseToPoint: function(node, offset) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n                    assertValidOffset(node, offset);\n                    this.setStartAndEnd(node, offset);\n                },\n\n                parentElement: function() {\n                    assertRangeValid(this);\n                    var parentNode = this.commonAncestorContainer;\n                    return parentNode ? getElementAncestor(this.commonAncestorContainer, true) : null;\n                }\n            });\n\n            copyComparisonConstants(constructor);\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Updates commonAncestorContainer and collapsed after boundary change\n        function updateCollapsedAndCommonAncestor(range) {\n            range.collapsed = (range.startContainer === range.endContainer && range.startOffset === range.endOffset);\n            range.commonAncestorContainer = range.collapsed ?\n                range.startContainer : dom.getCommonAncestor(range.startContainer, range.endContainer);\n        }\n\n        function updateBoundaries(range, startContainer, startOffset, endContainer, endOffset) {\n            range.startContainer = startContainer;\n            range.startOffset = startOffset;\n            range.endContainer = endContainer;\n            range.endOffset = endOffset;\n            range.document = dom.getDocument(startContainer);\n            updateCollapsedAndCommonAncestor(range);\n        }\n\n        function Range(doc) {\n            updateBoundaries(this, doc, 0, doc, 0);\n        }\n\n        createPrototypeRange(Range, updateBoundaries);\n\n        util.extend(Range, {\n            rangeProperties: rangeProperties,\n            RangeIterator: RangeIterator,\n            copyComparisonConstants: copyComparisonConstants,\n            createPrototypeRange: createPrototypeRange,\n            inspect: inspect,\n            toHtml: rangeToHtml,\n            getRangeDocument: getRangeDocument,\n            rangesEqual: function(r1, r2) {\n                return r1.startContainer === r2.startContainer &&\n                    r1.startOffset === r2.startOffset &&\n                    r1.endContainer === r2.endContainer &&\n                    r1.endOffset === r2.endOffset;\n            }\n        });\n\n        api.DomRange = Range;\n    });\n\n    /*----------------------------------------------------------------------------------------------------------------*/\n\n    // Wrappers for the browser's native DOM Range and/or TextRange implementation\n    api.createCoreModule(\"WrappedRange\", [\"DomRange\"], function(api, module) {\n        var WrappedRange, WrappedTextRange;\n        var dom = api.dom;\n        var util = api.util;\n        var DomPosition = dom.DomPosition;\n        var DomRange = api.DomRange;\n        var getBody = dom.getBody;\n        var getContentDocument = dom.getContentDocument;\n        var isCharacterDataNode = dom.isCharacterDataNode;\n\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        if (api.features.implementsDomRange) {\n            // This is a wrapper around the browser's native DOM Range. It has two aims:\n            // - Provide workarounds for specific browser bugs\n            // - provide convenient extensions, which are inherited from Rangy's DomRange\n\n            (function() {\n                var rangeProto;\n                var rangeProperties = DomRange.rangeProperties;\n\n                function updateRangeProperties(range) {\n                    var i = rangeProperties.length, prop;\n                    while (i--) {\n                        prop = rangeProperties[i];\n                        range[prop] = range.nativeRange[prop];\n                    }\n                    // Fix for broken collapsed property in IE 9.\n                    range.collapsed = (range.startContainer === range.endContainer && range.startOffset === range.endOffset);\n                }\n\n                function updateNativeRange(range, startContainer, startOffset, endContainer, endOffset) {\n                    var startMoved = (range.startContainer !== startContainer || range.startOffset != startOffset);\n                    var endMoved = (range.endContainer !== endContainer || range.endOffset != endOffset);\n                    var nativeRangeDifferent = !range.equals(range.nativeRange);\n\n                    // Always set both boundaries for the benefit of IE9 (see issue 35)\n                    if (startMoved || endMoved || nativeRangeDifferent) {\n                        range.setEnd(endContainer, endOffset);\n                        range.setStart(startContainer, startOffset);\n                    }\n                }\n\n                var createBeforeAfterNodeSetter;\n\n                WrappedRange = function(range) {\n                    if (!range) {\n                        throw module.createError(\"WrappedRange: Range must be specified\");\n                    }\n                    this.nativeRange = range;\n                    updateRangeProperties(this);\n                };\n\n                DomRange.createPrototypeRange(WrappedRange, updateNativeRange);\n\n                rangeProto = WrappedRange.prototype;\n\n                rangeProto.selectNode = function(node) {\n                    this.nativeRange.selectNode(node);\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.cloneContents = function() {\n                    return this.nativeRange.cloneContents();\n                };\n\n                // Due to a long-standing Firefox bug that I have not been able to find a reliable way to detect,\n                // insertNode() is never delegated to the native range.\n\n                rangeProto.surroundContents = function(node) {\n                    this.nativeRange.surroundContents(node);\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.collapse = function(isStart) {\n                    this.nativeRange.collapse(isStart);\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.cloneRange = function() {\n                    return new WrappedRange(this.nativeRange.cloneRange());\n                };\n\n                rangeProto.refresh = function() {\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.toString = function() {\n                    return this.nativeRange.toString();\n                };\n\n                // Create test range and node for feature detection\n\n                var testTextNode = document.createTextNode(\"test\");\n                getBody(document).appendChild(testTextNode);\n                var range = document.createRange();\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for Firefox 2 bug that prevents moving the start of a Range to a point after its current end and\n                // correct for it\n\n                range.setStart(testTextNode, 0);\n                range.setEnd(testTextNode, 0);\n\n                try {\n                    range.setStart(testTextNode, 1);\n\n                    rangeProto.setStart = function(node, offset) {\n                        this.nativeRange.setStart(node, offset);\n                        updateRangeProperties(this);\n                    };\n\n                    rangeProto.setEnd = function(node, offset) {\n                        this.nativeRange.setEnd(node, offset);\n                        updateRangeProperties(this);\n                    };\n\n                    createBeforeAfterNodeSetter = function(name) {\n                        return function(node) {\n                            this.nativeRange[name](node);\n                            updateRangeProperties(this);\n                        };\n                    };\n\n                } catch(ex) {\n\n                    rangeProto.setStart = function(node, offset) {\n                        try {\n                            this.nativeRange.setStart(node, offset);\n                        } catch (ex) {\n                            this.nativeRange.setEnd(node, offset);\n                            this.nativeRange.setStart(node, offset);\n                        }\n                        updateRangeProperties(this);\n                    };\n\n                    rangeProto.setEnd = function(node, offset) {\n                        try {\n                            this.nativeRange.setEnd(node, offset);\n                        } catch (ex) {\n                            this.nativeRange.setStart(node, offset);\n                            this.nativeRange.setEnd(node, offset);\n                        }\n                        updateRangeProperties(this);\n                    };\n\n                    createBeforeAfterNodeSetter = function(name, oppositeName) {\n                        return function(node) {\n                            try {\n                                this.nativeRange[name](node);\n                            } catch (ex) {\n                                this.nativeRange[oppositeName](node);\n                                this.nativeRange[name](node);\n                            }\n                            updateRangeProperties(this);\n                        };\n                    };\n                }\n\n                rangeProto.setStartBefore = createBeforeAfterNodeSetter(\"setStartBefore\", \"setEndBefore\");\n                rangeProto.setStartAfter = createBeforeAfterNodeSetter(\"setStartAfter\", \"setEndAfter\");\n                rangeProto.setEndBefore = createBeforeAfterNodeSetter(\"setEndBefore\", \"setStartBefore\");\n                rangeProto.setEndAfter = createBeforeAfterNodeSetter(\"setEndAfter\", \"setStartAfter\");\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Always use DOM4-compliant selectNodeContents implementation: it's simpler and less code than testing\n                // whether the native implementation can be trusted\n                rangeProto.selectNodeContents = function(node) {\n                    this.setStartAndEnd(node, 0, dom.getNodeLength(node));\n                };\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for and correct WebKit bug that has the behaviour of compareBoundaryPoints round the wrong way for\n                // constants START_TO_END and END_TO_START: https://bugs.webkit.org/show_bug.cgi?id=20738\n\n                range.selectNodeContents(testTextNode);\n                range.setEnd(testTextNode, 3);\n\n                var range2 = document.createRange();\n                range2.selectNodeContents(testTextNode);\n                range2.setEnd(testTextNode, 4);\n                range2.setStart(testTextNode, 2);\n\n                if (range.compareBoundaryPoints(range.START_TO_END, range2) == -1 &&\n                        range.compareBoundaryPoints(range.END_TO_START, range2) == 1) {\n                    // This is the wrong way round, so correct for it\n\n                    rangeProto.compareBoundaryPoints = function(type, range) {\n                        range = range.nativeRange || range;\n                        if (type == range.START_TO_END) {\n                            type = range.END_TO_START;\n                        } else if (type == range.END_TO_START) {\n                            type = range.START_TO_END;\n                        }\n                        return this.nativeRange.compareBoundaryPoints(type, range);\n                    };\n                } else {\n                    rangeProto.compareBoundaryPoints = function(type, range) {\n                        return this.nativeRange.compareBoundaryPoints(type, range.nativeRange || range);\n                    };\n                }\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for IE deleteContents() and extractContents() bug and correct it. See issue 107.\n\n                var el = document.createElement(\"div\");\n                el.innerHTML = \"123\";\n                var textNode = el.firstChild;\n                var body = getBody(document);\n                body.appendChild(el);\n\n                range.setStart(textNode, 1);\n                range.setEnd(textNode, 2);\n                range.deleteContents();\n\n                if (textNode.data == \"13\") {\n                    // Behaviour is correct per DOM4 Range so wrap the browser's implementation of deleteContents() and\n                    // extractContents()\n                    rangeProto.deleteContents = function() {\n                        this.nativeRange.deleteContents();\n                        updateRangeProperties(this);\n                    };\n\n                    rangeProto.extractContents = function() {\n                        var frag = this.nativeRange.extractContents();\n                        updateRangeProperties(this);\n                        return frag;\n                    };\n                } else {\n                }\n\n                body.removeChild(el);\n                body = null;\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for existence of createContextualFragment and delegate to it if it exists\n                if (util.isHostMethod(range, \"createContextualFragment\")) {\n                    rangeProto.createContextualFragment = function(fragmentStr) {\n                        return this.nativeRange.createContextualFragment(fragmentStr);\n                    };\n                }\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Clean up\n                getBody(document).removeChild(testTextNode);\n\n                rangeProto.getName = function() {\n                    return \"WrappedRange\";\n                };\n\n                api.WrappedRange = WrappedRange;\n\n                api.createNativeRange = function(doc) {\n                    doc = getContentDocument(doc, module, \"createNativeRange\");\n                    return doc.createRange();\n                };\n            })();\n        }\n\n        if (api.features.implementsTextRange) {\n            /*\n            This is a workaround for a bug where IE returns the wrong container element from the TextRange's parentElement()\n            method. For example, in the following (where pipes denote the selection boundaries):\n\n            <ul id=\"ul\"><li id=\"a\">| a </li><li id=\"b\"> b |</li></ul>\n\n            var range = document.selection.createRange();\n            alert(range.parentElement().id); // Should alert \"ul\" but alerts \"b\"\n\n            This method returns the common ancestor node of the following:\n            - the parentElement() of the textRange\n            - the parentElement() of the textRange after calling collapse(true)\n            - the parentElement() of the textRange after calling collapse(false)\n            */\n            var getTextRangeContainerElement = function(textRange) {\n                var parentEl = textRange.parentElement();\n                var range = textRange.duplicate();\n                range.collapse(true);\n                var startEl = range.parentElement();\n                range = textRange.duplicate();\n                range.collapse(false);\n                var endEl = range.parentElement();\n                var startEndContainer = (startEl == endEl) ? startEl : dom.getCommonAncestor(startEl, endEl);\n\n                return startEndContainer == parentEl ? startEndContainer : dom.getCommonAncestor(parentEl, startEndContainer);\n            };\n\n            var textRangeIsCollapsed = function(textRange) {\n                return textRange.compareEndPoints(\"StartToEnd\", textRange) == 0;\n            };\n\n            // Gets the boundary of a TextRange expressed as a node and an offset within that node. This function started\n            // out as an improved version of code found in Tim Cameron Ryan's IERange (http://code.google.com/p/ierange/)\n            // but has grown, fixing problems with line breaks in preformatted text, adding workaround for IE TextRange\n            // bugs, handling for inputs and images, plus optimizations.\n            var getTextRangeBoundaryPosition = function(textRange, wholeRangeContainerElement, isStart, isCollapsed, startInfo) {\n                var workingRange = textRange.duplicate();\n                workingRange.collapse(isStart);\n                var containerElement = workingRange.parentElement();\n\n                // Sometimes collapsing a TextRange that's at the start of a text node can move it into the previous node, so\n                // check for that\n                if (!dom.isOrIsAncestorOf(wholeRangeContainerElement, containerElement)) {\n                    containerElement = wholeRangeContainerElement;\n                }\n\n\n                // Deal with nodes that cannot \"contain rich HTML markup\". In practice, this means form inputs, images and\n                // similar. See http://msdn.microsoft.com/en-us/library/aa703950%28VS.85%29.aspx\n                if (!containerElement.canHaveHTML) {\n                    var pos = new DomPosition(containerElement.parentNode, dom.getNodeIndex(containerElement));\n                    return {\n                        boundaryPosition: pos,\n                        nodeInfo: {\n                            nodeIndex: pos.offset,\n                            containerElement: pos.node\n                        }\n                    };\n                }\n\n                var workingNode = dom.getDocument(containerElement).createElement(\"span\");\n\n                // Workaround for HTML5 Shiv's insane violation of document.createElement(). See Rangy issue 104 and HTML5\n                // Shiv issue 64: https://github.com/aFarkas/html5shiv/issues/64\n                if (workingNode.parentNode) {\n                    dom.removeNode(workingNode);\n                }\n\n                var comparison, workingComparisonType = isStart ? \"StartToStart\" : \"StartToEnd\";\n                var previousNode, nextNode, boundaryPosition, boundaryNode;\n                var start = (startInfo && startInfo.containerElement == containerElement) ? startInfo.nodeIndex : 0;\n                var childNodeCount = containerElement.childNodes.length;\n                var end = childNodeCount;\n\n                // Check end first. Code within the loop assumes that the endth child node of the container is definitely\n                // after the range boundary.\n                var nodeIndex = end;\n\n                while (true) {\n                    if (nodeIndex == childNodeCount) {\n                        containerElement.appendChild(workingNode);\n                    } else {\n                        containerElement.insertBefore(workingNode, containerElement.childNodes[nodeIndex]);\n                    }\n                    workingRange.moveToElementText(workingNode);\n                    comparison = workingRange.compareEndPoints(workingComparisonType, textRange);\n                    if (comparison == 0 || start == end) {\n                        break;\n                    } else if (comparison == -1) {\n                        if (end == start + 1) {\n                            // We know the endth child node is after the range boundary, so we must be done.\n                            break;\n                        } else {\n                            start = nodeIndex;\n                        }\n                    } else {\n                        end = (end == start + 1) ? start : nodeIndex;\n                    }\n                    nodeIndex = Math.floor((start + end) / 2);\n                    containerElement.removeChild(workingNode);\n                }\n\n\n                // We've now reached or gone past the boundary of the text range we're interested in\n                // so have identified the node we want\n                boundaryNode = workingNode.nextSibling;\n\n                if (comparison == -1 && boundaryNode && isCharacterDataNode(boundaryNode)) {\n                    // This is a character data node (text, comment, cdata). The working range is collapsed at the start of\n                    // the node containing the text range's boundary, so we move the end of the working range to the\n                    // boundary point and measure the length of its text to get the boundary's offset within the node.\n                    workingRange.setEndPoint(isStart ? \"EndToStart\" : \"EndToEnd\", textRange);\n\n                    var offset;\n\n                    if (/[\\r\\n]/.test(boundaryNode.data)) {\n                        /*\n                        For the particular case of a boundary within a text node containing rendered line breaks (within a\n                        <pre> element, for example), we need a slightly complicated approach to get the boundary's offset in\n                        IE. The facts:\n\n                        - Each line break is represented as \\r in the text node's data/nodeValue properties\n                        - Each line break is represented as \\r\\n in the TextRange's 'text' property\n                        - The 'text' property of the TextRange does not contain trailing line breaks\n\n                        To get round the problem presented by the final fact above, we can use the fact that TextRange's\n                        moveStart() and moveEnd() methods return the actual number of characters moved, which is not\n                        necessarily the same as the number of characters it was instructed to move. The simplest approach is\n                        to use this to store the characters moved when moving both the start and end of the range to the\n                        start of the document body and subtracting the start offset from the end offset (the\n                        \"move-negative-gazillion\" method). However, this is extremely slow when the document is large and\n                        the range is near the end of it. Clearly doing the mirror image (i.e. moving the range boundaries to\n                        the end of the document) has the same problem.\n\n                        Another approach that works is to use moveStart() to move the start boundary of the range up to the\n                        end boundary one character at a time and incrementing a counter with the value returned by the\n                        moveStart() call. However, the check for whether the start boundary has reached the end boundary is\n                        expensive, so this method is slow (although unlike \"move-negative-gazillion\" is largely unaffected\n                        by the location of the range within the document).\n\n                        The approach used below is a hybrid of the two methods above. It uses the fact that a string\n                        containing the TextRange's 'text' property with each \\r\\n converted to a single \\r character cannot\n                        be longer than the text of the TextRange, so the start of the range is moved that length initially\n                        and then a character at a time to make up for any trailing line breaks not contained in the 'text'\n                        property. This has good performance in most situations compared to the previous two methods.\n                        */\n                        var tempRange = workingRange.duplicate();\n                        var rangeLength = tempRange.text.replace(/\\r\\n/g, \"\\r\").length;\n\n                        offset = tempRange.moveStart(\"character\", rangeLength);\n                        while ( (comparison = tempRange.compareEndPoints(\"StartToEnd\", tempRange)) == -1) {\n                            offset++;\n                            tempRange.moveStart(\"character\", 1);\n                        }\n                    } else {\n                        offset = workingRange.text.length;\n                    }\n                    boundaryPosition = new DomPosition(boundaryNode, offset);\n                } else {\n\n                    // If the boundary immediately follows a character data node and this is the end boundary, we should favour\n                    // a position within that, and likewise for a start boundary preceding a character data node\n                    previousNode = (isCollapsed || !isStart) && workingNode.previousSibling;\n                    nextNode = (isCollapsed || isStart) && workingNode.nextSibling;\n                    if (nextNode && isCharacterDataNode(nextNode)) {\n                        boundaryPosition = new DomPosition(nextNode, 0);\n                    } else if (previousNode && isCharacterDataNode(previousNode)) {\n                        boundaryPosition = new DomPosition(previousNode, previousNode.data.length);\n                    } else {\n                        boundaryPosition = new DomPosition(containerElement, dom.getNodeIndex(workingNode));\n                    }\n                }\n\n                // Clean up\n                dom.removeNode(workingNode);\n\n                return {\n                    boundaryPosition: boundaryPosition,\n                    nodeInfo: {\n                        nodeIndex: nodeIndex,\n                        containerElement: containerElement\n                    }\n                };\n            };\n\n            // Returns a TextRange representing the boundary of a TextRange expressed as a node and an offset within that\n            // node. This function started out as an optimized version of code found in Tim Cameron Ryan's IERange\n            // (http://code.google.com/p/ierange/)\n            var createBoundaryTextRange = function(boundaryPosition, isStart) {\n                var boundaryNode, boundaryParent, boundaryOffset = boundaryPosition.offset;\n                var doc = dom.getDocument(boundaryPosition.node);\n                var workingNode, childNodes, workingRange = getBody(doc).createTextRange();\n                var nodeIsDataNode = isCharacterDataNode(boundaryPosition.node);\n\n                if (nodeIsDataNode) {\n                    boundaryNode = boundaryPosition.node;\n                    boundaryParent = boundaryNode.parentNode;\n                } else {\n                    childNodes = boundaryPosition.node.childNodes;\n                    boundaryNode = (boundaryOffset < childNodes.length) ? childNodes[boundaryOffset] : null;\n                    boundaryParent = boundaryPosition.node;\n                }\n\n                // Position the range immediately before the node containing the boundary\n                workingNode = doc.createElement(\"span\");\n\n                // Making the working element non-empty element persuades IE to consider the TextRange boundary to be within\n                // the element rather than immediately before or after it\n                workingNode.innerHTML = \"&#feff;\";\n\n                // insertBefore is supposed to work like appendChild if the second parameter is null. However, a bug report\n                // for IERange suggests that it can crash the browser: http://code.google.com/p/ierange/issues/detail?id=12\n                if (boundaryNode) {\n                    boundaryParent.insertBefore(workingNode, boundaryNode);\n                } else {\n                    boundaryParent.appendChild(workingNode);\n                }\n\n                workingRange.moveToElementText(workingNode);\n                workingRange.collapse(!isStart);\n\n                // Clean up\n                boundaryParent.removeChild(workingNode);\n\n                // Move the working range to the text offset, if required\n                if (nodeIsDataNode) {\n                    workingRange[isStart ? \"moveStart\" : \"moveEnd\"](\"character\", boundaryOffset);\n                }\n\n                return workingRange;\n            };\n\n            /*------------------------------------------------------------------------------------------------------------*/\n\n            // This is a wrapper around a TextRange, providing full DOM Range functionality using rangy's DomRange as a\n            // prototype\n\n            WrappedTextRange = function(textRange) {\n                this.textRange = textRange;\n                this.refresh();\n            };\n\n            WrappedTextRange.prototype = new DomRange(document);\n\n            WrappedTextRange.prototype.refresh = function() {\n                var start, end, startBoundary;\n\n                // TextRange's parentElement() method cannot be trusted. getTextRangeContainerElement() works around that.\n                var rangeContainerElement = getTextRangeContainerElement(this.textRange);\n\n                if (textRangeIsCollapsed(this.textRange)) {\n                    end = start = getTextRangeBoundaryPosition(this.textRange, rangeContainerElement, true,\n                        true).boundaryPosition;\n                } else {\n                    startBoundary = getTextRangeBoundaryPosition(this.textRange, rangeContainerElement, true, false);\n                    start = startBoundary.boundaryPosition;\n\n                    // An optimization used here is that if the start and end boundaries have the same parent element, the\n                    // search scope for the end boundary can be limited to exclude the portion of the element that precedes\n                    // the start boundary\n                    end = getTextRangeBoundaryPosition(this.textRange, rangeContainerElement, false, false,\n                        startBoundary.nodeInfo).boundaryPosition;\n                }\n\n                this.setStart(start.node, start.offset);\n                this.setEnd(end.node, end.offset);\n            };\n\n            WrappedTextRange.prototype.getName = function() {\n                return \"WrappedTextRange\";\n            };\n\n            DomRange.copyComparisonConstants(WrappedTextRange);\n\n            var rangeToTextRange = function(range) {\n                if (range.collapsed) {\n                    return createBoundaryTextRange(new DomPosition(range.startContainer, range.startOffset), true);\n                } else {\n                    var startRange = createBoundaryTextRange(new DomPosition(range.startContainer, range.startOffset), true);\n                    var endRange = createBoundaryTextRange(new DomPosition(range.endContainer, range.endOffset), false);\n                    var textRange = getBody( DomRange.getRangeDocument(range) ).createTextRange();\n                    textRange.setEndPoint(\"StartToStart\", startRange);\n                    textRange.setEndPoint(\"EndToEnd\", endRange);\n                    return textRange;\n                }\n            };\n\n            WrappedTextRange.rangeToTextRange = rangeToTextRange;\n\n            WrappedTextRange.prototype.toTextRange = function() {\n                return rangeToTextRange(this);\n            };\n\n            api.WrappedTextRange = WrappedTextRange;\n\n            // IE 9 and above have both implementations and Rangy makes both available. The next few lines sets which\n            // implementation to use by default.\n            if (!api.features.implementsDomRange || api.config.preferTextRange) {\n                // Add WrappedTextRange as the Range property of the global object to allow expression like Range.END_TO_END to work\n                var globalObj = (function(f) { return f(\"return this;\")(); })(Function);\n                if (typeof globalObj.Range == \"undefined\") {\n                    globalObj.Range = WrappedTextRange;\n                }\n\n                api.createNativeRange = function(doc) {\n                    doc = getContentDocument(doc, module, \"createNativeRange\");\n                    return getBody(doc).createTextRange();\n                };\n\n                api.WrappedRange = WrappedTextRange;\n            }\n        }\n\n        api.createRange = function(doc) {\n            doc = getContentDocument(doc, module, \"createRange\");\n            return new api.WrappedRange(api.createNativeRange(doc));\n        };\n\n        api.createRangyRange = function(doc) {\n            doc = getContentDocument(doc, module, \"createRangyRange\");\n            return new DomRange(doc);\n        };\n\n        util.createAliasForDeprecatedMethod(api, \"createIframeRange\", \"createRange\");\n        util.createAliasForDeprecatedMethod(api, \"createIframeRangyRange\", \"createRangyRange\");\n\n        api.addShimListener(function(win) {\n            var doc = win.document;\n            if (typeof doc.createRange == \"undefined\") {\n                doc.createRange = function() {\n                    return api.createRange(doc);\n                };\n            }\n            doc = win = null;\n        });\n    });\n\n    /*----------------------------------------------------------------------------------------------------------------*/\n\n    // This module creates a selection object wrapper that conforms as closely as possible to the Selection specification\n    // in the W3C Selection API spec (https://www.w3.org/TR/selection-api)\n    api.createCoreModule(\"WrappedSelection\", [\"DomRange\", \"WrappedRange\"], function(api, module) {\n        api.config.checkSelectionRanges = true;\n\n        var BOOLEAN = \"boolean\";\n        var NUMBER = \"number\";\n        var dom = api.dom;\n        var util = api.util;\n        var isHostMethod = util.isHostMethod;\n        var DomRange = api.DomRange;\n        var WrappedRange = api.WrappedRange;\n        var DOMException = api.DOMException;\n        var DomPosition = dom.DomPosition;\n        var getNativeSelection;\n        var selectionIsCollapsed;\n        var features = api.features;\n        var CONTROL = \"Control\";\n        var getDocument = dom.getDocument;\n        var getBody = dom.getBody;\n        var rangesEqual = DomRange.rangesEqual;\n\n\n        // Utility function to support direction parameters in the API that may be a string (\"backward\", \"backwards\",\n        // \"forward\" or \"forwards\") or a Boolean (true for backwards).\n        function isDirectionBackward(dir) {\n            return (typeof dir == \"string\") ? /^backward(s)?$/i.test(dir) : !!dir;\n        }\n\n        function getWindow(win, methodName) {\n            if (!win) {\n                return window;\n            } else if (dom.isWindow(win)) {\n                return win;\n            } else if (win instanceof WrappedSelection) {\n                return win.win;\n            } else {\n                var doc = dom.getContentDocument(win, module, methodName);\n                return dom.getWindow(doc);\n            }\n        }\n\n        function getWinSelection(winParam) {\n            return getWindow(winParam, \"getWinSelection\").getSelection();\n        }\n\n        function getDocSelection(winParam) {\n            return getWindow(winParam, \"getDocSelection\").document.selection;\n        }\n\n        function winSelectionIsBackward(sel) {\n            var backward = false;\n            if (sel.anchorNode) {\n                backward = (dom.comparePoints(sel.anchorNode, sel.anchorOffset, sel.focusNode, sel.focusOffset) == 1);\n            }\n            return backward;\n        }\n\n        // Test for the Range/TextRange and Selection features required\n        // Test for ability to retrieve selection\n        var implementsWinGetSelection = isHostMethod(window, \"getSelection\"),\n            implementsDocSelection = util.isHostObject(document, \"selection\");\n\n        features.implementsWinGetSelection = implementsWinGetSelection;\n        features.implementsDocSelection = implementsDocSelection;\n\n        var useDocumentSelection = implementsDocSelection && (!implementsWinGetSelection || api.config.preferTextRange);\n\n        if (useDocumentSelection) {\n            getNativeSelection = getDocSelection;\n            api.isSelectionValid = function(winParam) {\n                var doc = getWindow(winParam, \"isSelectionValid\").document, nativeSel = doc.selection;\n\n                // Check whether the selection TextRange is actually contained within the correct document\n                return (nativeSel.type != \"None\" || getDocument(nativeSel.createRange().parentElement()) == doc);\n            };\n        } else if (implementsWinGetSelection) {\n            getNativeSelection = getWinSelection;\n            api.isSelectionValid = function() {\n                return true;\n            };\n        } else {\n            module.fail(\"Neither document.selection or window.getSelection() detected.\");\n            return false;\n        }\n\n        api.getNativeSelection = getNativeSelection;\n\n        var testSelection = getNativeSelection();\n\n        // In Firefox, the selection is null in an iframe with display: none. See issue #138.\n        if (!testSelection) {\n            module.fail(\"Native selection was null (possibly issue 138?)\");\n            return false;\n        }\n\n        var testRange = api.createNativeRange(document);\n        var body = getBody(document);\n\n        // Obtaining a range from a selection\n        var selectionHasAnchorAndFocus = util.areHostProperties(testSelection,\n            [\"anchorNode\", \"focusNode\", \"anchorOffset\", \"focusOffset\"]);\n\n        features.selectionHasAnchorAndFocus = selectionHasAnchorAndFocus;\n\n        // Test for existence of native selection extend() method\n        var selectionHasExtend = isHostMethod(testSelection, \"extend\");\n        features.selectionHasExtend = selectionHasExtend;\n\n        // Test for existence of native selection setBaseAndExtent() method\n        var selectionHasSetBaseAndExtent = isHostMethod(testSelection, \"setBaseAndExtent\");\n        features.selectionHasSetBaseAndExtent = selectionHasSetBaseAndExtent;\n\n        // Test if rangeCount exists\n        var selectionHasRangeCount = (typeof testSelection.rangeCount == NUMBER);\n        features.selectionHasRangeCount = selectionHasRangeCount;\n\n        var selectionSupportsMultipleRanges = false;\n        var collapsedNonEditableSelectionsSupported = true;\n\n        var addRangeBackwardToNative = selectionHasExtend ?\n            function(nativeSelection, range) {\n                var doc = DomRange.getRangeDocument(range);\n                var endRange = api.createRange(doc);\n                endRange.collapseToPoint(range.endContainer, range.endOffset);\n                nativeSelection.addRange(getNativeRange(endRange));\n                nativeSelection.extend(range.startContainer, range.startOffset);\n            } : null;\n\n        if (util.areHostMethods(testSelection, [\"addRange\", \"getRangeAt\", \"removeAllRanges\"]) &&\n                typeof testSelection.rangeCount == NUMBER && features.implementsDomRange) {\n\n            (function() {\n                // Previously an iframe was used but this caused problems in some circumstances in IE, so tests are\n                // performed on the current document's selection. See issue 109.\n\n                // Note also that if a selection previously existed, it is wiped and later restored by these tests. This\n                // will result in the selection direction being reversed if the original selection was backwards and the\n                // browser does not support setting backwards selections (Internet Explorer, I'm looking at you).\n                var sel = window.getSelection();\n                if (sel) {\n                    // Store the current selection\n                    var originalSelectionRangeCount = sel.rangeCount;\n                    var selectionHasMultipleRanges = (originalSelectionRangeCount > 1);\n                    var originalSelectionRanges = [];\n                    var originalSelectionBackward = winSelectionIsBackward(sel);\n                    for (var i = 0; i < originalSelectionRangeCount; ++i) {\n                        originalSelectionRanges[i] = sel.getRangeAt(i);\n                    }\n\n                    // Create some test elements\n                    var testEl = dom.createTestElement(document, \"\", false);\n                    var textNode = testEl.appendChild( document.createTextNode(\"\\u00a0\\u00a0\\u00a0\") );\n\n                    // Test whether the native selection will allow a collapsed selection within a non-editable element\n                    var r1 = document.createRange();\n\n                    r1.setStart(textNode, 1);\n                    r1.collapse(true);\n                    sel.removeAllRanges();\n                    sel.addRange(r1);\n                    collapsedNonEditableSelectionsSupported = (sel.rangeCount == 1);\n                    sel.removeAllRanges();\n\n                    // Test whether the native selection is capable of supporting multiple ranges.\n                    if (!selectionHasMultipleRanges) {\n                        // Doing the original feature test here in Chrome 36 (and presumably later versions) prints a\n                        // console error of \"Discontiguous selection is not supported.\" that cannot be suppressed. There's\n                        // nothing we can do about this while retaining the feature test so we have to resort to a browser\n                        // sniff. I'm not happy about it. See\n                        // https://code.google.com/p/chromium/issues/detail?id=399791\n                        var chromeMatch = window.navigator.appVersion.match(/Chrome\\/(.*?) /);\n                        if (chromeMatch && parseInt(chromeMatch[1]) >= 36) {\n                            selectionSupportsMultipleRanges = false;\n                        } else {\n                            var r2 = r1.cloneRange();\n                            r1.setStart(textNode, 0);\n                            r2.setEnd(textNode, 3);\n                            r2.setStart(textNode, 2);\n                            sel.addRange(r1);\n                            sel.addRange(r2);\n                            selectionSupportsMultipleRanges = (sel.rangeCount == 2);\n                        }\n                    }\n\n                    // Clean up\n                    dom.removeNode(testEl);\n                    sel.removeAllRanges();\n\n                    for (i = 0; i < originalSelectionRangeCount; ++i) {\n                        if (i == 0 && originalSelectionBackward) {\n                            if (addRangeBackwardToNative) {\n                                addRangeBackwardToNative(sel, originalSelectionRanges[i]);\n                            } else {\n                                api.warn(\"Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend\");\n                                sel.addRange(originalSelectionRanges[i]);\n                            }\n                        } else {\n                            sel.addRange(originalSelectionRanges[i]);\n                        }\n                    }\n                }\n            })();\n        }\n\n        features.selectionSupportsMultipleRanges = selectionSupportsMultipleRanges;\n        features.collapsedNonEditableSelectionsSupported = collapsedNonEditableSelectionsSupported;\n\n        // ControlRanges\n        var implementsControlRange = false, testControlRange;\n\n        if (body && isHostMethod(body, \"createControlRange\")) {\n            testControlRange = body.createControlRange();\n            if (util.areHostProperties(testControlRange, [\"item\", \"add\"])) {\n                implementsControlRange = true;\n            }\n        }\n        features.implementsControlRange = implementsControlRange;\n\n        // Selection collapsedness\n        if (selectionHasAnchorAndFocus) {\n            selectionIsCollapsed = function(sel) {\n                return sel.anchorNode === sel.focusNode && sel.anchorOffset === sel.focusOffset;\n            };\n        } else {\n            selectionIsCollapsed = function(sel) {\n                return sel.rangeCount ? sel.getRangeAt(sel.rangeCount - 1).collapsed : false;\n            };\n        }\n\n        function updateAnchorAndFocusFromRange(sel, range, backward) {\n            var anchorPrefix = backward ? \"end\" : \"start\", focusPrefix = backward ? \"start\" : \"end\";\n            sel.anchorNode = range[anchorPrefix + \"Container\"];\n            sel.anchorOffset = range[anchorPrefix + \"Offset\"];\n            sel.focusNode = range[focusPrefix + \"Container\"];\n            sel.focusOffset = range[focusPrefix + \"Offset\"];\n        }\n\n        function updateAnchorAndFocusFromNativeSelection(sel) {\n            var nativeSel = sel.nativeSelection;\n            sel.anchorNode = nativeSel.anchorNode;\n            sel.anchorOffset = nativeSel.anchorOffset;\n            sel.focusNode = nativeSel.focusNode;\n            sel.focusOffset = nativeSel.focusOffset;\n        }\n\n        function updateEmptySelection(sel) {\n            sel.anchorNode = sel.focusNode = null;\n            sel.anchorOffset = sel.focusOffset = 0;\n            sel.rangeCount = 0;\n            sel.isCollapsed = true;\n            sel._ranges.length = 0;\n            updateType(sel);\n        }\n\n        function updateType(sel) {\n            sel.type = (sel.rangeCount == 0) ? \"None\" : (selectionIsCollapsed(sel) ? \"Caret\" : \"Range\");\n        }\n\n        function getNativeRange(range) {\n            var nativeRange;\n            if (range instanceof DomRange) {\n                nativeRange = api.createNativeRange(range.getDocument());\n                nativeRange.setEnd(range.endContainer, range.endOffset);\n                nativeRange.setStart(range.startContainer, range.startOffset);\n            } else if (range instanceof WrappedRange) {\n                nativeRange = range.nativeRange;\n            } else if (features.implementsDomRange && (range instanceof dom.getWindow(range.startContainer).Range)) {\n                nativeRange = range;\n            }\n            return nativeRange;\n        }\n\n        function rangeContainsSingleElement(rangeNodes) {\n            if (!rangeNodes.length || rangeNodes[0].nodeType != 1) {\n                return false;\n            }\n            for (var i = 1, len = rangeNodes.length; i < len; ++i) {\n                if (!dom.isAncestorOf(rangeNodes[0], rangeNodes[i])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        function getSingleElementFromRange(range) {\n            var nodes = range.getNodes();\n            if (!rangeContainsSingleElement(nodes)) {\n                throw module.createError(\"getSingleElementFromRange: range \" + range.inspect() + \" did not consist of a single element\");\n            }\n            return nodes[0];\n        }\n\n        // Simple, quick test which only needs to distinguish between a TextRange and a ControlRange\n        function isTextRange(range) {\n            return !!range && typeof range.text != \"undefined\";\n        }\n\n        function updateFromTextRange(sel, range) {\n            // Create a Range from the selected TextRange\n            var wrappedRange = new WrappedRange(range);\n            sel._ranges = [wrappedRange];\n\n            updateAnchorAndFocusFromRange(sel, wrappedRange, false);\n            sel.rangeCount = 1;\n            sel.isCollapsed = wrappedRange.collapsed;\n            updateType(sel);\n        }\n\n        function updateControlSelection(sel) {\n            // Update the wrapped selection based on what's now in the native selection\n            sel._ranges.length = 0;\n            if (sel.docSelection.type == \"None\") {\n                updateEmptySelection(sel);\n            } else {\n                var controlRange = sel.docSelection.createRange();\n                if (isTextRange(controlRange)) {\n                    // This case (where the selection type is \"Control\" and calling createRange() on the selection returns\n                    // a TextRange) can happen in IE 9. It happens, for example, when all elements in the selected\n                    // ControlRange have been removed from the ControlRange and removed from the document.\n                    updateFromTextRange(sel, controlRange);\n                } else {\n                    sel.rangeCount = controlRange.length;\n                    var range, doc = getDocument(controlRange.item(0));\n                    for (var i = 0; i < sel.rangeCount; ++i) {\n                        range = api.createRange(doc);\n                        range.selectNode(controlRange.item(i));\n                        sel._ranges.push(range);\n                    }\n                    sel.isCollapsed = sel.rangeCount == 1 && sel._ranges[0].collapsed;\n                    updateAnchorAndFocusFromRange(sel, sel._ranges[sel.rangeCount - 1], false);\n                    updateType(sel);\n                }\n            }\n        }\n\n        function addRangeToControlSelection(sel, range) {\n            var controlRange = sel.docSelection.createRange();\n            var rangeElement = getSingleElementFromRange(range);\n\n            // Create a new ControlRange containing all the elements in the selected ControlRange plus the element\n            // contained by the supplied range\n            var doc = getDocument(controlRange.item(0));\n            var newControlRange = getBody(doc).createControlRange();\n            for (var i = 0, len = controlRange.length; i < len; ++i) {\n                newControlRange.add(controlRange.item(i));\n            }\n            try {\n                newControlRange.add(rangeElement);\n            } catch (ex) {\n                throw module.createError(\"addRange(): Element within the specified Range could not be added to control selection (does it have layout?)\");\n            }\n            newControlRange.select();\n\n            // Update the wrapped selection based on what's now in the native selection\n            updateControlSelection(sel);\n        }\n\n        var getSelectionRangeAt;\n\n        if (isHostMethod(testSelection, \"getRangeAt\")) {\n            // try/catch is present because getRangeAt() must have thrown an error in some browser and some situation.\n            // Unfortunately, I didn't write a comment about the specifics and am now scared to take it out. Let that be a\n            // lesson to us all, especially me.\n            getSelectionRangeAt = function(sel, index) {\n                try {\n                    return sel.getRangeAt(index);\n                } catch (ex) {\n                    return null;\n                }\n            };\n        } else if (selectionHasAnchorAndFocus) {\n            getSelectionRangeAt = function(sel) {\n                var doc = getDocument(sel.anchorNode);\n                var range = api.createRange(doc);\n                range.setStartAndEnd(sel.anchorNode, sel.anchorOffset, sel.focusNode, sel.focusOffset);\n\n                // Handle the case when the selection was selected backwards (from the end to the start in the\n                // document)\n                if (range.collapsed !== this.isCollapsed) {\n                    range.setStartAndEnd(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset);\n                }\n\n                return range;\n            };\n        }\n\n        function WrappedSelection(selection, docSelection, win) {\n            this.nativeSelection = selection;\n            this.docSelection = docSelection;\n            this._ranges = [];\n            this.win = win;\n            this.refresh();\n        }\n\n        WrappedSelection.prototype = api.selectionPrototype;\n\n        function deleteProperties(sel) {\n            sel.win = sel.anchorNode = sel.focusNode = sel._ranges = null;\n            sel.rangeCount = sel.anchorOffset = sel.focusOffset = 0;\n            sel.detached = true;\n            updateType(sel);\n        }\n\n        var cachedRangySelections = [];\n\n        function actOnCachedSelection(win, action) {\n            var i = cachedRangySelections.length, cached, sel;\n            while (i--) {\n                cached = cachedRangySelections[i];\n                sel = cached.selection;\n                if (action == \"deleteAll\") {\n                    deleteProperties(sel);\n                } else if (cached.win == win) {\n                    if (action == \"delete\") {\n                        cachedRangySelections.splice(i, 1);\n                        return true;\n                    } else {\n                        return sel;\n                    }\n                }\n            }\n            if (action == \"deleteAll\") {\n                cachedRangySelections.length = 0;\n            }\n            return null;\n        }\n\n        var getSelection = function(win) {\n            // Check if the parameter is a Rangy Selection object\n            if (win && win instanceof WrappedSelection) {\n                win.refresh();\n                return win;\n            }\n\n            win = getWindow(win, \"getNativeSelection\");\n\n            var sel = actOnCachedSelection(win);\n            var nativeSel = getNativeSelection(win), docSel = implementsDocSelection ? getDocSelection(win) : null;\n            if (sel) {\n                sel.nativeSelection = nativeSel;\n                sel.docSelection = docSel;\n                sel.refresh();\n            } else {\n                sel = new WrappedSelection(nativeSel, docSel, win);\n                cachedRangySelections.push( { win: win, selection: sel } );\n            }\n            return sel;\n        };\n\n        api.getSelection = getSelection;\n\n        util.createAliasForDeprecatedMethod(api, \"getIframeSelection\", \"getSelection\");\n\n        var selProto = WrappedSelection.prototype;\n\n        function createControlSelection(sel, ranges) {\n            // Ensure that the selection becomes of type \"Control\"\n            var doc = getDocument(ranges[0].startContainer);\n            var controlRange = getBody(doc).createControlRange();\n            for (var i = 0, el, len = ranges.length; i < len; ++i) {\n                el = getSingleElementFromRange(ranges[i]);\n                try {\n                    controlRange.add(el);\n                } catch (ex) {\n                    throw module.createError(\"setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)\");\n                }\n            }\n            controlRange.select();\n\n            // Update the wrapped selection based on what's now in the native selection\n            updateControlSelection(sel);\n        }\n\n        // Selecting a range\n        if (!useDocumentSelection && selectionHasAnchorAndFocus && util.areHostMethods(testSelection, [\"removeAllRanges\", \"addRange\"])) {\n            selProto.removeAllRanges = function() {\n                this.nativeSelection.removeAllRanges();\n                updateEmptySelection(this);\n            };\n\n            var addRangeBackward = function(sel, range) {\n                addRangeBackwardToNative(sel.nativeSelection, range);\n                sel.refresh();\n            };\n\n            if (selectionHasRangeCount) {\n                selProto.addRange = function(range, direction) {\n                    if (implementsControlRange && implementsDocSelection && this.docSelection.type == CONTROL) {\n                        addRangeToControlSelection(this, range);\n                    } else {\n                        if (isDirectionBackward(direction) && selectionHasExtend) {\n                            addRangeBackward(this, range);\n                        } else {\n                            var previousRangeCount;\n                            if (selectionSupportsMultipleRanges) {\n                                previousRangeCount = this.rangeCount;\n                            } else {\n                                this.removeAllRanges();\n                                previousRangeCount = 0;\n                            }\n                            // Clone the native range so that changing the selected range does not affect the selection.\n                            // This is contrary to the spec but is the only way to achieve consistency between browsers. See\n                            // issue 80.\n                            var clonedNativeRange = getNativeRange(range).cloneRange();\n                            try {\n                                this.nativeSelection.addRange(clonedNativeRange);\n                            } catch (ex) {\n                            }\n\n                            // Check whether adding the range was successful\n                            this.rangeCount = this.nativeSelection.rangeCount;\n\n                            if (this.rangeCount == previousRangeCount + 1) {\n                                // The range was added successfully\n\n                                // Check whether the range that we added to the selection is reflected in the last range extracted from\n                                // the selection\n                                if (api.config.checkSelectionRanges) {\n                                    var nativeRange = getSelectionRangeAt(this.nativeSelection, this.rangeCount - 1);\n                                    if (nativeRange && !rangesEqual(nativeRange, range)) {\n                                        // Happens in WebKit with, for example, a selection placed at the start of a text node\n                                        range = new WrappedRange(nativeRange);\n                                    }\n                                }\n                                this._ranges[this.rangeCount - 1] = range;\n                                updateAnchorAndFocusFromRange(this, range, selectionIsBackward(this.nativeSelection));\n                                this.isCollapsed = selectionIsCollapsed(this);\n                                updateType(this);\n                            } else {\n                                // The range was not added successfully. The simplest thing is to refresh\n                                this.refresh();\n                            }\n                        }\n                    }\n                };\n            } else {\n                selProto.addRange = function(range, direction) {\n                    if (isDirectionBackward(direction) && selectionHasExtend) {\n                        addRangeBackward(this, range);\n                    } else {\n                        this.nativeSelection.addRange(getNativeRange(range));\n                        this.refresh();\n                    }\n                };\n            }\n\n            selProto.setRanges = function(ranges) {\n                if (implementsControlRange && implementsDocSelection && ranges.length > 1) {\n                    createControlSelection(this, ranges);\n                } else {\n                    this.removeAllRanges();\n                    for (var i = 0, len = ranges.length; i < len; ++i) {\n                        this.addRange(ranges[i]);\n                    }\n                }\n            };\n        } else if (isHostMethod(testSelection, \"empty\") && isHostMethod(testRange, \"select\") &&\n                   implementsControlRange && useDocumentSelection) {\n\n            selProto.removeAllRanges = function() {\n                // Added try/catch as fix for issue #21\n                try {\n                    this.docSelection.empty();\n\n                    // Check for empty() not working (issue #24)\n                    if (this.docSelection.type != \"None\") {\n                        // Work around failure to empty a control selection by instead selecting a TextRange and then\n                        // calling empty()\n                        var doc;\n                        if (this.anchorNode) {\n                            doc = getDocument(this.anchorNode);\n                        } else if (this.docSelection.type == CONTROL) {\n                            var controlRange = this.docSelection.createRange();\n                            if (controlRange.length) {\n                                doc = getDocument( controlRange.item(0) );\n                            }\n                        }\n                        if (doc) {\n                            var textRange = getBody(doc).createTextRange();\n                            textRange.select();\n                            this.docSelection.empty();\n                        }\n                    }\n                } catch(ex) {}\n                updateEmptySelection(this);\n            };\n\n            selProto.addRange = function(range) {\n                if (this.docSelection.type == CONTROL) {\n                    addRangeToControlSelection(this, range);\n                } else {\n                    api.WrappedTextRange.rangeToTextRange(range).select();\n                    this._ranges[0] = range;\n                    this.rangeCount = 1;\n                    this.isCollapsed = this._ranges[0].collapsed;\n                    updateAnchorAndFocusFromRange(this, range, false);\n                    updateType(this);\n                }\n            };\n\n            selProto.setRanges = function(ranges) {\n                this.removeAllRanges();\n                var rangeCount = ranges.length;\n                if (rangeCount > 1) {\n                    createControlSelection(this, ranges);\n                } else if (rangeCount) {\n                    this.addRange(ranges[0]);\n                }\n            };\n        } else {\n            module.fail(\"No means of selecting a Range or TextRange was found\");\n            return false;\n        }\n\n        selProto.getRangeAt = function(index) {\n            if (index < 0 || index >= this.rangeCount) {\n                throw new DOMException(\"INDEX_SIZE_ERR\");\n            } else {\n                // Clone the range to preserve selection-range independence. See issue 80.\n                return this._ranges[index].cloneRange();\n            }\n        };\n\n        var refreshSelection;\n\n        if (useDocumentSelection) {\n            refreshSelection = function(sel) {\n                var range;\n                if (api.isSelectionValid(sel.win)) {\n                    range = sel.docSelection.createRange();\n                } else {\n                    range = getBody(sel.win.document).createTextRange();\n                    range.collapse(true);\n                }\n\n                if (sel.docSelection.type == CONTROL) {\n                    updateControlSelection(sel);\n                } else if (isTextRange(range)) {\n                    updateFromTextRange(sel, range);\n                } else {\n                    updateEmptySelection(sel);\n                }\n            };\n        } else if (isHostMethod(testSelection, \"getRangeAt\") && typeof testSelection.rangeCount == NUMBER) {\n            refreshSelection = function(sel) {\n                if (implementsControlRange && implementsDocSelection && sel.docSelection.type == CONTROL) {\n                    updateControlSelection(sel);\n                } else {\n                    sel._ranges.length = sel.rangeCount = sel.nativeSelection.rangeCount;\n                    if (sel.rangeCount) {\n                        for (var i = 0, len = sel.rangeCount; i < len; ++i) {\n                            sel._ranges[i] = new api.WrappedRange(sel.nativeSelection.getRangeAt(i));\n                        }\n                        updateAnchorAndFocusFromRange(sel, sel._ranges[sel.rangeCount - 1], selectionIsBackward(sel.nativeSelection));\n                        sel.isCollapsed = selectionIsCollapsed(sel);\n                        updateType(sel);\n                    } else {\n                        updateEmptySelection(sel);\n                    }\n                }\n            };\n        } else if (selectionHasAnchorAndFocus && typeof testSelection.isCollapsed == BOOLEAN && typeof testRange.collapsed == BOOLEAN && features.implementsDomRange) {\n            refreshSelection = function(sel) {\n                var range, nativeSel = sel.nativeSelection;\n                if (nativeSel.anchorNode) {\n                    range = getSelectionRangeAt(nativeSel, 0);\n                    sel._ranges = [range];\n                    sel.rangeCount = 1;\n                    updateAnchorAndFocusFromNativeSelection(sel);\n                    sel.isCollapsed = selectionIsCollapsed(sel);\n                    updateType(sel);\n                } else {\n                    updateEmptySelection(sel);\n                }\n            };\n        } else {\n            module.fail(\"No means of obtaining a Range or TextRange from the user's selection was found\");\n            return false;\n        }\n\n        selProto.refresh = function(checkForChanges) {\n            var oldRanges = checkForChanges ? this._ranges.slice(0) : null;\n            var oldAnchorNode = this.anchorNode, oldAnchorOffset = this.anchorOffset;\n\n            refreshSelection(this);\n            if (checkForChanges) {\n                // Check the range count first\n                var i = oldRanges.length;\n                if (i != this._ranges.length) {\n                    return true;\n                }\n\n                // Now check the direction. Checking the anchor position is the same is enough since we're checking all the\n                // ranges after this\n                if (this.anchorNode != oldAnchorNode || this.anchorOffset != oldAnchorOffset) {\n                    return true;\n                }\n\n                // Finally, compare each range in turn\n                while (i--) {\n                    if (!rangesEqual(oldRanges[i], this._ranges[i])) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        };\n\n        // Removal of a single range\n        var removeRangeManually = function(sel, range) {\n            var ranges = sel.getAllRanges();\n            sel.removeAllRanges();\n            for (var i = 0, len = ranges.length; i < len; ++i) {\n                if (!rangesEqual(range, ranges[i])) {\n                    sel.addRange(ranges[i]);\n                }\n            }\n            if (!sel.rangeCount) {\n                updateEmptySelection(sel);\n            }\n        };\n\n        if (implementsControlRange && implementsDocSelection) {\n            selProto.removeRange = function(range) {\n                if (this.docSelection.type == CONTROL) {\n                    var controlRange = this.docSelection.createRange();\n                    var rangeElement = getSingleElementFromRange(range);\n\n                    // Create a new ControlRange containing all the elements in the selected ControlRange minus the\n                    // element contained by the supplied range\n                    var doc = getDocument(controlRange.item(0));\n                    var newControlRange = getBody(doc).createControlRange();\n                    var el, removed = false;\n                    for (var i = 0, len = controlRange.length; i < len; ++i) {\n                        el = controlRange.item(i);\n                        if (el !== rangeElement || removed) {\n                            newControlRange.add(controlRange.item(i));\n                        } else {\n                            removed = true;\n                        }\n                    }\n                    newControlRange.select();\n\n                    // Update the wrapped selection based on what's now in the native selection\n                    updateControlSelection(this);\n                } else {\n                    removeRangeManually(this, range);\n                }\n            };\n        } else {\n            selProto.removeRange = function(range) {\n                removeRangeManually(this, range);\n            };\n        }\n\n        // Detecting if a selection is backward\n        var selectionIsBackward;\n        if (!useDocumentSelection && selectionHasAnchorAndFocus && features.implementsDomRange) {\n            selectionIsBackward = winSelectionIsBackward;\n\n            selProto.isBackward = function() {\n                return selectionIsBackward(this);\n            };\n        } else {\n            selectionIsBackward = selProto.isBackward = function() {\n                return false;\n            };\n        }\n\n        // Create an alias for backwards compatibility. From 1.3, everything is \"backward\" rather than \"backwards\"\n        selProto.isBackwards = selProto.isBackward;\n\n        // Selection stringifier\n        // This is conformant to the old HTML5 selections draft spec but differs from WebKit and Mozilla's implementation.\n        // The current spec does not yet define this method.\n        selProto.toString = function() {\n            var rangeTexts = [];\n            for (var i = 0, len = this.rangeCount; i < len; ++i) {\n                rangeTexts[i] = \"\" + this._ranges[i];\n            }\n            return rangeTexts.join(\"\");\n        };\n\n        function assertNodeInSameDocument(sel, node) {\n            if (sel.win.document != getDocument(node)) {\n                throw new DOMException(\"WRONG_DOCUMENT_ERR\");\n            }\n        }\n\n        function assertValidOffset(node, offset) {\n            if (offset < 0 || offset > (dom.isCharacterDataNode(node) ? node.length : node.childNodes.length)) {\n                throw new DOMException(\"INDEX_SIZE_ERR\");\n            }\n        }\n\n        // No current browser conforms fully to the spec for this method, so Rangy's own method is always used\n        selProto.collapse = function(node, offset) {\n            assertNodeInSameDocument(this, node);\n            var range = api.createRange(node);\n            range.collapseToPoint(node, offset);\n            this.setSingleRange(range);\n            this.isCollapsed = true;\n        };\n\n        selProto.collapseToStart = function() {\n            if (this.rangeCount) {\n                var range = this._ranges[0];\n                this.collapse(range.startContainer, range.startOffset);\n            } else {\n                throw new DOMException(\"INVALID_STATE_ERR\");\n            }\n        };\n\n        selProto.collapseToEnd = function() {\n            if (this.rangeCount) {\n                var range = this._ranges[this.rangeCount - 1];\n                this.collapse(range.endContainer, range.endOffset);\n            } else {\n                throw new DOMException(\"INVALID_STATE_ERR\");\n            }\n        };\n\n        // The spec is very specific on how selectAllChildren should be implemented and not all browsers implement it as\n        // specified so the native implementation is never used by Rangy.\n        selProto.selectAllChildren = function(node) {\n            assertNodeInSameDocument(this, node);\n            var range = api.createRange(node);\n            range.selectNodeContents(node);\n            this.setSingleRange(range);\n        };\n\n        if (selectionHasSetBaseAndExtent) {\n            selProto.setBaseAndExtent = function(anchorNode, anchorOffset, focusNode, focusOffset) {\n                this.nativeSelection.setBaseAndExtent(anchorNode, anchorOffset, focusNode, focusOffset);\n                this.refresh();\n            };\n        } else if (selectionHasExtend) {\n            selProto.setBaseAndExtent = function(anchorNode, anchorOffset, focusNode, focusOffset) {\n                assertValidOffset(anchorNode, anchorOffset);\n                assertValidOffset(focusNode, focusOffset);\n                assertNodeInSameDocument(this, anchorNode);\n                assertNodeInSameDocument(this, focusNode);\n                var range = api.createRange(node);\n                var isBackwards = (dom.comparePoints(anchorNode, anchorOffset, focusNode, focusOffset) == -1);\n                if (isBackwards) {\n                    range.setStartAndEnd(focusNode, focusOffset, anchorNode, anchorOffset);\n                } else {\n                    range.setStartAndEnd(anchorNode, anchorOffset, focusNode, focusOffset);\n                }\n                this.setSingleRange(range, isBackwards);\n            };\n        }\n\n        selProto.deleteFromDocument = function() {\n            // Sepcial behaviour required for IE's control selections\n            if (implementsControlRange && implementsDocSelection && this.docSelection.type == CONTROL) {\n                var controlRange = this.docSelection.createRange();\n                var element;\n                while (controlRange.length) {\n                    element = controlRange.item(0);\n                    controlRange.remove(element);\n                    dom.removeNode(element);\n                }\n                this.refresh();\n            } else if (this.rangeCount) {\n                var ranges = this.getAllRanges();\n                if (ranges.length) {\n                    this.removeAllRanges();\n                    for (var i = 0, len = ranges.length; i < len; ++i) {\n                        ranges[i].deleteContents();\n                    }\n                    // The spec says nothing about what the selection should contain after calling deleteContents on each\n                    // range. Firefox moves the selection to where the final selected range was, so we emulate that\n                    this.addRange(ranges[len - 1]);\n                }\n            }\n        };\n\n        // The following are non-standard extensions\n        selProto.eachRange = function(func, returnValue) {\n            for (var i = 0, len = this._ranges.length; i < len; ++i) {\n                if ( func( this.getRangeAt(i) ) ) {\n                    return returnValue;\n                }\n            }\n        };\n\n        selProto.getAllRanges = function() {\n            var ranges = [];\n            this.eachRange(function(range) {\n                ranges.push(range);\n            });\n            return ranges;\n        };\n\n        selProto.setSingleRange = function(range, direction) {\n            this.removeAllRanges();\n            this.addRange(range, direction);\n        };\n\n        selProto.callMethodOnEachRange = function(methodName, params) {\n            var results = [];\n            this.eachRange( function(range) {\n                results.push( range[methodName].apply(range, params || []) );\n            } );\n            return results;\n        };\n\n        function createStartOrEndSetter(isStart) {\n            return function(node, offset) {\n                var range;\n                if (this.rangeCount) {\n                    range = this.getRangeAt(0);\n                    range[\"set\" + (isStart ? \"Start\" : \"End\")](node, offset);\n                } else {\n                    range = api.createRange(this.win.document);\n                    range.setStartAndEnd(node, offset);\n                }\n                this.setSingleRange(range, this.isBackward());\n            };\n        }\n\n        selProto.setStart = createStartOrEndSetter(true);\n        selProto.setEnd = createStartOrEndSetter(false);\n\n        // Add select() method to Range prototype. Any existing selection will be removed.\n        api.rangePrototype.select = function(direction) {\n            getSelection( this.getDocument() ).setSingleRange(this, direction);\n        };\n\n        selProto.changeEachRange = function(func) {\n            var ranges = [];\n            var backward = this.isBackward();\n\n            this.eachRange(function(range) {\n                func(range);\n                ranges.push(range);\n            });\n\n            this.removeAllRanges();\n            if (backward && ranges.length == 1) {\n                this.addRange(ranges[0], \"backward\");\n            } else {\n                this.setRanges(ranges);\n            }\n        };\n\n        selProto.containsNode = function(node, allowPartial) {\n            return this.eachRange( function(range) {\n                return range.containsNode(node, allowPartial);\n            }, true ) || false;\n        };\n\n        selProto.getBookmark = function(containerNode) {\n            return {\n                backward: this.isBackward(),\n                rangeBookmarks: this.callMethodOnEachRange(\"getBookmark\", [containerNode])\n            };\n        };\n\n        selProto.moveToBookmark = function(bookmark) {\n            var selRanges = [];\n            for (var i = 0, rangeBookmark, range; rangeBookmark = bookmark.rangeBookmarks[i++]; ) {\n                range = api.createRange(this.win);\n                range.moveToBookmark(rangeBookmark);\n                selRanges.push(range);\n            }\n            if (bookmark.backward) {\n                this.setSingleRange(selRanges[0], \"backward\");\n            } else {\n                this.setRanges(selRanges);\n            }\n        };\n\n        selProto.saveRanges = function() {\n            return {\n                backward: this.isBackward(),\n                ranges: this.callMethodOnEachRange(\"cloneRange\")\n            };\n        };\n\n        selProto.restoreRanges = function(selRanges) {\n            this.removeAllRanges();\n            for (var i = 0, range; range = selRanges.ranges[i]; ++i) {\n                this.addRange(range, (selRanges.backward && i == 0));\n            }\n        };\n\n        selProto.toHtml = function() {\n            var rangeHtmls = [];\n            this.eachRange(function(range) {\n                rangeHtmls.push( DomRange.toHtml(range) );\n            });\n            return rangeHtmls.join(\"\");\n        };\n\n        if (features.implementsTextRange) {\n            selProto.getNativeTextRange = function() {\n                var sel, textRange;\n                if ( (sel = this.docSelection) ) {\n                    var range = sel.createRange();\n                    if (isTextRange(range)) {\n                        return range;\n                    } else {\n                        throw module.createError(\"getNativeTextRange: selection is a control selection\");\n                    }\n                } else if (this.rangeCount > 0) {\n                    return api.WrappedTextRange.rangeToTextRange( this.getRangeAt(0) );\n                } else {\n                    throw module.createError(\"getNativeTextRange: selection contains no range\");\n                }\n            };\n        }\n\n        function inspect(sel) {\n            var rangeInspects = [];\n            var anchor = new DomPosition(sel.anchorNode, sel.anchorOffset);\n            var focus = new DomPosition(sel.focusNode, sel.focusOffset);\n            var name = (typeof sel.getName == \"function\") ? sel.getName() : \"Selection\";\n\n            if (typeof sel.rangeCount != \"undefined\") {\n                for (var i = 0, len = sel.rangeCount; i < len; ++i) {\n                    rangeInspects[i] = DomRange.inspect(sel.getRangeAt(i));\n                }\n            }\n            return \"[\" + name + \"(Ranges: \" + rangeInspects.join(\", \") +\n                    \")(anchor: \" + anchor.inspect() + \", focus: \" + focus.inspect() + \"]\";\n        }\n\n        selProto.getName = function() {\n            return \"WrappedSelection\";\n        };\n\n        selProto.inspect = function() {\n            return inspect(this);\n        };\n\n        selProto.detach = function() {\n            actOnCachedSelection(this.win, \"delete\");\n            deleteProperties(this);\n        };\n\n        WrappedSelection.detachAll = function() {\n            actOnCachedSelection(null, \"deleteAll\");\n        };\n\n        WrappedSelection.inspect = inspect;\n        WrappedSelection.isDirectionBackward = isDirectionBackward;\n\n        api.Selection = WrappedSelection;\n\n        api.selectionPrototype = selProto;\n\n        api.addShimListener(function(win) {\n            if (typeof win.getSelection == \"undefined\") {\n                win.getSelection = function() {\n                    return getSelection(win);\n                };\n            }\n            win = null;\n        });\n    });\n    \n\n    /*----------------------------------------------------------------------------------------------------------------*/\n\n    // Wait for document to load before initializing\n    var docReady = false;\n\n    var loadHandler = function(e) {\n        if (!docReady) {\n            docReady = true;\n            if (!api.initialized && api.config.autoInitialize) {\n                init();\n            }\n        }\n    };\n\n    if (isBrowser) {\n        // Test whether the document has already been loaded and initialize immediately if so\n        if (document.readyState == \"complete\") {\n            loadHandler();\n        } else {\n            if (isHostMethod(document, \"addEventListener\")) {\n                document.addEventListener(\"DOMContentLoaded\", loadHandler, false);\n            }\n\n            // Add a fallback in case the DOMContentLoaded event isn't supported\n            addListener(window, \"load\", loadHandler);\n        }\n    }\n\n    return api;\n}, this);","/**\n * Text range module for Rangy.\n * Text-based manipulation and searching of ranges and selections.\n *\n * Features\n *\n * - Ability to move range boundaries by character or word offsets\n * - Customizable word tokenizer\n * - Ignores text nodes inside <script> or <style> elements or those hidden by CSS display and visibility properties\n * - Range findText method to search for text or regex within the page or within a range. Flags for whole words and case\n *   sensitivity\n * - Selection and range save/restore as text offsets within a node\n * - Methods to return visible text within a range or selection\n * - innerText method for elements\n *\n * References\n *\n * https://www.w3.org/Bugs/Public/show_bug.cgi?id=13145\n * http://aryeh.name/spec/innertext/innertext.html\n * http://dvcs.w3.org/hg/editing/raw-file/tip/editing.html\n *\n * Part of Rangy, a cross-browser JavaScript range and selection library\n * https://github.com/timdown/rangy\n *\n * Depends on Rangy core.\n *\n * Copyright 2022, Tim Down\n * Licensed under the MIT license.\n * Version: 1.3.1\n * Build date: 17 August 2022\n */\n\n/**\n * Problem: handling of trailing spaces before line breaks is handled inconsistently between browsers.\n *\n * First, a <br>: this is relatively simple. For the following HTML:\n *\n * 1 <br>2\n *\n * - IE and WebKit render the space, include it in the selection (i.e. when the content is selected and pasted into a\n *   textarea, the space is present) and allow the caret to be placed after it.\n * - Firefox does not acknowledge the space in the selection but it is possible to place the caret after it.\n * - Opera does not render the space but has two separate caret positions on either side of the space (left and right\n *   arrow keys show this) and includes the space in the selection.\n *\n * The other case is the line break or breaks implied by block elements. For the following HTML:\n *\n * <p>1 </p><p>2<p>\n *\n * - WebKit does not acknowledge the space in any way\n * - Firefox, IE and Opera as per <br>\n *\n * One more case is trailing spaces before line breaks in elements with white-space: pre-line. For the following HTML:\n *\n * <p style=\"white-space: pre-line\">1\n * 2</p>\n *\n * - Firefox and WebKit include the space in caret positions\n * - IE does not support pre-line up to and including version 9\n * - Opera ignores the space\n * - Trailing space only renders if there is a non-collapsed character in the line\n *\n * Problem is whether Rangy should ever acknowledge the space and if so, when. Another problem is whether this can be\n * feature-tested\n */\n(function(factory, root) {\n    if (typeof define == \"function\" && define.amd) {\n        // AMD. Register as an anonymous module with a dependency on Rangy.\n        define([\"./rangy-core\"], factory);\n    } else if (typeof module != \"undefined\" && typeof exports == \"object\") {\n        // Node/CommonJS style\n        module.exports = factory( require(\"rangy\") );\n    } else {\n        // No AMD or CommonJS support so we use the rangy property of root (probably the global variable)\n        factory(root.rangy);\n    }\n})(function(rangy) {\n    rangy.createModule(\"TextRange\", [\"WrappedSelection\"], function(api, module) {\n        var UNDEF = \"undefined\";\n        var CHARACTER = \"character\", WORD = \"word\";\n        var dom = api.dom, util = api.util;\n        var extend = util.extend;\n        var createOptions = util.createOptions;\n        var getBody = dom.getBody;\n\n\n        var spacesRegex = /^[ \\t\\f\\r\\n]+$/;\n        var spacesMinusLineBreaksRegex = /^[ \\t\\f\\r]+$/;\n        var allWhiteSpaceRegex = /^[\\t-\\r \\u0085\\u00A0\\u1680\\u180E\\u2000-\\u200B\\u2028\\u2029\\u202F\\u205F\\u3000]+$/;\n        var nonLineBreakWhiteSpaceRegex = /^[\\t \\u00A0\\u1680\\u180E\\u2000-\\u200B\\u202F\\u205F\\u3000]+$/;\n        var lineBreakRegex = /^[\\n-\\r\\u0085\\u2028\\u2029]$/;\n\n        var defaultLanguage = \"en\";\n\n        var isDirectionBackward = api.Selection.isDirectionBackward;\n\n        // Properties representing whether trailing spaces inside blocks are completely collapsed (as they are in WebKit,\n        // but not other browsers). Also test whether trailing spaces before <br> elements are collapsed.\n        var trailingSpaceInBlockCollapses = false;\n        var trailingSpaceBeforeBrCollapses = false;\n        var trailingSpaceBeforeBlockCollapses = false;\n        var trailingSpaceBeforeLineBreakInPreLineCollapses = true;\n\n        (function() {\n            var el = dom.createTestElement(document, \"<p>1 </p><p></p>\", true);\n            var p = el.firstChild;\n            var sel = api.getSelection();\n            sel.collapse(p.lastChild, 2);\n            sel.setStart(p.firstChild, 0);\n            trailingSpaceInBlockCollapses = (\"\" + sel).length == 1;\n\n            el.innerHTML = \"1 <br />\";\n            sel.collapse(el, 2);\n            sel.setStart(el.firstChild, 0);\n            trailingSpaceBeforeBrCollapses = (\"\" + sel).length == 1;\n\n            el.innerHTML = \"1 <p>1</p>\";\n            sel.collapse(el, 2);\n            sel.setStart(el.firstChild, 0);\n            trailingSpaceBeforeBlockCollapses = (\"\" + sel).length == 1;\n\n            dom.removeNode(el);\n            sel.removeAllRanges();\n        })();\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // This function must create word and non-word tokens for the whole of the text supplied to it\n        function defaultTokenizer(chars, wordOptions) {\n            var word = chars.join(\"\"), result, tokenRanges = [];\n\n            function createTokenRange(start, end, isWord) {\n                tokenRanges.push( { start: start, end: end, isWord: isWord } );\n            }\n\n            // Match words and mark characters\n            var lastWordEnd = 0, wordStart, wordEnd;\n            while ( (result = wordOptions.wordRegex.exec(word)) ) {\n                wordStart = result.index;\n                wordEnd = wordStart + result[0].length;\n\n                // Create token for non-word characters preceding this word\n                if (wordStart > lastWordEnd) {\n                    createTokenRange(lastWordEnd, wordStart, false);\n                }\n\n                // Get trailing space characters for word\n                if (wordOptions.includeTrailingSpace) {\n                    while ( nonLineBreakWhiteSpaceRegex.test(chars[wordEnd]) ) {\n                        ++wordEnd;\n                    }\n                }\n                createTokenRange(wordStart, wordEnd, true);\n                lastWordEnd = wordEnd;\n            }\n\n            // Create token for trailing non-word characters, if any exist\n            if (lastWordEnd < chars.length) {\n                createTokenRange(lastWordEnd, chars.length, false);\n            }\n\n            return tokenRanges;\n        }\n\n        function convertCharRangeToToken(chars, tokenRange) {\n            var tokenChars = chars.slice(tokenRange.start, tokenRange.end);\n            var token = {\n                isWord: tokenRange.isWord,\n                chars: tokenChars,\n                toString: function() {\n                    return tokenChars.join(\"\");\n                }\n            };\n            for (var i = 0, len = tokenChars.length; i < len; ++i) {\n                tokenChars[i].token = token;\n            }\n            return token;\n        }\n\n        function tokenize(chars, wordOptions, tokenizer) {\n            var tokenRanges = tokenizer(chars, wordOptions);\n            var tokens = [];\n            for (var i = 0, tokenRange; tokenRange = tokenRanges[i++]; ) {\n                tokens.push( convertCharRangeToToken(chars, tokenRange) );\n            }\n            return tokens;\n        }\n\n        var defaultCharacterOptions = {\n            includeBlockContentTrailingSpace: true,\n            includeSpaceBeforeBr: true,\n            includeSpaceBeforeBlock: true,\n            includePreLineTrailingSpace: true,\n            ignoreCharacters: \"\"\n        };\n\n        function normalizeIgnoredCharacters(ignoredCharacters) {\n            // Check if character is ignored\n            var ignoredChars = ignoredCharacters || \"\";\n\n            // Normalize ignored characters into a string consisting of characters in ascending order of character code\n            var ignoredCharsArray = (typeof ignoredChars == \"string\") ? ignoredChars.split(\"\") : ignoredChars;\n            ignoredCharsArray.sort(function(char1, char2) {\n                return char1.charCodeAt(0) - char2.charCodeAt(0);\n            });\n\n            /// Convert back to a string and remove duplicates\n            return ignoredCharsArray.join(\"\").replace(/(.)\\1+/g, \"$1\");\n        }\n\n        var defaultCaretCharacterOptions = {\n            includeBlockContentTrailingSpace: !trailingSpaceBeforeLineBreakInPreLineCollapses,\n            includeSpaceBeforeBr: !trailingSpaceBeforeBrCollapses,\n            includeSpaceBeforeBlock: !trailingSpaceBeforeBlockCollapses,\n            includePreLineTrailingSpace: true\n        };\n\n        var defaultWordOptions = {\n            \"en\": {\n                wordRegex: /[a-z0-9]+('[a-z0-9]+)*/gi,\n                includeTrailingSpace: false,\n                tokenizer: defaultTokenizer\n            }\n        };\n\n        var defaultFindOptions = {\n            caseSensitive: false,\n            withinRange: null,\n            wholeWordsOnly: false,\n            wrap: false,\n            direction: \"forward\",\n            wordOptions: null,\n            characterOptions: null\n        };\n\n        var defaultMoveOptions = {\n            wordOptions: null,\n            characterOptions: null\n        };\n\n        var defaultExpandOptions = {\n            wordOptions: null,\n            characterOptions: null,\n            trim: false,\n            trimStart: true,\n            trimEnd: true\n        };\n\n        var defaultWordIteratorOptions = {\n            wordOptions: null,\n            characterOptions: null,\n            direction: \"forward\"\n        };\n\n        function createWordOptions(options) {\n            var lang, defaults;\n            if (!options) {\n                return defaultWordOptions[defaultLanguage];\n            } else {\n                lang = options.language || defaultLanguage;\n                defaults = {};\n                extend(defaults, defaultWordOptions[lang] || defaultWordOptions[defaultLanguage]);\n                extend(defaults, options);\n                return defaults;\n            }\n        }\n\n        function createNestedOptions(optionsParam, defaults) {\n            var options = createOptions(optionsParam, defaults);\n            if (defaults.hasOwnProperty(\"wordOptions\")) {\n                options.wordOptions = createWordOptions(options.wordOptions);\n            }\n            if (defaults.hasOwnProperty(\"characterOptions\")) {\n                options.characterOptions = createOptions(options.characterOptions, defaultCharacterOptions);\n            }\n            return options;\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        /* DOM utility functions */\n        var getComputedStyleProperty = dom.getComputedStyleProperty;\n\n        // Create cachable versions of DOM functions\n\n        // Test for old IE's incorrect display properties\n        var tableCssDisplayBlock;\n        (function() {\n            var table = document.createElement(\"table\");\n            var body = getBody(document);\n            body.appendChild(table);\n            tableCssDisplayBlock = (getComputedStyleProperty(table, \"display\") == \"block\");\n            body.removeChild(table);\n        })();\n\n        var defaultDisplayValueForTag = {\n            table: \"table\",\n            caption: \"table-caption\",\n            colgroup: \"table-column-group\",\n            col: \"table-column\",\n            thead: \"table-header-group\",\n            tbody: \"table-row-group\",\n            tfoot: \"table-footer-group\",\n            tr: \"table-row\",\n            td: \"table-cell\",\n            th: \"table-cell\"\n        };\n\n        // Corrects IE's \"block\" value for table-related elements\n        function getComputedDisplay(el, win) {\n            var display = getComputedStyleProperty(el, \"display\", win);\n            var tagName = el.tagName.toLowerCase();\n            return (display == \"block\" &&\n                    tableCssDisplayBlock &&\n                    defaultDisplayValueForTag.hasOwnProperty(tagName)) ?\n                defaultDisplayValueForTag[tagName] : display;\n        }\n\n        function isHidden(node) {\n            var ancestors = getAncestorsAndSelf(node);\n            for (var i = 0, len = ancestors.length; i < len; ++i) {\n                if (ancestors[i].nodeType == 1 && getComputedDisplay(ancestors[i]) == \"none\") {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n\n        function isVisibilityHiddenTextNode(textNode) {\n            var el;\n            return textNode.nodeType == 3 &&\n                (el = textNode.parentNode) &&\n                getComputedStyleProperty(el, \"visibility\") == \"hidden\";\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n    \n        // \"A block node is either an Element whose \"display\" property does not have\n        // resolved value \"inline\" or \"inline-block\" or \"inline-table\" or \"none\", or a\n        // Document, or a DocumentFragment.\"\n        function isBlockNode(node) {\n            return node &&\n                ((node.nodeType == 1 && !/^(inline(-block|-table)?|none)$/.test(getComputedDisplay(node))) ||\n                node.nodeType == 9 || node.nodeType == 11);\n        }\n\n        function getLastDescendantOrSelf(node) {\n            var lastChild = node.lastChild;\n            return lastChild ? getLastDescendantOrSelf(lastChild) : node;\n        }\n\n        function containsPositions(node) {\n            return dom.isCharacterDataNode(node) ||\n                !/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(node.nodeName);\n        }\n\n        function getAncestors(node) {\n            var ancestors = [];\n            while (node.parentNode) {\n                ancestors.unshift(node.parentNode);\n                node = node.parentNode;\n            }\n            return ancestors;\n        }\n\n        function getAncestorsAndSelf(node) {\n            return getAncestors(node).concat([node]);\n        }\n\n        function nextNodeDescendants(node) {\n            while (node && !node.nextSibling) {\n                node = node.parentNode;\n            }\n            if (!node) {\n                return null;\n            }\n            return node.nextSibling;\n        }\n\n        function nextNode(node, excludeChildren) {\n            if (!excludeChildren && node.hasChildNodes()) {\n                return node.firstChild;\n            }\n            return nextNodeDescendants(node);\n        }\n\n        function previousNode(node) {\n            var previous = node.previousSibling;\n            if (previous) {\n                node = previous;\n                while (node.hasChildNodes()) {\n                    node = node.lastChild;\n                }\n                return node;\n            }\n            var parent = node.parentNode;\n            if (parent && parent.nodeType == 1) {\n                return parent;\n            }\n            return null;\n        }\n\n        // Adpated from Aryeh's code.\n        // \"A whitespace node is either a Text node whose data is the empty string; or\n        // a Text node whose data consists only of one or more tabs (0x0009), line\n        // feeds (0x000A), carriage returns (0x000D), and/or spaces (0x0020), and whose\n        // parent is an Element whose resolved value for \"white-space\" is \"normal\" or\n        // \"nowrap\"; or a Text node whose data consists only of one or more tabs\n        // (0x0009), carriage returns (0x000D), and/or spaces (0x0020), and whose\n        // parent is an Element whose resolved value for \"white-space\" is \"pre-line\".\"\n        function isWhitespaceNode(node) {\n            if (!node || node.nodeType != 3) {\n                return false;\n            }\n            var text = node.data;\n            if (text === \"\") {\n                return true;\n            }\n            var parent = node.parentNode;\n            if (!parent || parent.nodeType != 1) {\n                return false;\n            }\n            var computedWhiteSpace = getComputedStyleProperty(node.parentNode, \"whiteSpace\");\n\n            return (/^[\\t\\n\\r ]+$/.test(text) && /^(normal|nowrap)$/.test(computedWhiteSpace)) ||\n                (/^[\\t\\r ]+$/.test(text) && computedWhiteSpace == \"pre-line\");\n        }\n\n        // Adpated from Aryeh's code.\n        // \"node is a collapsed whitespace node if the following algorithm returns\n        // true:\"\n        function isCollapsedWhitespaceNode(node) {\n            // \"If node's data is the empty string, return true.\"\n            if (node.data === \"\") {\n                return true;\n            }\n\n            // \"If node is not a whitespace node, return false.\"\n            if (!isWhitespaceNode(node)) {\n                return false;\n            }\n\n            // \"Let ancestor be node's parent.\"\n            var ancestor = node.parentNode;\n\n            // \"If ancestor is null, return true.\"\n            if (!ancestor) {\n                return true;\n            }\n\n            // \"If the \"display\" property of some ancestor of node has resolved value \"none\", return true.\"\n            if (isHidden(node)) {\n                return true;\n            }\n\n            return false;\n        }\n\n        function isCollapsedNode(node) {\n            var type = node.nodeType;\n            return type == 7 /* PROCESSING_INSTRUCTION */ ||\n                type == 8 /* COMMENT */ ||\n                isHidden(node) ||\n                /^(script|style)$/i.test(node.nodeName) ||\n                isVisibilityHiddenTextNode(node) ||\n                isCollapsedWhitespaceNode(node);\n        }\n\n        function isIgnoredNode(node, win) {\n            var type = node.nodeType;\n            return type == 7 /* PROCESSING_INSTRUCTION */ ||\n                type == 8 /* COMMENT */ ||\n                (type == 1 && getComputedDisplay(node, win) == \"none\");\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Possibly overengineered caching system to prevent repeated DOM calls slowing everything down\n\n        function Cache() {\n            this.store = {};\n        }\n\n        Cache.prototype = {\n            get: function(key) {\n                return this.store.hasOwnProperty(key) ? this.store[key] : null;\n            },\n\n            set: function(key, value) {\n                return this.store[key] = value;\n            }\n        };\n\n        var cachedCount = 0, uncachedCount = 0;\n\n        function createCachingGetter(methodName, func, objProperty) {\n            return function(args) {\n                var cache = this.cache;\n                if (cache.hasOwnProperty(methodName)) {\n                    cachedCount++;\n                    return cache[methodName];\n                } else {\n                    uncachedCount++;\n                    var value = func.call(this, objProperty ? this[objProperty] : this, args);\n                    cache[methodName] = value;\n                    return value;\n                }\n            };\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        function NodeWrapper(node, session) {\n            this.node = node;\n            this.session = session;\n            this.cache = new Cache();\n            this.positions = new Cache();\n        }\n\n        var nodeProto = {\n            getPosition: function(offset) {\n                var positions = this.positions;\n                return positions.get(offset) || positions.set(offset, new Position(this, offset));\n            },\n\n            toString: function() {\n                return \"[NodeWrapper(\" + dom.inspectNode(this.node) + \")]\";\n            }\n        };\n\n        NodeWrapper.prototype = nodeProto;\n\n        var EMPTY = \"EMPTY\",\n            NON_SPACE = \"NON_SPACE\",\n            UNCOLLAPSIBLE_SPACE = \"UNCOLLAPSIBLE_SPACE\",\n            COLLAPSIBLE_SPACE = \"COLLAPSIBLE_SPACE\",\n            TRAILING_SPACE_BEFORE_BLOCK = \"TRAILING_SPACE_BEFORE_BLOCK\",\n            TRAILING_SPACE_IN_BLOCK = \"TRAILING_SPACE_IN_BLOCK\",\n            TRAILING_SPACE_BEFORE_BR = \"TRAILING_SPACE_BEFORE_BR\",\n            PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK = \"PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK\",\n            TRAILING_LINE_BREAK_AFTER_BR = \"TRAILING_LINE_BREAK_AFTER_BR\",\n            INCLUDED_TRAILING_LINE_BREAK_AFTER_BR = \"INCLUDED_TRAILING_LINE_BREAK_AFTER_BR\";\n\n        extend(nodeProto, {\n            isCharacterDataNode: createCachingGetter(\"isCharacterDataNode\", dom.isCharacterDataNode, \"node\"),\n            getNodeIndex: createCachingGetter(\"nodeIndex\", dom.getNodeIndex, \"node\"),\n            getLength: createCachingGetter(\"nodeLength\", dom.getNodeLength, \"node\"),\n            containsPositions: createCachingGetter(\"containsPositions\", containsPositions, \"node\"),\n            isWhitespace: createCachingGetter(\"isWhitespace\", isWhitespaceNode, \"node\"),\n            isCollapsedWhitespace: createCachingGetter(\"isCollapsedWhitespace\", isCollapsedWhitespaceNode, \"node\"),\n            getComputedDisplay: createCachingGetter(\"computedDisplay\", getComputedDisplay, \"node\"),\n            isCollapsed: createCachingGetter(\"collapsed\", isCollapsedNode, \"node\"),\n            isIgnored: createCachingGetter(\"ignored\", isIgnoredNode, \"node\"),\n            next: createCachingGetter(\"nextPos\", nextNode, \"node\"),\n            previous: createCachingGetter(\"previous\", previousNode, \"node\"),\n\n            getTextNodeInfo: createCachingGetter(\"textNodeInfo\", function(textNode) {\n                var spaceRegex = null, collapseSpaces = false;\n                var cssWhitespace = getComputedStyleProperty(textNode.parentNode, \"whiteSpace\");\n                var preLine = (cssWhitespace == \"pre-line\");\n                if (preLine) {\n                    spaceRegex = spacesMinusLineBreaksRegex;\n                    collapseSpaces = true;\n                } else if (cssWhitespace == \"normal\" || cssWhitespace == \"nowrap\") {\n                    spaceRegex = spacesRegex;\n                    collapseSpaces = true;\n                }\n\n                return {\n                    node: textNode,\n                    text: textNode.data,\n                    spaceRegex: spaceRegex,\n                    collapseSpaces: collapseSpaces,\n                    preLine: preLine\n                };\n            }, \"node\"),\n\n            hasInnerText: createCachingGetter(\"hasInnerText\", function(el, backward) {\n                var session = this.session;\n                var posAfterEl = session.getPosition(el.parentNode, this.getNodeIndex() + 1);\n                var firstPosInEl = session.getPosition(el, 0);\n\n                var pos = backward ? posAfterEl : firstPosInEl;\n                var endPos = backward ? firstPosInEl : posAfterEl;\n\n                /*\n                 <body><p>X  </p><p>Y</p></body>\n\n                 Positions:\n\n                 body:0:\"\"\n                 p:0:\"\"\n                 text:0:\"\"\n                 text:1:\"X\"\n                 text:2:TRAILING_SPACE_IN_BLOCK\n                 text:3:COLLAPSED_SPACE\n                 p:1:\"\"\n                 body:1:\"\\n\"\n                 p:0:\"\"\n                 text:0:\"\"\n                 text:1:\"Y\"\n\n                 A character is a TRAILING_SPACE_IN_BLOCK iff:\n\n                 - There is no uncollapsed character after it within the visible containing block element\n\n                 A character is a TRAILING_SPACE_BEFORE_BR iff:\n\n                 - There is no uncollapsed character after it preceding a <br> element\n\n                 An element has inner text iff\n\n                 - It is not hidden\n                 - It contains an uncollapsed character\n\n                 All trailing spaces (pre-line, before <br>, end of block) require definite non-empty characters to render.\n                 */\n\n                while (pos !== endPos) {\n                    pos.prepopulateChar();\n                    if (pos.isDefinitelyNonEmpty()) {\n                        return true;\n                    }\n                    pos = backward ? pos.previousVisible() : pos.nextVisible();\n                }\n\n                return false;\n            }, \"node\"),\n\n            isRenderedBlock: createCachingGetter(\"isRenderedBlock\", function(el) {\n                // Ensure that a block element containing a <br> is considered to have inner text\n                var brs = el.getElementsByTagName(\"br\");\n                for (var i = 0, len = brs.length; i < len; ++i) {\n                    if (!isCollapsedNode(brs[i])) {\n                        return true;\n                    }\n                }\n                return this.hasInnerText();\n            }, \"node\"),\n\n            getTrailingSpace: createCachingGetter(\"trailingSpace\", function(el) {\n                if (el.tagName.toLowerCase() == \"br\") {\n                    return \"\";\n                } else {\n                    switch (this.getComputedDisplay()) {\n                        case \"inline\":\n                            var child = el.lastChild;\n                            while (child) {\n                                if (!isIgnoredNode(child)) {\n                                    return (child.nodeType == 1) ? this.session.getNodeWrapper(child).getTrailingSpace() : \"\";\n                                }\n                                child = child.previousSibling;\n                            }\n                            break;\n                        case \"inline-block\":\n                        case \"inline-table\":\n                        case \"none\":\n                        case \"table-column\":\n                        case \"table-column-group\":\n                            break;\n                        case \"table-cell\":\n                            return \"\\t\";\n                        default:\n                            return this.isRenderedBlock(true) ? \"\\n\" : \"\";\n                    }\n                }\n                return \"\";\n            }, \"node\"),\n\n            getLeadingSpace: createCachingGetter(\"leadingSpace\", function(el) {\n                switch (this.getComputedDisplay()) {\n                    case \"inline\":\n                    case \"inline-block\":\n                    case \"inline-table\":\n                    case \"none\":\n                    case \"table-column\":\n                    case \"table-column-group\":\n                    case \"table-cell\":\n                        break;\n                    default:\n                        return this.isRenderedBlock(false) ? \"\\n\" : \"\";\n                }\n                return \"\";\n            }, \"node\")\n        });\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        function Position(nodeWrapper, offset) {\n            this.offset = offset;\n            this.nodeWrapper = nodeWrapper;\n            this.node = nodeWrapper.node;\n            this.session = nodeWrapper.session;\n            this.cache = new Cache();\n        }\n\n        function inspectPosition() {\n            return \"[Position(\" + dom.inspectNode(this.node) + \":\" + this.offset + \")]\";\n        }\n\n        var positionProto = {\n            character: \"\",\n            characterType: EMPTY,\n            isBr: false,\n\n            /*\n            This method:\n            - Fully populates positions that have characters that can be determined independently of any other characters.\n            - Populates most types of space positions with a provisional character. The character is finalized later.\n             */\n            prepopulateChar: function() {\n                var pos = this;\n                if (!pos.prepopulatedChar) {\n                    var node = pos.node, offset = pos.offset;\n                    var visibleChar = \"\", charType = EMPTY;\n                    var finalizedChar = false;\n                    if (offset > 0) {\n                        if (node.nodeType == 3) {\n                            var text = node.data;\n                            var textChar = text.charAt(offset - 1);\n\n                            var nodeInfo = pos.nodeWrapper.getTextNodeInfo();\n                            var spaceRegex = nodeInfo.spaceRegex;\n                            if (nodeInfo.collapseSpaces) {\n                                if (spaceRegex.test(textChar)) {\n                                    // \"If the character at position is from set, append a single space (U+0020) to newdata and advance\n                                    // position until the character at position is not from set.\"\n\n                                    // We also need to check for the case where we're in a pre-line and we have a space preceding a\n                                    // line break, because such spaces are collapsed in some browsers\n                                    if (offset > 1 && spaceRegex.test(text.charAt(offset - 2))) {\n                                    } else if (nodeInfo.preLine && text.charAt(offset) === \"\\n\") {\n                                        visibleChar = \" \";\n                                        charType = PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK;\n                                    } else {\n                                        visibleChar = \" \";\n                                        //pos.checkForFollowingLineBreak = true;\n                                        charType = COLLAPSIBLE_SPACE;\n                                    }\n                                } else {\n                                    visibleChar = textChar;\n                                    charType = NON_SPACE;\n                                    finalizedChar = true;\n                                }\n                            } else {\n                                visibleChar = textChar;\n                                charType = UNCOLLAPSIBLE_SPACE;\n                                finalizedChar = true;\n                            }\n                        } else {\n                            var nodePassed = node.childNodes[offset - 1];\n                            if (nodePassed && nodePassed.nodeType == 1 && !isCollapsedNode(nodePassed)) {\n                                if (nodePassed.tagName.toLowerCase() == \"br\") {\n                                    visibleChar = \"\\n\";\n                                    pos.isBr = true;\n                                    charType = COLLAPSIBLE_SPACE;\n                                    finalizedChar = false;\n                                } else {\n                                    pos.checkForTrailingSpace = true;\n                                }\n                            }\n\n                            // Check the leading space of the next node for the case when a block element follows an inline\n                            // element or text node. In that case, there is an implied line break between the two nodes.\n                            if (!visibleChar) {\n                                var nextNode = node.childNodes[offset];\n                                if (nextNode && nextNode.nodeType == 1 && !isCollapsedNode(nextNode)) {\n                                    pos.checkForLeadingSpace = true;\n                                }\n                            }\n                        }\n                    }\n\n                    pos.prepopulatedChar = true;\n                    pos.character = visibleChar;\n                    pos.characterType = charType;\n                    pos.isCharInvariant = finalizedChar;\n                }\n            },\n\n            isDefinitelyNonEmpty: function() {\n                var charType = this.characterType;\n                return charType == NON_SPACE || charType == UNCOLLAPSIBLE_SPACE;\n            },\n\n            // Resolve leading and trailing spaces, which may involve prepopulating other positions\n            resolveLeadingAndTrailingSpaces: function() {\n                if (!this.prepopulatedChar) {\n                    this.prepopulateChar();\n                }\n                if (this.checkForTrailingSpace) {\n                    var trailingSpace = this.session.getNodeWrapper(this.node.childNodes[this.offset - 1]).getTrailingSpace();\n                    if (trailingSpace) {\n                        this.isTrailingSpace = true;\n                        this.character = trailingSpace;\n                        this.characterType = COLLAPSIBLE_SPACE;\n                    }\n                    this.checkForTrailingSpace = false;\n                }\n                if (this.checkForLeadingSpace) {\n                    var leadingSpace = this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();\n                    if (leadingSpace) {\n                        this.isLeadingSpace = true;\n                        this.character = leadingSpace;\n                        this.characterType = COLLAPSIBLE_SPACE;\n                    }\n                    this.checkForLeadingSpace = false;\n                }\n            },\n\n            getPrecedingUncollapsedPosition: function(characterOptions) {\n                var pos = this, character;\n                while ( (pos = pos.previousVisible()) ) {\n                    character = pos.getCharacter(characterOptions);\n                    if (character !== \"\") {\n                        return pos;\n                    }\n                }\n\n                return null;\n            },\n\n            getCharacter: function(characterOptions) {\n                this.resolveLeadingAndTrailingSpaces();\n\n                var thisChar = this.character, returnChar;\n\n                // Check if character is ignored\n                var ignoredChars = normalizeIgnoredCharacters(characterOptions.ignoreCharacters);\n                var isIgnoredCharacter = (thisChar !== \"\" && ignoredChars.indexOf(thisChar) > -1);\n\n                // Check if this position's  character is invariant (i.e. not dependent on character options) and return it\n                // if so\n                if (this.isCharInvariant) {\n                    returnChar = isIgnoredCharacter ? \"\" : thisChar;\n                    return returnChar;\n                }\n\n                var cacheKey = [\"character\", characterOptions.includeSpaceBeforeBr, characterOptions.includeBlockContentTrailingSpace, characterOptions.includePreLineTrailingSpace, ignoredChars].join(\"_\");\n                var cachedChar = this.cache.get(cacheKey);\n                if (cachedChar !== null) {\n                    return cachedChar;\n                }\n\n                // We need to actually get the character now\n                var character = \"\";\n                var collapsible = (this.characterType == COLLAPSIBLE_SPACE);\n\n                var nextPos, previousPos;\n                var gotPreviousPos = false;\n                var pos = this;\n\n                function getPreviousPos() {\n                    if (!gotPreviousPos) {\n                        previousPos = pos.getPrecedingUncollapsedPosition(characterOptions);\n                        gotPreviousPos = true;\n                    }\n                    return previousPos;\n                }\n\n                // Disallow a collapsible space that is followed by a line break or is the last character\n                if (collapsible) {\n                    // Allow a trailing space that we've previously determined should be included\n                    if (this.type == INCLUDED_TRAILING_LINE_BREAK_AFTER_BR) {\n                        character = \"\\n\";\n                    }\n                    // Disallow a collapsible space that follows a trailing space or line break, or is the first character,\n                    // or follows a collapsible included space\n                    else if (thisChar == \" \" &&\n                            (!getPreviousPos() || previousPos.isTrailingSpace || previousPos.character == \"\\n\" || (previousPos.character == \" \" && previousPos.characterType == COLLAPSIBLE_SPACE))) {\n                    }\n                    // Allow a leading line break unless it follows a line break\n                    else if (thisChar == \"\\n\" && this.isLeadingSpace) {\n                        if (getPreviousPos() && previousPos.character != \"\\n\") {\n                            character = \"\\n\";\n                        } else {\n                        }\n                    } else {\n                        nextPos = this.nextUncollapsed();\n                        if (nextPos) {\n                            if (nextPos.isBr) {\n                                this.type = TRAILING_SPACE_BEFORE_BR;\n                            } else if (nextPos.isTrailingSpace && nextPos.character == \"\\n\") {\n                                this.type = TRAILING_SPACE_IN_BLOCK;\n                            } else if (nextPos.isLeadingSpace && nextPos.character == \"\\n\") {\n                                this.type = TRAILING_SPACE_BEFORE_BLOCK;\n                            }\n\n                            if (nextPos.character == \"\\n\") {\n                                if (this.type == TRAILING_SPACE_BEFORE_BR && !characterOptions.includeSpaceBeforeBr) {\n                                } else if (this.type == TRAILING_SPACE_BEFORE_BLOCK && !characterOptions.includeSpaceBeforeBlock) {\n                                } else if (this.type == TRAILING_SPACE_IN_BLOCK && nextPos.isTrailingSpace && !characterOptions.includeBlockContentTrailingSpace) {\n                                } else if (this.type == PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK && nextPos.type == NON_SPACE && !characterOptions.includePreLineTrailingSpace) {\n                                } else if (thisChar == \"\\n\") {\n                                    if (nextPos.isTrailingSpace) {\n                                        if (this.isTrailingSpace) {\n                                        } else if (this.isBr) {\n                                            nextPos.type = TRAILING_LINE_BREAK_AFTER_BR;\n\n                                            if (getPreviousPos() && previousPos.isLeadingSpace && !previousPos.isTrailingSpace && previousPos.character == \"\\n\") {\n                                                nextPos.character = \"\";\n                                            } else {\n                                                nextPos.type = INCLUDED_TRAILING_LINE_BREAK_AFTER_BR;\n                                            }\n                                        }\n                                    } else {\n                                        character = \"\\n\";\n                                    }\n                                } else if (thisChar == \" \") {\n                                    character = \" \";\n                                } else {\n                                }\n                            } else {\n                                character = thisChar;\n                            }\n                        } else {\n                        }\n                    }\n                }\n\n                if (ignoredChars.indexOf(character) > -1) {\n                    character = \"\";\n                }\n\n\n                this.cache.set(cacheKey, character);\n\n                return character;\n            },\n\n            equals: function(pos) {\n                return !!pos && this.node === pos.node && this.offset === pos.offset;\n            },\n\n            inspect: inspectPosition,\n\n            toString: function() {\n                return this.character;\n            }\n        };\n\n        Position.prototype = positionProto;\n\n        extend(positionProto, {\n            next: createCachingGetter(\"nextPos\", function(pos) {\n                var nodeWrapper = pos.nodeWrapper, node = pos.node, offset = pos.offset, session = nodeWrapper.session;\n                if (!node) {\n                    return null;\n                }\n                var nextNode, nextOffset, child;\n                if (offset == nodeWrapper.getLength()) {\n                    // Move onto the next node\n                    nextNode = node.parentNode;\n                    nextOffset = nextNode ? nodeWrapper.getNodeIndex() + 1 : 0;\n                } else {\n                    if (nodeWrapper.isCharacterDataNode()) {\n                        nextNode = node;\n                        nextOffset = offset + 1;\n                    } else {\n                        child = node.childNodes[offset];\n                        // Go into the children next, if children there are\n                        if (session.getNodeWrapper(child).containsPositions()) {\n                            nextNode = child;\n                            nextOffset = 0;\n                        } else {\n                            nextNode = node;\n                            nextOffset = offset + 1;\n                        }\n                    }\n                }\n\n                return nextNode ? session.getPosition(nextNode, nextOffset) : null;\n            }),\n\n            previous: createCachingGetter(\"previous\", function(pos) {\n                var nodeWrapper = pos.nodeWrapper, node = pos.node, offset = pos.offset, session = nodeWrapper.session;\n                var previousNode, previousOffset, child;\n                if (offset == 0) {\n                    previousNode = node.parentNode;\n                    previousOffset = previousNode ? nodeWrapper.getNodeIndex() : 0;\n                } else {\n                    if (nodeWrapper.isCharacterDataNode()) {\n                        previousNode = node;\n                        previousOffset = offset - 1;\n                    } else {\n                        child = node.childNodes[offset - 1];\n                        // Go into the children next, if children there are\n                        if (session.getNodeWrapper(child).containsPositions()) {\n                            previousNode = child;\n                            previousOffset = dom.getNodeLength(child);\n                        } else {\n                            previousNode = node;\n                            previousOffset = offset - 1;\n                        }\n                    }\n                }\n                return previousNode ? session.getPosition(previousNode, previousOffset) : null;\n            }),\n\n            /*\n             Next and previous position moving functions that filter out\n\n             - Hidden (CSS visibility/display) elements\n             - Script and style elements\n             */\n            nextVisible: createCachingGetter(\"nextVisible\", function(pos) {\n                var next = pos.next();\n                if (!next) {\n                    return null;\n                }\n                var nodeWrapper = next.nodeWrapper, node = next.node;\n                var newPos = next;\n                if (nodeWrapper.isCollapsed()) {\n                    // We're skipping this node and all its descendants\n                    newPos = nodeWrapper.session.getPosition(node.parentNode, nodeWrapper.getNodeIndex() + 1);\n                }\n                return newPos;\n            }),\n\n            nextUncollapsed: createCachingGetter(\"nextUncollapsed\", function(pos) {\n                var nextPos = pos;\n                while ( (nextPos = nextPos.nextVisible()) ) {\n                    nextPos.resolveLeadingAndTrailingSpaces();\n                    if (nextPos.character !== \"\") {\n                        return nextPos;\n                    }\n                }\n                return null;\n            }),\n\n            previousVisible: createCachingGetter(\"previousVisible\", function(pos) {\n                var previous = pos.previous();\n                if (!previous) {\n                    return null;\n                }\n                var nodeWrapper = previous.nodeWrapper, node = previous.node;\n                var newPos = previous;\n                if (nodeWrapper.isCollapsed()) {\n                    // We're skipping this node and all its descendants\n                    newPos = nodeWrapper.session.getPosition(node.parentNode, nodeWrapper.getNodeIndex());\n                }\n                return newPos;\n            })\n        });\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        var currentSession = null;\n\n        var Session = (function() {\n            function createWrapperCache(nodeProperty) {\n                var cache = new Cache();\n\n                return {\n                    get: function(node) {\n                        var wrappersByProperty = cache.get(node[nodeProperty]);\n                        if (wrappersByProperty) {\n                            for (var i = 0, wrapper; wrapper = wrappersByProperty[i++]; ) {\n                                if (wrapper.node === node) {\n                                    return wrapper;\n                                }\n                            }\n                        }\n                        return null;\n                    },\n\n                    set: function(nodeWrapper) {\n                        var property = nodeWrapper.node[nodeProperty];\n                        var wrappersByProperty = cache.get(property) || cache.set(property, []);\n                        wrappersByProperty.push(nodeWrapper);\n                    }\n                };\n            }\n\n            var uniqueIDSupported = util.isHostProperty(document.documentElement, \"uniqueID\");\n\n            function Session() {\n                this.initCaches();\n            }\n\n            Session.prototype = {\n                initCaches: function() {\n                    this.elementCache = uniqueIDSupported ? (function() {\n                        var elementsCache = new Cache();\n\n                        return {\n                            get: function(el) {\n                                return elementsCache.get(el.uniqueID);\n                            },\n\n                            set: function(elWrapper) {\n                                elementsCache.set(elWrapper.node.uniqueID, elWrapper);\n                            }\n                        };\n                    })() : createWrapperCache(\"tagName\");\n\n                    // Store text nodes keyed by data, although we may need to truncate this\n                    this.textNodeCache = createWrapperCache(\"data\");\n                    this.otherNodeCache = createWrapperCache(\"nodeName\");\n                },\n\n                getNodeWrapper: function(node) {\n                    var wrapperCache;\n                    switch (node.nodeType) {\n                        case 1:\n                            wrapperCache = this.elementCache;\n                            break;\n                        case 3:\n                            wrapperCache = this.textNodeCache;\n                            break;\n                        default:\n                            wrapperCache = this.otherNodeCache;\n                            break;\n                    }\n\n                    var wrapper = wrapperCache.get(node);\n                    if (!wrapper) {\n                        wrapper = new NodeWrapper(node, this);\n                        wrapperCache.set(wrapper);\n                    }\n                    return wrapper;\n                },\n\n                getPosition: function(node, offset) {\n                    return this.getNodeWrapper(node).getPosition(offset);\n                },\n\n                getRangeBoundaryPosition: function(range, isStart) {\n                    var prefix = isStart ? \"start\" : \"end\";\n                    return this.getPosition(range[prefix + \"Container\"], range[prefix + \"Offset\"]);\n                },\n\n                detach: function() {\n                    this.elementCache = this.textNodeCache = this.otherNodeCache = null;\n                }\n            };\n\n            return Session;\n        })();\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        function startSession() {\n            endSession();\n            return (currentSession = new Session());\n        }\n\n        function getSession() {\n            return currentSession || startSession();\n        }\n\n        function endSession() {\n            if (currentSession) {\n                currentSession.detach();\n            }\n            currentSession = null;\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Extensions to the rangy.dom utility object\n\n        extend(dom, {\n            nextNode: nextNode,\n            previousNode: previousNode\n        });\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        function createCharacterIterator(startPos, backward, endPos, characterOptions) {\n\n            // Adjust the end position to ensure that it is actually reached\n            if (endPos) {\n                if (backward) {\n                    if (isCollapsedNode(endPos.node)) {\n                        endPos = startPos.previousVisible();\n                    }\n                } else {\n                    if (isCollapsedNode(endPos.node)) {\n                        endPos = endPos.nextVisible();\n                    }\n                }\n            }\n\n            var pos = startPos, finished = false;\n\n            function next() {\n                var charPos = null;\n                if (backward) {\n                    charPos = pos;\n                    if (!finished) {\n                        pos = pos.previousVisible();\n                        finished = !pos || (endPos && pos.equals(endPos));\n                    }\n                } else {\n                    if (!finished) {\n                        charPos = pos = pos.nextVisible();\n                        finished = !pos || (endPos && pos.equals(endPos));\n                    }\n                }\n                if (finished) {\n                    pos = null;\n                }\n                return charPos;\n            }\n\n            var previousTextPos, returnPreviousTextPos = false;\n\n            return {\n                next: function() {\n                    if (returnPreviousTextPos) {\n                        returnPreviousTextPos = false;\n                        return previousTextPos;\n                    } else {\n                        var pos, character;\n                        while ( (pos = next()) ) {\n                            character = pos.getCharacter(characterOptions);\n                            if (character) {\n                                previousTextPos = pos;\n                                return pos;\n                            }\n                        }\n                        return null;\n                    }\n                },\n\n                rewind: function() {\n                    if (previousTextPos) {\n                        returnPreviousTextPos = true;\n                    } else {\n                        throw module.createError(\"createCharacterIterator: cannot rewind. Only one position can be rewound.\");\n                    }\n                },\n\n                dispose: function() {\n                    startPos = endPos = null;\n                }\n            };\n        }\n\n        var arrayIndexOf = Array.prototype.indexOf ?\n            function(arr, val) {\n                return arr.indexOf(val);\n            } :\n            function(arr, val) {\n                for (var i = 0, len = arr.length; i < len; ++i) {\n                    if (arr[i] === val) {\n                        return i;\n                    }\n                }\n                return -1;\n            };\n\n        // Provides a pair of iterators over text positions, tokenized. Transparently requests more text when next()\n        // is called and there is no more tokenized text\n        function createTokenizedTextProvider(pos, characterOptions, wordOptions) {\n            var forwardIterator = createCharacterIterator(pos, false, null, characterOptions);\n            var backwardIterator = createCharacterIterator(pos, true, null, characterOptions);\n            var tokenizer = wordOptions.tokenizer;\n\n            // Consumes a word and the whitespace beyond it\n            function consumeWord(forward) {\n                var pos, textChar;\n                var newChars = [], it = forward ? forwardIterator : backwardIterator;\n\n                var passedWordBoundary = false, insideWord = false;\n\n                while ( (pos = it.next()) ) {\n                    textChar = pos.character;\n\n\n                    if (allWhiteSpaceRegex.test(textChar)) {\n                        if (insideWord) {\n                            insideWord = false;\n                            passedWordBoundary = true;\n                        }\n                    } else {\n                        if (passedWordBoundary) {\n                            it.rewind();\n                            break;\n                        } else {\n                            insideWord = true;\n                        }\n                    }\n                    newChars.push(pos);\n                }\n\n\n                return newChars;\n            }\n\n            // Get initial word surrounding initial position and tokenize it\n            var forwardChars = consumeWord(true);\n            var backwardChars = consumeWord(false).reverse();\n            var tokens = tokenize(backwardChars.concat(forwardChars), wordOptions, tokenizer);\n\n            // Create initial token buffers\n            var forwardTokensBuffer = forwardChars.length ?\n                tokens.slice(arrayIndexOf(tokens, forwardChars[0].token)) : [];\n\n            var backwardTokensBuffer = backwardChars.length ?\n                tokens.slice(0, arrayIndexOf(tokens, backwardChars.pop().token) + 1) : [];\n\n            function inspectBuffer(buffer) {\n                var textPositions = [\"[\" + buffer.length + \"]\"];\n                for (var i = 0; i < buffer.length; ++i) {\n                    textPositions.push(\"(word: \" + buffer[i] + \", is word: \" + buffer[i].isWord + \")\");\n                }\n                return textPositions;\n            }\n\n\n            return {\n                nextEndToken: function() {\n                    var lastToken, forwardChars;\n\n                    // If we're down to the last token, consume character chunks until we have a word or run out of\n                    // characters to consume\n                    while ( forwardTokensBuffer.length == 1 &&\n                        !(lastToken = forwardTokensBuffer[0]).isWord &&\n                        (forwardChars = consumeWord(true)).length > 0) {\n\n                        // Merge trailing non-word into next word and tokenize\n                        forwardTokensBuffer = tokenize(lastToken.chars.concat(forwardChars), wordOptions, tokenizer);\n                    }\n\n                    return forwardTokensBuffer.shift();\n                },\n\n                previousStartToken: function() {\n                    var lastToken, backwardChars;\n\n                    // If we're down to the last token, consume character chunks until we have a word or run out of\n                    // characters to consume\n                    while ( backwardTokensBuffer.length == 1 &&\n                        !(lastToken = backwardTokensBuffer[0]).isWord &&\n                        (backwardChars = consumeWord(false)).length > 0) {\n\n                        // Merge leading non-word into next word and tokenize\n                        backwardTokensBuffer = tokenize(backwardChars.reverse().concat(lastToken.chars), wordOptions, tokenizer);\n                    }\n\n                    return backwardTokensBuffer.pop();\n                },\n\n                dispose: function() {\n                    forwardIterator.dispose();\n                    backwardIterator.dispose();\n                    forwardTokensBuffer = backwardTokensBuffer = null;\n                }\n            };\n        }\n\n        function movePositionBy(pos, unit, count, characterOptions, wordOptions) {\n            var unitsMoved = 0, currentPos, newPos = pos, charIterator, nextPos, absCount = Math.abs(count), token;\n            if (count !== 0) {\n                var backward = (count < 0);\n\n                switch (unit) {\n                    case CHARACTER:\n                        charIterator = createCharacterIterator(pos, backward, null, characterOptions);\n                        while ( (currentPos = charIterator.next()) && unitsMoved < absCount ) {\n                            ++unitsMoved;\n                            newPos = currentPos;\n                        }\n                        nextPos = currentPos;\n                        charIterator.dispose();\n                        break;\n                    case WORD:\n                        var tokenizedTextProvider = createTokenizedTextProvider(pos, characterOptions, wordOptions);\n                        var next = backward ? tokenizedTextProvider.previousStartToken : tokenizedTextProvider.nextEndToken;\n\n                        while ( (token = next()) && unitsMoved < absCount ) {\n                            if (token.isWord) {\n                                ++unitsMoved;\n                                newPos = backward ? token.chars[0] : token.chars[token.chars.length - 1];\n                            }\n                        }\n                        break;\n                    default:\n                        throw new Error(\"movePositionBy: unit '\" + unit + \"' not implemented\");\n                }\n\n                // Perform any necessary position tweaks\n                if (backward) {\n                    newPos = newPos.previousVisible();\n                    unitsMoved = -unitsMoved;\n                } else if (newPos && newPos.isLeadingSpace && !newPos.isTrailingSpace) {\n                    // Tweak the position for the case of a leading space. The problem is that an uncollapsed leading space\n                    // before a block element (for example, the line break between \"1\" and \"2\" in the following HTML:\n                    // \"1<p>2</p>\") is considered to be attached to the position immediately before the block element, which\n                    // corresponds with a different selection position in most browsers from the one we want (i.e. at the\n                    // start of the contents of the block element). We get round this by advancing the position returned to\n                    // the last possible equivalent visible position.\n                    if (unit == WORD) {\n                        charIterator = createCharacterIterator(pos, false, null, characterOptions);\n                        nextPos = charIterator.next();\n                        charIterator.dispose();\n                    }\n                    if (nextPos) {\n                        newPos = nextPos.previousVisible();\n                    }\n                }\n            }\n\n\n            return {\n                position: newPos,\n                unitsMoved: unitsMoved\n            };\n        }\n\n        function createRangeCharacterIterator(session, range, characterOptions, backward) {\n            var rangeStart = session.getRangeBoundaryPosition(range, true);\n            var rangeEnd = session.getRangeBoundaryPosition(range, false);\n            var itStart = backward ? rangeEnd : rangeStart;\n            var itEnd = backward ? rangeStart : rangeEnd;\n\n            return createCharacterIterator(itStart, !!backward, itEnd, characterOptions);\n        }\n\n        function getRangeCharacters(session, range, characterOptions) {\n\n            var chars = [], it = createRangeCharacterIterator(session, range, characterOptions), pos;\n            while ( (pos = it.next()) ) {\n                chars.push(pos);\n            }\n\n            it.dispose();\n            return chars;\n        }\n\n        function isWholeWord(startPos, endPos, wordOptions) {\n            var range = api.createRange(startPos.node);\n            range.setStartAndEnd(startPos.node, startPos.offset, endPos.node, endPos.offset);\n            return !range.expand(\"word\", { wordOptions: wordOptions });\n        }\n\n        function findTextFromPosition(initialPos, searchTerm, isRegex, searchScopeRange, findOptions) {\n            var backward = isDirectionBackward(findOptions.direction);\n            var it = createCharacterIterator(\n                initialPos,\n                backward,\n                initialPos.session.getRangeBoundaryPosition(searchScopeRange, backward),\n                findOptions.characterOptions\n            );\n            var text = \"\", chars = [], pos, currentChar, matchStartIndex, matchEndIndex;\n            var result, insideRegexMatch;\n            var returnValue = null;\n\n            function handleMatch(startIndex, endIndex) {\n                var startPos = chars[startIndex].previousVisible();\n                var endPos = chars[endIndex - 1];\n                var valid = (!findOptions.wholeWordsOnly || isWholeWord(startPos, endPos, findOptions.wordOptions));\n\n                return {\n                    startPos: startPos,\n                    endPos: endPos,\n                    valid: valid\n                };\n            }\n\n            while ( (pos = it.next()) ) {\n                currentChar = pos.character;\n                if (!isRegex && !findOptions.caseSensitive) {\n                    currentChar = currentChar.toLowerCase();\n                }\n\n                if (backward) {\n                    chars.unshift(pos);\n                    text = currentChar + text;\n                } else {\n                    chars.push(pos);\n                    text += currentChar;\n                }\n\n                if (isRegex) {\n                    result = searchTerm.exec(text);\n                    if (result) {\n                        matchStartIndex = result.index;\n                        matchEndIndex = matchStartIndex + result[0].length;\n                        if (insideRegexMatch) {\n                            // Check whether the match is now over\n                            if ((!backward && matchEndIndex < text.length) || (backward && matchStartIndex > 0)) {\n                                returnValue = handleMatch(matchStartIndex, matchEndIndex);\n                                break;\n                            }\n                        } else {\n                            insideRegexMatch = true;\n                        }\n                    }\n                } else if ( (matchStartIndex = text.indexOf(searchTerm)) != -1 ) {\n                    returnValue = handleMatch(matchStartIndex, matchStartIndex + searchTerm.length);\n                    break;\n                }\n            }\n\n            // Check whether regex match extends to the end of the range\n            if (insideRegexMatch) {\n                returnValue = handleMatch(matchStartIndex, matchEndIndex);\n            }\n            it.dispose();\n\n            return returnValue;\n        }\n\n        function createEntryPointFunction(func) {\n            return function() {\n                var sessionRunning = !!currentSession;\n                var session = getSession();\n                var args = [session].concat( util.toArray(arguments) );\n                var returnValue = func.apply(this, args);\n                if (!sessionRunning) {\n                    endSession();\n                }\n                return returnValue;\n            };\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Extensions to the Rangy Range object\n\n        function createRangeBoundaryMover(isStart, collapse) {\n            /*\n             Unit can be \"character\" or \"word\"\n             Options:\n\n             - includeTrailingSpace\n             - wordRegex\n             - tokenizer\n             - collapseSpaceBeforeLineBreak\n             */\n            return createEntryPointFunction(\n                function(session, unit, count, moveOptions) {\n                    if (typeof count == UNDEF) {\n                        count = unit;\n                        unit = CHARACTER;\n                    }\n                    moveOptions = createNestedOptions(moveOptions, defaultMoveOptions);\n\n                    var boundaryIsStart = isStart;\n                    if (collapse) {\n                        boundaryIsStart = (count >= 0);\n                        this.collapse(!boundaryIsStart);\n                    }\n                    var moveResult = movePositionBy(session.getRangeBoundaryPosition(this, boundaryIsStart), unit, count, moveOptions.characterOptions, moveOptions.wordOptions);\n                    var newPos = moveResult.position;\n                    this[boundaryIsStart ? \"setStart\" : \"setEnd\"](newPos.node, newPos.offset);\n                    return moveResult.unitsMoved;\n                }\n            );\n        }\n\n        function createRangeTrimmer(isStart) {\n            return createEntryPointFunction(\n                function(session, characterOptions) {\n                    characterOptions = createOptions(characterOptions, defaultCharacterOptions);\n                    var pos;\n                    var it = createRangeCharacterIterator(session, this, characterOptions, !isStart);\n                    var trimCharCount = 0;\n                    while ( (pos = it.next()) && allWhiteSpaceRegex.test(pos.character) ) {\n                        ++trimCharCount;\n                    }\n                    it.dispose();\n                    var trimmed = (trimCharCount > 0);\n                    if (trimmed) {\n                        this[isStart ? \"moveStart\" : \"moveEnd\"](\n                            \"character\",\n                            isStart ? trimCharCount : -trimCharCount,\n                            { characterOptions: characterOptions }\n                        );\n                    }\n                    return trimmed;\n                }\n            );\n        }\n\n        extend(api.rangePrototype, {\n            moveStart: createRangeBoundaryMover(true, false),\n\n            moveEnd: createRangeBoundaryMover(false, false),\n\n            move: createRangeBoundaryMover(true, true),\n\n            trimStart: createRangeTrimmer(true),\n\n            trimEnd: createRangeTrimmer(false),\n\n            trim: createEntryPointFunction(\n                function(session, characterOptions) {\n                    var startTrimmed = this.trimStart(characterOptions), endTrimmed = this.trimEnd(characterOptions);\n                    return startTrimmed || endTrimmed;\n                }\n            ),\n\n            expand: createEntryPointFunction(\n                function(session, unit, expandOptions) {\n                    var moved = false;\n                    expandOptions = createNestedOptions(expandOptions, defaultExpandOptions);\n                    var characterOptions = expandOptions.characterOptions;\n                    if (!unit) {\n                        unit = CHARACTER;\n                    }\n                    if (unit == WORD) {\n                        var wordOptions = expandOptions.wordOptions;\n                        var startPos = session.getRangeBoundaryPosition(this, true);\n                        var endPos = session.getRangeBoundaryPosition(this, false);\n\n                        var startTokenizedTextProvider = createTokenizedTextProvider(startPos, characterOptions, wordOptions);\n                        var startToken = startTokenizedTextProvider.nextEndToken();\n                        var newStartPos = startToken.chars[0].previousVisible();\n                        var endToken, newEndPos;\n\n                        if (this.collapsed) {\n                            endToken = startToken;\n                        } else {\n                            var endTokenizedTextProvider = createTokenizedTextProvider(endPos, characterOptions, wordOptions);\n                            endToken = endTokenizedTextProvider.previousStartToken();\n                        }\n                        newEndPos = endToken.chars[endToken.chars.length - 1];\n\n                        if (!newStartPos.equals(startPos)) {\n                            this.setStart(newStartPos.node, newStartPos.offset);\n                            moved = true;\n                        }\n                        if (newEndPos && !newEndPos.equals(endPos)) {\n                            this.setEnd(newEndPos.node, newEndPos.offset);\n                            moved = true;\n                        }\n\n                        if (expandOptions.trim) {\n                            if (expandOptions.trimStart) {\n                                moved = this.trimStart(characterOptions) || moved;\n                            }\n                            if (expandOptions.trimEnd) {\n                                moved = this.trimEnd(characterOptions) || moved;\n                            }\n                        }\n\n                        return moved;\n                    } else {\n                        return this.moveEnd(CHARACTER, 1, expandOptions);\n                    }\n                }\n            ),\n\n            text: createEntryPointFunction(\n                function(session, characterOptions) {\n                    return this.collapsed ?\n                        \"\" : getRangeCharacters(session, this, createOptions(characterOptions, defaultCharacterOptions)).join(\"\");\n                }\n            ),\n\n            selectCharacters: createEntryPointFunction(\n                function(session, containerNode, startIndex, endIndex, characterOptions) {\n                    var moveOptions = { characterOptions: characterOptions };\n                    if (!containerNode) {\n                        containerNode = getBody( this.getDocument() );\n                    }\n                    this.selectNodeContents(containerNode);\n                    this.collapse(true);\n                    this.moveStart(\"character\", startIndex, moveOptions);\n                    this.collapse(true);\n                    this.moveEnd(\"character\", endIndex - startIndex, moveOptions);\n                }\n            ),\n\n            // Character indexes are relative to the start of node\n            toCharacterRange: createEntryPointFunction(\n                function(session, containerNode, characterOptions) {\n                    if (!containerNode) {\n                        containerNode = getBody( this.getDocument() );\n                    }\n                    var parent = containerNode.parentNode, nodeIndex = dom.getNodeIndex(containerNode);\n                    var rangeStartsBeforeNode = (dom.comparePoints(this.startContainer, this.endContainer, parent, nodeIndex) == -1);\n                    var rangeBetween = this.cloneRange();\n                    var startIndex, endIndex;\n                    if (rangeStartsBeforeNode) {\n                        rangeBetween.setStartAndEnd(this.startContainer, this.startOffset, parent, nodeIndex);\n                        startIndex = -rangeBetween.text(characterOptions).length;\n                    } else {\n                        rangeBetween.setStartAndEnd(parent, nodeIndex, this.startContainer, this.startOffset);\n                        startIndex = rangeBetween.text(characterOptions).length;\n                    }\n                    endIndex = startIndex + this.text(characterOptions).length;\n\n                    return {\n                        start: startIndex,\n                        end: endIndex\n                    };\n                }\n            ),\n\n            findText: createEntryPointFunction(\n                function(session, searchTermParam, findOptions) {\n                    // Set up options\n                    findOptions = createNestedOptions(findOptions, defaultFindOptions);\n\n                    // Create word options if we're matching whole words only\n                    if (findOptions.wholeWordsOnly) {\n                        // We don't ever want trailing spaces for search results\n                        findOptions.wordOptions.includeTrailingSpace = false;\n                    }\n\n                    var backward = isDirectionBackward(findOptions.direction);\n\n                    // Create a range representing the search scope if none was provided\n                    var searchScopeRange = findOptions.withinRange;\n                    if (!searchScopeRange) {\n                        searchScopeRange = api.createRange();\n                        searchScopeRange.selectNodeContents(this.getDocument());\n                    }\n\n                    // Examine and prepare the search term\n                    var searchTerm = searchTermParam, isRegex = false;\n                    if (typeof searchTerm == \"string\") {\n                        if (!findOptions.caseSensitive) {\n                            searchTerm = searchTerm.toLowerCase();\n                        }\n                    } else {\n                        isRegex = true;\n                    }\n\n                    var initialPos = session.getRangeBoundaryPosition(this, !backward);\n\n                    // Adjust initial position if it lies outside the search scope\n                    var comparison = searchScopeRange.comparePoint(initialPos.node, initialPos.offset);\n\n                    if (comparison === -1) {\n                        initialPos = session.getRangeBoundaryPosition(searchScopeRange, true);\n                    } else if (comparison === 1) {\n                        initialPos = session.getRangeBoundaryPosition(searchScopeRange, false);\n                    }\n\n                    var pos = initialPos;\n                    var wrappedAround = false;\n\n                    // Try to find a match and ignore invalid ones\n                    var findResult;\n                    while (true) {\n                        findResult = findTextFromPosition(pos, searchTerm, isRegex, searchScopeRange, findOptions);\n\n                        if (findResult) {\n                            if (findResult.valid) {\n                                this.setStartAndEnd(findResult.startPos.node, findResult.startPos.offset, findResult.endPos.node, findResult.endPos.offset);\n                                return true;\n                            } else {\n                                // We've found a match that is not a whole word, so we carry on searching from the point immediately\n                                // after the match\n                                pos = backward ? findResult.startPos : findResult.endPos;\n                            }\n                        } else if (findOptions.wrap && !wrappedAround) {\n                            // No result found but we're wrapping around and limiting the scope to the unsearched part of the range\n                            searchScopeRange = searchScopeRange.cloneRange();\n                            pos = session.getRangeBoundaryPosition(searchScopeRange, !backward);\n                            searchScopeRange.setBoundary(initialPos.node, initialPos.offset, backward);\n                            wrappedAround = true;\n                        } else {\n                            // Nothing found and we can't wrap around, so we're done\n                            return false;\n                        }\n                    }\n                }\n            ),\n\n            pasteHtml: function(html) {\n                this.deleteContents();\n                if (html) {\n                    var frag = this.createContextualFragment(html);\n                    var lastChild = frag.lastChild;\n                    this.insertNode(frag);\n                    this.collapseAfter(lastChild);\n                }\n            }\n        });\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Extensions to the Rangy Selection object\n\n        function createSelectionTrimmer(methodName) {\n            return createEntryPointFunction(\n                function(session, characterOptions) {\n                    var trimmed = false;\n                    this.changeEachRange(function(range) {\n                        trimmed = range[methodName](characterOptions) || trimmed;\n                    });\n                    return trimmed;\n                }\n            );\n        }\n\n        extend(api.selectionPrototype, {\n            expand: createEntryPointFunction(\n                function(session, unit, expandOptions) {\n                    this.changeEachRange(function(range) {\n                        range.expand(unit, expandOptions);\n                    });\n                }\n            ),\n\n            move: createEntryPointFunction(\n                function(session, unit, count, options) {\n                    var unitsMoved = 0;\n                    if (this.focusNode) {\n                        this.collapse(this.focusNode, this.focusOffset);\n                        var range = this.getRangeAt(0);\n                        if (!options) {\n                            options = {};\n                        }\n                        options.characterOptions = createOptions(options.characterOptions, defaultCaretCharacterOptions);\n                        unitsMoved = range.move(unit, count, options);\n                        this.setSingleRange(range);\n                    }\n                    return unitsMoved;\n                }\n            ),\n\n            trimStart: createSelectionTrimmer(\"trimStart\"),\n            trimEnd: createSelectionTrimmer(\"trimEnd\"),\n            trim: createSelectionTrimmer(\"trim\"),\n\n            selectCharacters: createEntryPointFunction(\n                function(session, containerNode, startIndex, endIndex, direction, characterOptions) {\n                    var range = api.createRange(containerNode);\n                    range.selectCharacters(containerNode, startIndex, endIndex, characterOptions);\n                    this.setSingleRange(range, direction);\n                }\n            ),\n\n            saveCharacterRanges: createEntryPointFunction(\n                function(session, containerNode, characterOptions) {\n                    var ranges = this.getAllRanges(), rangeCount = ranges.length;\n                    var rangeInfos = [];\n\n                    var backward = rangeCount == 1 && this.isBackward();\n\n                    for (var i = 0, len = ranges.length; i < len; ++i) {\n                        rangeInfos[i] = {\n                            characterRange: ranges[i].toCharacterRange(containerNode, characterOptions),\n                            backward: backward,\n                            characterOptions: characterOptions\n                        };\n                    }\n\n                    return rangeInfos;\n                }\n            ),\n\n            restoreCharacterRanges: createEntryPointFunction(\n                function(session, containerNode, saved) {\n                    this.removeAllRanges();\n                    for (var i = 0, len = saved.length, range, rangeInfo, characterRange; i < len; ++i) {\n                        rangeInfo = saved[i];\n                        characterRange = rangeInfo.characterRange;\n                        range = api.createRange(containerNode);\n                        range.selectCharacters(containerNode, characterRange.start, characterRange.end, rangeInfo.characterOptions);\n                        this.addRange(range, rangeInfo.backward);\n                    }\n                }\n            ),\n\n            text: createEntryPointFunction(\n                function(session, characterOptions) {\n                    var rangeTexts = [];\n                    for (var i = 0, len = this.rangeCount; i < len; ++i) {\n                        rangeTexts[i] = this.getRangeAt(i).text(characterOptions);\n                    }\n                    return rangeTexts.join(\"\");\n                }\n            )\n        });\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Extensions to the core rangy object\n\n        api.innerText = function(el, characterOptions) {\n            var range = api.createRange(el);\n            range.selectNodeContents(el);\n            var text = range.text(characterOptions);\n            return text;\n        };\n\n        api.createWordIterator = function(startNode, startOffset, iteratorOptions) {\n            var session = getSession();\n            iteratorOptions = createNestedOptions(iteratorOptions, defaultWordIteratorOptions);\n            var startPos = session.getPosition(startNode, startOffset);\n            var tokenizedTextProvider = createTokenizedTextProvider(startPos, iteratorOptions.characterOptions, iteratorOptions.wordOptions);\n            var backward = isDirectionBackward(iteratorOptions.direction);\n\n            return {\n                next: function() {\n                    return backward ? tokenizedTextProvider.previousStartToken() : tokenizedTextProvider.nextEndToken();\n                },\n\n                dispose: function() {\n                    tokenizedTextProvider.dispose();\n                    this.next = function() {};\n                }\n            };\n        };\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        api.noMutation = function(func) {\n            var session = getSession();\n            func(session);\n            endSession();\n        };\n\n        api.noMutation.createEntryPointFunction = createEntryPointFunction;\n\n        api.textRange = {\n            isBlockNode: isBlockNode,\n            isCollapsedWhitespaceNode: isCollapsedWhitespaceNode,\n\n            createPosition: createEntryPointFunction(\n                function(session, node, offset) {\n                    return session.getPosition(node, offset);\n                }\n            )\n        };\n    });\n    \n    return rangy;\n}, this);","import * as config from \"trix/config\"\n\nimport { triggerEvent } from \"event_helpers\"\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nimport rangy from \"rangy\"\nimport \"rangy/lib/rangy-textrange\"\nimport { nextFrame } from \"./timing_helpers\"\n\nwindow.rangy = rangy\n\nconst keyCodes = {}\nfor (const code in config.keyNames) {\n  const name = config.keyNames[code]\n  keyCodes[name] = code\n}\n\nconst keys = {\n  left: \"ArrowLeft\",\n  right: \"ArrowRight\",\n}\n\nexport const moveCursor = async (options) => {\n  let direction, times\n  if (typeof options === \"string\") {\n    direction = options\n  } else {\n    times = options.times\n    direction = options.direction\n  }\n\n  if (!times) times = 1\n\n  const move = async () => {\n    await nextFrame()\n\n    if (triggerEvent(document.activeElement, \"keydown\", { keyCode: keyCodes[direction], key: keys[direction] })) {\n      const selection = rangy.getSelection()\n      selection.move(\"character\", direction === \"right\" ? 1 : -1)\n      selectionChangeObserver.update()\n    }\n\n    if (--times === 0) {\n      await nextFrame()\n      return getCursorCoordinates()\n    } else {\n      return move()\n    }\n  }\n  return await move()\n}\n\nexport const expandSelection = async (options) => {\n  await nextFrame()\n\n  let direction, times\n  if (typeof options === \"string\") {\n    direction = options\n  } else {\n    ({ direction } = options)\n    times = options.times\n  }\n\n  if (!times) times = 1\n\n  const expand = async () => {\n    await nextFrame()\n\n    if (triggerEvent(document.activeElement, \"keydown\", { keyCode: keyCodes[direction], key: keys[direction], shiftKey: true })) {\n      getComposition().expandSelectionInDirection(direction === \"left\" ? \"backward\" : \"forward\")\n    }\n\n    if (--times === 0) {\n      await nextFrame()\n    } else {\n      return await expand()\n    }\n  }\n\n  return await expand()\n}\n\nexport const collapseSelection = async (direction) => {\n  const selection = rangy.getSelection()\n  if (direction === \"left\") {\n    selection.collapseToStart()\n  } else {\n    selection.collapseToEnd()\n  }\n  selectionChangeObserver.update()\n  await nextFrame()\n}\n\nexport const selectAll = async () => {\n  rangy.getSelection().selectAllChildren(document.activeElement)\n  selectionChangeObserver.update()\n  await nextFrame()\n}\n\nexport const deleteSelection = () => {\n  const selection = rangy.getSelection()\n  selection.getRangeAt(0).deleteContents()\n  selectionChangeObserver.update()\n}\n\nexport const selectionIsCollapsed = () => rangy.getSelection().isCollapsed\n\nexport const insertNode = async (node) => {\n  const selection = rangy.getSelection()\n  const range = selection.getRangeAt(0)\n  range.splitBoundaries()\n  range.insertNode(node)\n  range.setStartAfter(node)\n  range.deleteContents()\n  selection.setSingleRange(range)\n  selectionChangeObserver.update()\n\n  await nextFrame()\n}\n\nexport const selectNode = async (node) => {\n  const selection = rangy.getSelection()\n  selection.selectAllChildren(node)\n  selectionChangeObserver.update()\n}\n\nexport const createDOMRangeFromPoint = function (px, py) {\n  if (document.caretPositionFromPoint) {\n    const { offsetNode, offset } = document.caretPositionFromPoint(px, py)\n    const domRange = document.createRange()\n    domRange.setStart(offsetNode, offset)\n    return domRange\n  } else if (document.caretRangeFromPoint) {\n    return document.caretRangeFromPoint(px, py)\n  }\n}\n\nconst getCursorCoordinates = () => {\n  const rect = window.getSelection().getRangeAt(0).getClientRects()[0]\n  if (rect) {\n    return {\n      clientX: rect.left,\n      clientY: rect.top + rect.height / 2,\n    }\n  }\n}\n","import * as config from \"trix/config\"\nimport { delay, nextFrame } from \"./timing_helpers\"\nimport { triggerEvent } from \"./event_helpers\"\nimport {\n  collapseSelection,\n  createDOMRangeFromPoint,\n  deleteSelection,\n  insertNode,\n  selectNode,\n  selectionIsCollapsed,\n} from \"./selection_helpers\"\n\nconst keyCodes = {}\n\nObject.keys(config.keyNames).forEach(code => {\n  const name = config.keyNames[code]\n  keyCodes[name] = code\n})\n\nconst isIE = /Windows.*Trident/.test(navigator.userAgent)\n\nexport const triggerInputEvent = function (element, type, properties = {}) {\n  if (config.input.getLevel() === 2) {\n    let ranges\n    if (properties.ranges) {\n      ({ ranges } = properties)\n      delete properties.ranges\n    } else {\n      ranges = []\n      const selection = window.getSelection()\n      if (selection.rangeCount > 0) {\n        ranges.push(selection.getRangeAt(0).cloneRange())\n      }\n    }\n    properties.getTargetRanges = () => ranges\n    triggerEvent(element, type, properties)\n  }\n}\n\nexport const pasteContent = async (contentType, value) => {\n  let data\n\n  if (typeof contentType === \"object\") {\n    data = contentType\n  } else {\n    data = { [contentType]: value }\n  }\n\n  const testClipboardData = {\n    getData: (type) => data[type],\n    types: Object.keys(data),\n    items: Object.values(data),\n  }\n\n  if (testClipboardData.types.includes(\"Files\")) {\n    testClipboardData.files = testClipboardData.items\n  }\n\n  triggerInputEvent(document.activeElement, \"beforeinput\", {\n    inputType: \"insertFromPaste\",\n    dataTransfer: testClipboardData,\n  })\n\n  triggerEvent(document.activeElement, \"paste\", { testClipboardData })\n\n  await nextFrame()\n}\n\nexport const createFile = function (properties = {}) {\n  const file = {\n    getAsFile() {\n      return {}\n    },\n  }\n  for (const key in properties) {\n    const value = properties[key]\n    file[key] = value\n  }\n  return file\n}\n\nexport const typeCharacters = async (string) => {\n  const characters = Array.isArray(string) ? string : string.split(\"\")\n\n  const typeNextCharacter = async () => {\n    await delay(10)\n    const character = characters.shift()\n    if (character == null) return\n\n    switch (character) {\n      case \"\\n\":\n        await pressKey(\"return\")\n        await typeNextCharacter()\n        break\n      case \"\\b\":\n        await pressKey(\"backspace\")\n        await typeNextCharacter()\n        break\n      default:\n        await typeCharacterInElement(character, document.activeElement)\n        await typeNextCharacter()\n    }\n  }\n\n  await typeNextCharacter()\n  await delay(10)\n}\n\nexport const pressKey = async (keyName) => {\n  const element = document.activeElement\n  const code = keyCodes[keyName]\n  const properties = { which: code, keyCode: code, charCode: 0, key: capitalize(keyName) }\n\n  if (!triggerEvent(element, \"keydown\", properties)) return\n\n  await simulateKeypress(keyName)\n  await nextFrame()\n\n  triggerEvent(element, \"keyup\", properties)\n  await nextFrame()\n}\n\nexport const startComposition = async (data) => {\n  const element = document.activeElement\n  triggerEvent(element, \"compositionstart\", { data: \"\" })\n  triggerInputEvent(element, \"beforeinput\", { inputType: \"insertCompositionText\", data })\n  triggerEvent(element, \"compositionupdate\", { data })\n  triggerEvent(element, \"input\")\n\n  const node = document.createTextNode(data)\n  insertNode(node)\n  await selectNode(node)\n}\n\nexport const updateComposition = async (data) => {\n  const element = document.activeElement\n  triggerInputEvent(element, \"beforeinput\", { inputType: \"insertCompositionText\", data })\n  triggerEvent(element, \"compositionupdate\", { data })\n  triggerEvent(element, \"input\")\n\n  const node = document.createTextNode(data)\n  insertNode(node)\n  await selectNode(node)\n}\n\nexport const endComposition = async (data) => {\n  const element = document.activeElement\n  triggerInputEvent(element, \"beforeinput\", { inputType: \"insertCompositionText\", data })\n  triggerEvent(element, \"compositionupdate\", { data })\n\n  const node = document.createTextNode(data)\n  insertNode(node)\n  selectNode(node)\n  await collapseSelection(\"right\")\n\n  triggerEvent(element, \"input\")\n  triggerEvent(element, \"compositionend\", { data })\n\n  await nextFrame()\n}\n\nexport const clickElement = async (element) => {\n  if (triggerEvent(element, \"mousedown\")) {\n    await nextFrame()\n\n    if (triggerEvent(element, \"mouseup\")) {\n      await nextFrame()\n      triggerEvent(element, \"click\")\n      await nextFrame()\n    }\n  }\n}\n\nexport const dragToCoordinates = async (coordinates) => {\n  const element = document.activeElement\n\n  // IE only allows writing \"text\" to DataTransfer\n  // https://msdn.microsoft.com/en-us/library/ms536744(v=vs.85).aspx\n  const dataTransfer = {\n    files: [],\n    data: {},\n    getData(format) {\n      if (isIE && format.toLowerCase() !== \"text\") {\n        throw new Error(\"Invalid argument.\")\n      } else {\n        this.data[format]\n        return true\n      }\n    },\n    setData(format, data) {\n      if (isIE && format.toLowerCase() !== \"text\") {\n        throw new Error(\"Unexpected call to method or property access.\")\n      } else {\n        this.data[format] = data\n      }\n    },\n  }\n\n  triggerEvent(element, \"mousemove\")\n\n  const dragstartData = { dataTransfer }\n  triggerEvent(element, \"dragstart\", dragstartData)\n  triggerInputEvent(element, \"beforeinput\", { inputType: \"deleteByDrag\" })\n\n  const dropData = { dataTransfer }\n  for (const key in coordinates) {\n    const value = coordinates[key]\n    dropData[key] = value\n  }\n  triggerEvent(element, \"drop\", dropData)\n\n  const { clientX, clientY } = coordinates\n  const domRange = createDOMRangeFromPoint(clientX, clientY)\n  triggerInputEvent(element, \"beforeinput\", { inputType: \"insertFromDrop\", ranges: [ domRange ] })\n\n  await nextFrame()\n}\n\nexport const mouseDownOnElementAndMove = async (element, distance) => {\n  const coordinates = getElementCoordinates(element)\n  triggerEvent(element, \"mousedown\", coordinates)\n\n  const destination = (offset) => ({\n    clientX: coordinates.clientX + offset,\n    clientY: coordinates.clientY + offset,\n  })\n\n  const dragSpeed = 20\n  await delay(dragSpeed)\n\n  let offset = 0\n  const drag = async () => {\n    if (++offset <= distance) {\n      triggerEvent(element, \"mousemove\", destination(offset))\n      await delay(dragSpeed)\n      drag()\n    } else {\n      triggerEvent(element, \"mouseup\", destination(distance))\n      await delay(dragSpeed)\n    }\n  }\n\n  drag()\n}\n\nconst typeCharacterInElement = async (character, element) => {\n  const charCode = character.charCodeAt(0)\n  const keyCode = character.toUpperCase().charCodeAt(0)\n\n  if (!triggerEvent(element, \"keydown\", { keyCode, charCode: 0 })) return\n\n  await nextFrame()\n\n  if (!triggerEvent(element, \"keypress\", { keyCode: charCode, charCode })) return\n\n  triggerInputEvent(element, \"beforeinput\", { inputType: \"insertText\", data: character })\n\n  await insertCharacter(character)\n  triggerEvent(element, \"input\")\n  await nextFrame()\n\n  triggerEvent(element, \"keyup\", { keyCode, charCode: 0 })\n}\n\nconst insertCharacter = async (character) => {\n  const node = document.createTextNode(character)\n  await insertNode(node)\n}\n\nconst simulateKeypress = async (keyName) => {\n  switch (keyName) {\n    case \"backspace\":\n      await deleteInDirection(\"left\")\n      break\n    case \"delete\":\n      await deleteInDirection(\"right\")\n      break\n    case \"return\":\n      triggerInputEvent(document.activeElement, \"beforeinput\", { inputType: \"insertParagraph\" })\n      break\n  }\n}\n\nconst deleteInDirection = async (direction) => {\n  if (selectionIsCollapsed()) {\n    getComposition().expandSelectionInDirection(direction === \"left\" ? \"backward\" : \"forward\")\n    await nextFrame()\n\n    const inputType = direction === \"left\" ? \"deleteContentBackward\" : \"deleteContentForward\"\n    triggerInputEvent(document.activeElement, \"beforeinput\", { inputType })\n\n    await nextFrame()\n    deleteSelection()\n  } else {\n    triggerInputEvent(document.activeElement, \"beforeinput\", { inputType: \"deleteContentBackward\" })\n    deleteSelection()\n  }\n}\n\nconst getElementCoordinates = function (element) {\n  const rect = element.getBoundingClientRect()\n  return {\n    clientX: rect.left + rect.width / 2,\n    clientY: rect.top + rect.height / 2,\n  }\n}\n\nconst capitalize = (string) => string.charAt(0).toUpperCase() + string.slice(1)\n","import { TEST_IMAGE_URL } from \"test/test_helpers/fixtures/test_image_url\"\nimport Attachment from \"trix/models/attachment\"\n\nexport const insertString = function (string) {\n  getComposition().insertString(string)\n  render()\n}\n\nexport const insertText = function (text) {\n  getComposition().insertText(text)\n  render()\n}\n\nexport const insertDocument = function (document) {\n  getComposition().insertDocument(document)\n  render()\n}\n\nexport const insertFile = function (file) {\n  getComposition().insertFile(file)\n  render()\n}\n\nexport const insertAttachment = function (attachment) {\n  getComposition().insertAttachment(attachment)\n  render()\n}\n\nexport const insertAttachments = function (attachments) {\n  getComposition().insertAttachments(attachments)\n  render()\n}\n\nexport const insertImageAttachment = function (attributes) {\n  const attachment = createImageAttachment(attributes)\n  return insertAttachment(attachment)\n}\n\nexport const createImageAttachment = function (attributes) {\n  if (!attributes) {\n    attributes = {\n      url: TEST_IMAGE_URL,\n      width: 10,\n      height: 10,\n      filename: \"image.gif\",\n      filesize: 35,\n      contentType: \"image/gif\",\n    }\n  }\n\n  return new Attachment(attributes)\n}\n\nexport const replaceDocument = function (document) {\n  getComposition().setDocument(document)\n  render()\n}\n\n\nconst render = () => getEditorController().render()\n","import { triggerEvent } from \"./event_helpers\"\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\nimport { delay, nextFrame } from \"./timing_helpers\"\n\nexport const clickToolbarButton = async (selector) => {\n  selectionChangeObserver.update()\n  const button = getToolbarButton(selector)\n  triggerEvent(button, \"mousedown\")\n  await delay(5)\n}\n\nexport const typeToolbarKeyCommand = async (selector) => {\n  const button = getToolbarButton(selector)\n  const { trixKey } = button.dataset\n  if (trixKey) {\n    const keyCode = trixKey.toUpperCase().charCodeAt(0)\n    triggerEvent(getEditorElement(), \"keydown\", { keyCode, charCode: 0, metaKey: true, ctrlKey: true })\n  }\n  await nextFrame()\n}\n\nexport const clickToolbarDialogButton = async ({ method }) => {\n  const button = getToolbarElement().querySelector(`[data-trix-dialog] [data-trix-method='${method}']`)\n  triggerEvent(button, \"click\")\n  await nextFrame()\n}\n\nexport const isToolbarButtonActive = function (selector) {\n  const button = getToolbarButton(selector)\n  return button.hasAttribute(\"data-trix-active\") && button.classList.contains(\"trix-active\")\n}\n\nexport const isToolbarButtonDisabled = (selector) => getToolbarButton(selector).disabled\n\nexport const typeInToolbarDialog = async (string, { attribute }) => {\n  const dialog = getToolbarDialog({ attribute })\n  const input = dialog.querySelector(`[data-trix-input][name='${attribute}']`)\n  const button = dialog.querySelector(\"[data-trix-method='setAttribute']\")\n  input.value = string\n  triggerEvent(button, \"click\")\n  await nextFrame()\n}\n\nexport const isToolbarDialogActive = function (selector) {\n  const dialog = getToolbarDialog(selector)\n  return dialog.hasAttribute(\"data-trix-active\") && dialog.classList.contains(\"trix-active\")\n}\n\nconst getToolbarButton = ({ attribute, action }) =>\n  getToolbarElement().querySelector(`[data-trix-attribute='${attribute}'], [data-trix-action='${action}']`)\n\nconst getToolbarDialog = ({ attribute, action }) => getToolbarElement().querySelector(`[data-trix-dialog='${attribute}']`)\n","import Trix from \"trix/trix\"\n\nexport * from \"trix/core/helpers/functions\"\nexport * from \"trix/core/helpers/global\"\nexport * from \"./test_helpers/event_helpers\"\nexport * from \"./test_helpers/assertions\"\nexport * from \"./test_helpers/test_helpers\"\nexport * from \"./test_helpers/test_stubs\"\nexport * from \"./test_helpers/functions\"\nexport * from \"./test_helpers/fixtures/fixtures\"\nexport * from \"./test_helpers/event_helpers\"\nexport * from \"./test_helpers/input_helpers\"\nexport * from \"./test_helpers/editor_helpers\"\nexport * from \"./test_helpers/toolbar_helpers\"\nexport * from \"./test_helpers/selection_helpers\"\n\nwindow.Trix = Trix\nTrix.config.undo.interval = 0\n\nQUnit.config.hidepassed = true\nQUnit.config.testTimeout = 20000\n\ndocument.head.insertAdjacentHTML(\n  \"beforeend\",\n  `<style type=\"text/css\">\n    #trix-container { height: 150px; }\n    trix-toolbar { margin-bottom: 10px; }\n    trix-toolbar button { border: 1px solid #ccc; background: #fff; }\n    trix-toolbar button.active { background: #d3e6fd; }\n    trix-toolbar button:disabled { color: #ccc; }\n    #qunit { position: relative !important; }\n  </style>`\n)\n","import { assert, test, testGroup } from \"test/test_helper\"\nimport Attachment from \"trix/models/attachment\"\n\ntestGroup(\"Attachment\", () => {\n  const previewableTypes = \"image image/gif image/png image/jpg image/webp\".split(\" \")\n  const nonPreviewableTypes = \"image/tiff application/foo\".split(\" \")\n\n  const createAttachment = (attributes) => new Attachment(attributes)\n\n  previewableTypes.forEach((contentType) => {\n    test(`${contentType} content type is previewable`, () => {\n      assert.ok(createAttachment({ contentType }).isPreviewable())\n    })\n  })\n\n  nonPreviewableTypes.forEach((contentType) => {\n    test(`${contentType} content type is NOT previewable`, () => {\n      assert.notOk(createAttachment({ contentType }).isPreviewable())\n    })\n  })\n\n  test(\"'previewable' attribute determines previewability\", () => {\n    let attrs = { previewable: true, contentType: nonPreviewableTypes[0] }\n    assert.ok(createAttachment(attrs).isPreviewable())\n\n    attrs = { previewable: false, contentType: previewableTypes[0] }\n    assert.notOk(createAttachment(attrs).isPreviewable())\n  })\n})\n","import { assert, test, testGroup } from \"test/test_helper\"\nimport { getDirection } from \"trix/core/helpers\"\n\ntestGroup(\"BIDI\", () => {\n  test(\"detects text direction\", () => {\n    assert.equal(getDirection(\"abc\"), \"ltr\")\n    assert.equal(getDirection(\"אבג\"), \"rtl\")\n  })\n})\n","import { assert, test, testGroup } from \"test/test_helper\"\n\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\n\ntestGroup(\"Block\", () => {\n  test(\"consolidating blocks creates text with one blockBreak piece\", () => {\n    const blockA = new Block(Text.textForStringWithAttributes(\"a\"))\n    const blockB = new Block(Text.textForStringWithAttributes(\"b\"))\n    const consolidatedBlock = blockA.consolidateWith(blockB)\n    const pieces = consolidatedBlock.text.getPieces()\n\n    assert.equal(pieces.length, 2, JSON.stringify(pieces))\n    assert.deepEqual(pieces[0].getAttributes(), {})\n    assert.deepEqual(pieces[1].getAttributes(), { blockBreak: true })\n    assert.equal(consolidatedBlock.toString(), \"a\\nb\\n\")\n  })\n\n  test(\"consolidating empty blocks creates text with one blockBreak piece\", () => {\n    const consolidatedBlock = new Block().consolidateWith(new Block())\n    const pieces = consolidatedBlock.text.getPieces()\n\n    assert.equal(pieces.length, 2, JSON.stringify(pieces))\n    assert.deepEqual(pieces[0].getAttributes(), {})\n    assert.deepEqual(pieces[1].getAttributes(), { blockBreak: true })\n    assert.equal(consolidatedBlock.toString(), \"\\n\\n\")\n  })\n})\n","import { assert, test, testGroup } from \"test/test_helper\"\n\nimport Composition from \"trix/models/composition\"\nimport { TestCompositionDelegate } from \"test/test_helpers/test_stubs\"\n\nlet composition = null\nconst setup = () => {\n  composition = new Composition()\n  composition.delegate = new TestCompositionDelegate()\n}\n\ntestGroup(\"Composition\", { setup }, () =>\n  test(\"deleteInDirection respects UTF-16 character boundaries\", () => {\n    composition.insertString(\"abc😭\")\n    composition.deleteInDirection(\"backward\")\n    composition.insertString(\"d\")\n    assert.equal(composition.document.toString(), \"abcd\\n\")\n  })\n)\n","import { assert, test, testGroup } from \"test/test_helper\"\n\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport Attachment from \"trix/models/attachment\"\nimport Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\n\ntestGroup(\"Document\", () => {\n  const createDocumentWithAttachment = function (attachment) {\n    const text = Text.textForAttachmentWithAttributes(attachment)\n    return new Document([ new Block(text) ])\n  }\n\n  test(\"documents with different attachments are not equal\", () => {\n    const aDoc = createDocumentWithAttachment(new Attachment({ url: \"a\" }))\n    const bDoc = createDocumentWithAttachment(new Attachment({ url: \"b\" }))\n    assert.notOk(aDoc.isEqualTo(bDoc))\n  })\n\n  test(\"getStringAtRange does not leak trailing block breaks\", () => {\n    const document = Document.fromString(\"Hey\")\n    assert.equal(document.getStringAtRange([ 0, 0 ]), \"\")\n    assert.equal(document.getStringAtRange([ 0, 1 ]), \"H\")\n    assert.equal(document.getStringAtRange([ 0, 2 ]), \"He\")\n    assert.equal(document.getStringAtRange([ 0, 3 ]), \"Hey\")\n    assert.equal(document.getStringAtRange([ 0, 4 ]), \"Hey\\n\")\n  })\n\n  test(\"findRangesForTextAttribute\", () => {\n    const document = HTMLParser.parse(\n      `\n      <div>Hello <strong>world, <em>this</em> is</strong> a <strong>test</strong>.<br></div>\n    `\n    ).getDocument()\n    assert.deepEqual(document.findRangesForTextAttribute(\"bold\"), [\n      [ 6, 20 ],\n      [ 23, 27 ],\n    ])\n    assert.deepEqual(document.findRangesForTextAttribute(\"italic\"), [ [ 13, 17 ] ])\n    assert.deepEqual(document.findRangesForTextAttribute(\"href\"), [])\n  })\n\n  test(\"findRangesForTextAttribute withValue\", () => {\n    const document = HTMLParser.parse(\n      `\n      <div>Hello <a href=\"http://google.com/\">world, <em>this</em> is</a> a <a href=\"http://basecamp.com/\">test</a>.<br></div>\n    `\n    ).getDocument()\n    assert.deepEqual(document.findRangesForTextAttribute(\"href\"), [\n      [ 6, 20 ],\n      [ 23, 27 ],\n    ])\n    assert.deepEqual(document.findRangesForTextAttribute(\"href\", { withValue: \"http://google.com/\" }), [ [ 6, 20 ] ])\n    assert.deepEqual(document.findRangesForTextAttribute(\"href\", { withValue: \"http://basecamp.com/\" }), [ [ 23, 27 ] ])\n    assert.deepEqual(document.findRangesForTextAttribute(\"href\", { withValue: \"http://amazon.com/\" }), [])\n  })\n})\n","import { assert, eachFixture, test, testGroup } from \"test/test_helper\"\n\ntestGroup(\"DocumentView\", () => {\n  eachFixture((name, details) => {\n    test(name, () => {\n      assert.documentHTMLEqual(details.document, details.html)\n    })\n  })\n})\n","import { assert, test, testGroup } from \"test/test_helper\"\nimport { installDefaultCSSForTagName, makeElement } from \"trix/core/helpers\"\n\nlet meta = null\n\nconst insertMeta = (attributes) => {\n  meta = makeElement(\"meta\", attributes)\n  document.head.append(meta)\n}\n\nconst installDefaultCSS = (tagName, css) => {\n  installDefaultCSSForTagName(tagName, css)\n\n  return document.querySelector(`style[data-tag-name=${tagName}]`)\n}\n\nconst teardown = () => meta.remove()\n\ntestGroup(\"Helpers: Custom Elements\", { teardown }, () => {\n  test(\"reads from meta[name=csp-nonce][content]\", () => {\n    insertMeta({ name: \"csp-nonce\", content: \"abc123\" })\n\n    const style = installDefaultCSS(\"trix-element\", \"trix-element { display: block; }\")\n\n    assert.equal(style.getAttribute(\"nonce\"), \"abc123\")\n    assert.equal(style.innerHTML, \"trix-element { display: block; }\")\n  })\n\n  test(\"reads from meta[name=trix-csp-nonce][content]\", () => {\n    insertMeta({ name: \"trix-csp-nonce\", content: \"abc123\" })\n\n    const style = installDefaultCSS(\"trix-element\", \"trix-element { display: block; }\")\n\n    assert.equal(style.getAttribute(\"nonce\"), \"abc123\")\n    assert.equal(style.innerHTML, \"trix-element { display: block; }\")\n  })\n\n  test(\"reads from meta[name=csp-nonce][nonce]\", () => {\n    insertMeta({ name: \"csp-nonce\", nonce: \"abc123\" })\n\n    const style = installDefaultCSS(\"trix-element\", \"trix-element { display: block; }\")\n\n    assert.equal(style.getAttribute(\"nonce\"), \"abc123\")\n    assert.equal(style.innerHTML, \"trix-element { display: block; }\")\n  })\n\n  test(\"reads from meta[name=trix-csp-nonce][nonce]\", () => {\n    insertMeta({ name: \"trix-csp-nonce\", nonce: \"abc123\" })\n\n    const style = installDefaultCSS(\"trix-element\", \"trix-element { display: block; }\")\n\n    assert.equal(style.getAttribute(\"nonce\"), \"abc123\")\n    assert.equal(style.innerHTML, \"trix-element { display: block; }\")\n  })\n})\n","import {\n  TEST_IMAGE_URL,\n  assert,\n  createCursorTarget,\n  eachFixture,\n  fixtures,\n  getHTML,\n  test,\n  testGroup,\n} from \"test/test_helper\"\n\nimport * as config from \"trix/config\"\nimport HTMLParser from \"trix/models/html_parser\"\nimport { delay } from \"../test_helpers/timing_helpers\"\n\nconst cursorTargetLeft = createCursorTarget(\"left\").outerHTML\nconst cursorTargetRight = createCursorTarget(\"right\").outerHTML\n\ntestGroup(\"HTMLParser\", () => {\n  eachFixture((name, { html, document }) => {\n    test(name, () => {\n      const parsedDocument = HTMLParser.parse(html).getDocument()\n      assert.documentHTMLEqual(parsedDocument.copyUsingObjectsFromDocument(document), html)\n    })\n  })\n\n  eachFixture((name, { html, serializedHTML, document }) => {\n    if (serializedHTML) {\n      test(`${name} (serialized)`, () => {\n        const parsedDocument = HTMLParser.parse(serializedHTML).getDocument()\n        assert.documentHTMLEqual(parsedDocument.copyUsingObjectsFromDocument(document), html)\n      })\n    }\n  })\n\n  testGroup(\"nested line breaks\", () => {\n    const cases = {\n      \"<div>a<div>b</div>c</div>\": \"<div><!--block-->a<br>b<br>c</div>\",\n      \"<div>a<div><div><div>b</div></div></div>c</div>\": \"<div><!--block-->a<br>b<br>c</div>\",\n      \"<blockquote>a<div>b</div>c</blockquote>\": \"<blockquote><!--block-->a<br>b<br>c</blockquote>\",\n    }\n    // TODO:\n    // \"<div><div>a</div><div>b</div>c</div>\": \"<div><!--block-->a<br>b<br>c</div>\"\n    // \"<blockquote><div>a</div><div>b</div><div>c</div></blockquote>\": \"<blockquote><!--block-->a<br>b<br>c</blockquote>\"\n    // \"<blockquote><div>a<br></div><div><br></div><div>b<br></div></blockquote>\": \"<blockquote><!--block-->a<br><br>b</blockquote>\"\n\n    for (const [ html, expectedHTML ] of Object.entries(cases)) {\n      test(html, () => {\n        assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n      })\n    }\n  })\n\n  test(\"parses absolute image URLs\", () => {\n    const src = `${getOrigin()}/test_helpers/fixtures/logo.png`\n    const pattern = new RegExp(`src=\"${src}\"`)\n    const html = `<img src=\"${src}\">`\n\n    const finalHTML = getHTML(HTMLParser.parse(html).getDocument())\n    assert.ok(pattern.test(finalHTML), `${pattern} not found in ${JSON.stringify(finalHTML)}`)\n  })\n\n  test(\"parses relative image URLs\", () => {\n    const src = \"/test_helpers/fixtures/logo.png\"\n    const pattern = new RegExp(`src=\"${src}\"`)\n    const html = `<img src=\"${src}\">`\n\n    const finalHTML = getHTML(HTMLParser.parse(html).getDocument())\n    assert.ok(pattern.test(finalHTML), `${pattern} not found in ${JSON.stringify(finalHTML)}`)\n  })\n\n  test(\"parses unfamiliar html\", () => {\n    const html =\n      \"<meta charset=\\\"UTF-8\\\"><span style=\\\"font-style: italic\\\">abc</span><span>d</span><section style=\\\"margin:0\\\"><blink>123</blink><a href=\\\"http://example.com\\\">45<b>6</b></a>x<br />y</section><p style=\\\"margin:0\\\">9</p>\"\n    const expectedHTML =\n      \"<div><!--block--><em>abc</em>d</div><div><!--block-->123<a href=\\\"http://example.com\\\">45<strong>6</strong></a>x<br>y</div><div><!--block-->9</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"ignores leading whitespace before <meta> tag\", () => {\n    const html = \" \\n <meta charset=\\\"UTF-8\\\"><pre>abc</pre>\"\n    const expectedHTML = \"<pre><!--block-->abc</pre>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"ignores content after </html>\", () => {\n    const html = `\n      <html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:w=\"urn:schemas-microsoft-com:office:word\" xmlns:m=\"http://schemas.microsoft.com/office/2004/12/omml\" xmlns=\"http://www.w3.org/TR/REC-html40\">\n      <head>\n      <meta http-equiv=Content-Type content=\"text/html; charset=utf-8\">\n      <meta name=ProgId content=Word.Document>\n      </head>\n\n      <body lang=EN-US link=blue vlink=\"#954F72\" style='tab-interval:.5in'>\n      <!--StartFragment--><span lang=EN style='font-size:12.0pt;font-family:\n      \"Arial\",sans-serif;mso-fareast-font-family:\"Times New Roman\";mso-ansi-language:\n      EN;mso-fareast-language:EN-US;mso-bidi-language:AR-SA'>abc</span><!--EndFragment-->\n      </body>\n\n      </html>\n      TAxelFCg��K��`\n\n    const expectedHTML = \"<div><!--block-->abc</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"parses incorrectly nested list html\", () => {\n    const html = \"<ul><li>a</li><ul><li>b</li><ol><li>1</li><li>2</li><ol></ul></ul>\"\n    const expectedHTML =\n      \"<ul><li><!--block-->a<ul><li><!--block-->b<ol><li><!--block-->1</li><li><!--block-->2</li></ol></li></ul></li></ul>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"ignores whitespace between block elements\", () => {\n    const html = \"<div>a</div> \\n <div>b</div>     <article>c</article>  \\n\\n <section>d</section> \"\n    const expectedHTML =\n      \"<div><!--block-->a</div><div><!--block-->b</div><div><!--block-->c</div><div><!--block-->d</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"ingores whitespace between nested block elements\", () => {\n    const html = \"<ul> <li>a</li> \\n  <li>b</li>  </ul><div>  <div> \\n <blockquote>c</blockquote>\\n </div>  \\n</div>\"\n    const expectedHTML = \"<ul><li><!--block-->a</li><li><!--block-->b</li></ul><blockquote><!--block-->c</blockquote>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"ignores inline whitespace that can't be displayed\", () => {\n    const html = \" a  \\n b    <span>c\\n</span><span>d  \\ne </span> f <span style=\\\"white-space: pre\\\">  g\\n\\n h  </span>\"\n    const expectedHTML = \"<div><!--block-->a b c d e f &nbsp; g<br><br>&nbsp;h &nbsp;</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"parses significant whitespace in empty inline elements\", () => {\n    const html = \"a<span style='mso-spacerun:yes'> </span>b<span style='mso-spacerun:yes'>  </span>c\"\n    const expectedHTML = \"<div><!--block-->a b c</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"parses block elements with leading breakable whitespace\", () => {\n    const html =\n      \"<blockquote> <span>a</span> <blockquote>\\n <strong>b</strong> <pre> <span>c</span></pre></blockquote></blockquote>\"\n    const expectedHTML =\n      \"<blockquote><!--block-->a<blockquote><!--block--><strong>b</strong><pre><!--block--> c</pre></blockquote></blockquote>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"parses block elements with leading non-breaking whitespace\", () => {\n    const html = \"<blockquote>&nbsp;<span>a</span></blockquote>\"\n    const expectedHTML = \"<blockquote><!--block-->&nbsp;a</blockquote>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"converts newlines to spaces\", () => {\n    const html = \"<div>a\\nb \\nc \\n d \\n\\ne</div><pre>1\\n2</pre>\"\n    const expectedHTML = \"<div><!--block-->a b c d e</div><pre><!--block-->1\\n2</pre>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"parses entire HTML document\", () => {\n    const html =\n      \"<html><head><style>.bold {font-weight: bold}</style></head><body><span class=\\\"bold\\\">abc</span></body></html>\"\n    const expectedHTML = \"<div><!--block--><strong>abc</strong></div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"parses inline element following block element\", () => {\n    const html = \"<blockquote>abc</blockquote><strong>123</strong>\"\n    const expectedHTML = \"<blockquote><!--block-->abc</blockquote><div><!--block--><strong>123</strong></div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"parses text nodes following block elements\", () => {\n    const html = \"<ul><li>a</li></ul>b<blockquote>c</blockquote>d\"\n    const expectedHTML =\n      \"<ul><li><!--block-->a</li></ul><div><!--block-->b</div><blockquote><!--block-->c</blockquote><div><!--block-->d</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"parses whitespace-only text nodes without a containing block element\", () => {\n    const html = \"a <strong>b</strong> <em>c</em>\"\n    const expectedHTML = \"<div><!--block-->a <strong>b</strong> <em>c</em></div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"parses spaces around cursor targets\", () => {\n    const html = `<div>a ${cursorTargetLeft}<span>b</span>${cursorTargetRight} c</div>`\n    const expectedHTML = \"<div><!--block-->a b c</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"parses spanned text elements that don't have a parser function\", () => {\n    assert.notOk(config.textAttributes.strike.parser)\n    const html = \"<del>a <strong>b</strong></del>\"\n    const expectedHTML = \"<div><!--block--><del>a </del><strong><del>b</del></strong></div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"translates tables into plain text\", () => {\n    const html = \"<table><tr><td>a</td><td>b</td></tr><tr><td>1</td><td><p>2</p></td></tr><table>\"\n    const expectedHTML = \"<div><!--block-->a | b<br>1 | 2</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"allows customizing table separater\", () => {\n    withParserConfig({ tableCellSeparator: \"*\", tableRowSeparator: \"-\" }, () => {\n      const html = \"<table><tr><td>a</td><td>b</td></tr><tr><td>1</td><td><p>2</p></td></tr><table>\"\n      const expectedHTML = \"<div><!--block-->a*b-1*2</div>\"\n      assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n    })\n  })\n\n  test(\"includes empty cells when translating tables into plain text\", () => {\n    const html = \"<table><tr><td> </td><td></td></tr><tr><td>1</td><td><p>2</p></td></tr><table>\"\n    const expectedHTML = \"<div><!--block-->&nbsp;|&nbsp;<br>1 | 2</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"allows removing empty table cells from translated tables\", () => {\n    withParserConfig({ removeBlankTableCells: true }, () => {\n      const html = \"<table><tr><td> </td><td>\\n</td></tr><tr><td>1</td><td><p>2</p></td></tr><table>\"\n      const expectedHTML = \"<div><!--block-->1 | 2</div>\"\n      assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n    })\n  })\n\n  test(\"translates block element margins to newlines\", () => {\n    const html =\n      \"<p style=\\\"margin: 0 0 1em 0\\\">a</p><p style=\\\"margin: 0\\\">b</p><article style=\\\"margin: 1em 0 0 0\\\">c</article>\"\n    const expectedHTML = \"<div><!--block-->a<br><br></div><div><!--block-->b</div><div><!--block--><br>c</div>\"\n    const document = HTMLParser.parse(html).getDocument()\n    assert.documentHTMLEqual(document, expectedHTML)\n  })\n\n  test(\"skips translating empty block element margins to newlines\", () => {\n    const html =\n      \"<p style=\\\"margin: 0 0 1em 0\\\">a</p><p style=\\\"margin: 0 0 1em 0\\\"><span></span></p><p style=\\\"margin: 0\\\">b</p>\"\n    const expectedHTML = \"<div><!--block-->a<br><br></div><div><!--block--><br></div><div><!--block-->b</div>\"\n    const document = HTMLParser.parse(html).getDocument()\n    assert.documentHTMLEqual(document, expectedHTML)\n  })\n\n  test(\"ignores text nodes in script elements\", () => {\n    const html = \"<div>a<script>alert(\\\"b\\\")</script></div>\"\n    const expectedHTML = \"<div><!--block-->a</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"ignores iframe elements\", () => {\n    const html = \"<div>a<iframe src=\\\"data:text/html;base64,PHNjcmlwdD5hbGVydCgneHNzJyk7PC9zY3JpcHQ+\\\">b</iframe></div>\"\n    const expectedHTML = \"<div><!--block-->a</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"sanitizes unsafe html\", async () => {\n    window.unsanitized = []\n    HTMLParser.parse(`\n      <img onload=\"window.unsanitized.push('img.onload');\" src=\"${TEST_IMAGE_URL}\">\n      <img onerror=\"window.unsanitized.push('img.onerror');\" src=\"data:image/gif;base64,TOTALLYBOGUS\">\n      <script>\n        window.unsanitized.push('script tag');\n      </script>`)\n\n    await delay(20)\n    assert.deepEqual(window.unsanitized, [])\n    delete window.unsanitized\n  })\n\n  test(\"forbids href attributes with javascript: protocol\", () => {\n    const html =\n      \"<a href=\\\"javascript:alert()\\\">a</a> <a href=\\\" javascript: alert()\\\">b</a> <a href=\\\"JavaScript:alert()\\\">c</a>\"\n    const expectedHTML = \"<div><!--block-->a b c</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"forbids javascript: protocol in attachment href\", () => {\n    const html = \"<figure data-trix-attachment=\\\"{&quot;href&quot;:&quot;javascript:alert(1)&quot;,&quot;contentType&quot;:&quot;application/pdf&quot;,&quot;filename&quot;:&quot;report.pdf&quot;}\\\"></figure>\"\n    const finalHTML = getHTML(HTMLParser.parse(html).getDocument())\n    assert.notOk(finalHTML.includes(\"href=\\\"javascript:\"), \"javascript: protocol found in href attribute: \" + JSON.stringify(finalHTML))\n  })\n\n  test(\"forbids data:text/html protocol in attachment href\", () => {\n    const html = \"<figure data-trix-attachment=\\\"{&quot;href&quot;:&quot;data:text/html,&lt;script&gt;alert(1)&lt;/script&gt;&quot;,&quot;contentType&quot;:&quot;application/pdf&quot;,&quot;filename&quot;:&quot;report.pdf&quot;}\\\"></figure>\"\n    const finalHTML = getHTML(HTMLParser.parse(html).getDocument())\n    assert.notOk(finalHTML.includes(\"href=\\\"data:text/html\"), \"data:text/html protocol found in href attribute: \" + JSON.stringify(finalHTML))\n  })\n\n  test(\"ignores attachment elements with malformed JSON\", () => {\n    const html =\n      \"<div>a</div><div data-trix-attachment data-trix-attributes></div>\" +\n      \"<div data-trix-attachment=\\\"\\\" data-trix-attributes=\\\"\\\"></div>\" +\n      \"<div data-trix-attachment=\\\"{&quot;x:}\\\" data-trix-attributes=\\\"{&quot;x:}\\\"></div>\" +\n      \"<div>b</div>\"\n    const expectedHTML = \"<div><!--block-->a</div><div><!--block--><br></div><div><!--block-->b</div>\"\n    assert.documentHTMLEqual(HTMLParser.parse(html).getDocument(), expectedHTML)\n  })\n\n  test(\"parses attachment caption from large html string\", () => {\n    let { html } = fixtures[\"image attachment with edited caption\"]\n\n    for (let i = 1; i <= 30; i++) {\n      html += fixtures[\"image attachment\"].html\n    }\n\n    for (let n = 1; n <= 3; n++) {\n      const attachmentPiece = HTMLParser.parse(html).getDocument().getAttachmentPieces()[0]\n      assert.equal(attachmentPiece.getCaption(), \"Example\")\n    }\n  })\n\n  test(\"parses foreground color when configured\", () => {\n    const attrConfig = { foregroundColor: { styleProperty: \"color\" } }\n\n    withTextAttributeConfig(attrConfig, () => {\n      const html = \"<span style=\\\"color: rgb(60, 179, 113);\\\">green</span>\"\n      const expectedHTML = \"<div><!--block--><span style=\\\"color: rgb(60, 179, 113);\\\">green</span></div>\"\n      const document = HTMLParser.parse(html).getDocument()\n      assert.documentHTMLEqual(document, expectedHTML)\n    })\n  })\n\n  test(\"parses background color when configured\", () => {\n    const attrConfig = { backgroundColor: { styleProperty: \"backgroundColor\" } }\n\n    withTextAttributeConfig(attrConfig, () => {\n      const html = \"<span style=\\\"background-color: yellow;\\\">on yellow</span>\"\n      const expectedHTML = \"<div><!--block--><span style=\\\"background-color: yellow;\\\">on yellow</span></div>\"\n      const document = HTMLParser.parse(html).getDocument()\n      assert.documentHTMLEqual(document, expectedHTML)\n    })\n  })\n\n  test(\"parses configured foreground color on formatted text\", () => {\n    const attrConfig = { foregroundColor: { styleProperty: \"color\" } }\n\n    withTextAttributeConfig(attrConfig, () => {\n      const html = \"<strong style=\\\"color: rgb(60, 179, 113);\\\">GREEN</strong>\"\n      const expectedHTML = \"<div><!--block--><strong style=\\\"color: rgb(60, 179, 113);\\\">GREEN</strong></div>\"\n      const document = HTMLParser.parse(html).getDocument()\n      assert.documentHTMLEqual(document, expectedHTML)\n    })\n  })\n\n  test(\"parses foreground color using configured parser function\", () => {\n    const attrConfig = {\n      foregroundColor: {\n        styleProperty: \"color\",\n        parser(element) {\n          const { color } = element.style\n          if (color === \"rgb(60, 179, 113)\") {\n            return color\n          }\n        },\n      },\n    }\n\n    withTextAttributeConfig(attrConfig, () => {\n      const html = \"<span style=\\\"color: rgb(60, 179, 113);\\\">green</span><span style=\\\"color: yellow;\\\">not yellow</span>\"\n      const expectedHTML = \"<div><!--block--><span style=\\\"color: rgb(60, 179, 113);\\\">green</span>not yellow</div>\"\n      const document = HTMLParser.parse(html).getDocument()\n      assert.documentHTMLEqual(document, expectedHTML)\n    })\n  })\n})\n\nconst withParserConfig = (attrConfig = {}, fn) => {\n  withConfig(\"parser\", attrConfig, fn)\n}\n\nconst withTextAttributeConfig = (attrConfig = {}, fn) => {\n  withConfig(\"textAttributes\", attrConfig, fn)\n}\n\nconst withConfig = (section, newConfig = {}, fn) => {\n  const originalConfig = Object.assign({}, config[section])\n  const copy = (section, properties) => {\n    for (const [ key, value ] of Object.entries(properties)) {\n      if (value) {\n        config[section][key] = value\n      } else {\n        delete config[section][key]\n      }\n    }\n  }\n\n  try {\n    copy(section, newConfig)\n    fn()\n  } finally {\n    copy(section, originalConfig)\n  }\n}\n\nconst getOrigin = () => {\n  const { protocol, hostname, port } = window.location\n  return `${protocol}//${hostname}${port ? `:${port}` : \"\"}`\n}\n","import {\n  assert,\n  test,\n  testGroup,\n} from \"test/test_helper\"\n\nimport { HTMLSanitizer } from \"../../trix/models\"\nimport * as config from \"../../trix/config\"\n\ntestGroup(\"HTMLSanitizer\", () => {\n  test(\"strips custom tags\", () => {\n    const html = \"<custom-tag></custom-tag>\"\n    const expectedHTML = \"\"\n    const document = HTMLSanitizer.sanitize(html).body.innerHTML\n    assert.equal(document, expectedHTML)\n  })\n\n  test(\"keeps custom tags configured for DOMPurify\", () => {\n    const config = {\n      ADD_TAGS: [ \"custom-tag\" ],\n      RETURN_DOM: true,\n    }\n    withDOMPurifyConfig(config, () => {\n      const html = \"<custom-tag></custom-tag>\"\n      const expectedHTML = \"<custom-tag></custom-tag>\"\n      const document = HTMLSanitizer.sanitize(html).body.innerHTML\n      assert.equal(document, expectedHTML)\n    })\n  })\n})\n\nconst withDOMPurifyConfig = (attrConfig = {}, fn) => {\n  withConfig(\"dompurify\", attrConfig, fn)\n}\n\nconst withConfig = (section, newConfig = {}, fn) => {\n  const originalConfig = Object.assign({}, config[section])\n  const copy = (section, properties) => {\n    for (const [ key, value ] of Object.entries(properties)) {\n      if (value) {\n        config[section][key] = value\n      } else {\n        delete config[section][key]\n      }\n    }\n  }\n\n  try {\n    copy(section, newConfig)\n    fn()\n  } finally {\n    copy(section, originalConfig)\n  }\n}\n","import { TEST_IMAGE_URL, assert, test, testGroup } from \"test/test_helper\"\n\nimport DocumentView from \"trix/views/document_view\"\nimport Document from \"trix/models/document\"\nimport LocationMapper from \"trix/models/location_mapper\"\n\ntestGroup(\"LocationMapper\", () => {\n  test(\"findLocationFromContainerAndOffset\", () => {\n    setDocument([\n      // <trix-editor>\n      // 0 <div>\n      //     0 <!--block-->\n      //     1 <strong>\n      //         0 a\n      //         1 <br>\n      //       </strong>\n      //     2 <br>\n      //   </div>\n      // 1 <blockquote>\n      //     0 <!--block-->\n      //     1 b😭cd\n      //     2 <span data-trix-cursor-target>\n      //         0 (zero-width space)\n      //       </span>\n      //     3 <a href=\"data:image/png,\" data-trix-attachment=\"\" ...>\n      //         0 <figure ...>...</figure>\n      //       </a>\n      //     4 <span data-trix-cursor-target>\n      //         0 (zero-width space)\n      //       </span>\n      //     5 e\n      //   </blockquote>\n      // </trix-editor>\n      {\n        text: [\n          { type: \"string\", attributes: { bold: true }, string: \"a\\n\" },\n          { type: \"string\", attributes: { blockBreak: true }, string: \"\\n\" },\n        ],\n        attributes: [],\n      },\n      {\n        text: [\n          { type: \"string\", attributes: {}, string: \"b😭cd\" },\n          {\n            type: \"attachment\",\n            attributes: {},\n            attachment: {\n              contentType: \"image/png\",\n              filename: \"x.png\",\n              filesize: 0,\n              height: 13,\n              href: TEST_IMAGE_URL,\n              identifier: \"1\",\n              url: TEST_IMAGE_URL,\n              width: 15,\n            },\n          },\n          { type: \"string\", attributes: {}, string: \"e\" },\n          { type: \"string\", attributes: { blockBreak: true }, string: \"\\n\" },\n        ],\n        attributes: [ \"quote\" ],\n      },\n    ])\n\n    const assertions = [\n      { location: [ 0, 0 ], container: [], offset: 0 },\n      { location: [ 0, 0 ], container: [ 0 ], offset: 0 },\n      { location: [ 0, 0 ], container: [ 0 ], offset: 1 },\n      { location: [ 0, 0 ], container: [ 0, 1 ], offset: 0 },\n      { location: [ 0, 0 ], container: [ 0, 1, 0 ], offset: 0 },\n      { location: [ 0, 1 ], container: [ 0, 1, 0 ], offset: 1 },\n      { location: [ 0, 1 ], container: [ 0, 1 ], offset: 1 },\n      { location: [ 0, 2 ], container: [ 0, 1 ], offset: 2 },\n      { location: [ 0, 2 ], container: [ 0 ], offset: 2 },\n      { location: [ 0, 3 ], container: [], offset: 1 },\n      { location: [ 0, 3 ], container: [ 1 ], offset: 0 },\n      { location: [ 1, 0 ], container: [ 1 ], offset: 1 },\n      { location: [ 1, 0 ], container: [ 1, 1 ], offset: 0 },\n      { location: [ 1, 1 ], container: [ 1, 1 ], offset: 1 },\n      { location: [ 1, 2 ], container: [ 1, 1 ], offset: 2 },\n      { location: [ 1, 3 ], container: [ 1, 1 ], offset: 3 },\n      { location: [ 1, 4 ], container: [ 1, 1 ], offset: 4 },\n      { location: [ 1, 5 ], container: [ 1, 1 ], offset: 5 },\n      { location: [ 1, 6 ], container: [ 1, 1 ], offset: 6 },\n      { location: [ 1, 5 ], container: [ 1 ], offset: 2 },\n      { location: [ 1, 5 ], container: [ 1, 2 ], offset: 0 },\n      { location: [ 1, 5 ], container: [ 1, 2 ], offset: 1 },\n      { location: [ 1, 5 ], container: [ 1 ], offset: 3 },\n      { location: [ 1, 5 ], container: [ 1, 3 ], offset: 0 },\n      { location: [ 1, 5 ], container: [ 1, 3 ], offset: 1 },\n      { location: [ 1, 6 ], container: [ 1 ], offset: 4 },\n      { location: [ 1, 6 ], container: [ 1, 4 ], offset: 0 },\n      { location: [ 1, 6 ], container: [ 1, 4 ], offset: 1 },\n      { location: [ 1, 6 ], container: [ 1 ], offset: 5 },\n      { location: [ 1, 6 ], container: [ 1, 5 ], offset: 0 },\n      { location: [ 1, 7 ], container: [ 1, 5 ], offset: 1 },\n      { location: [ 1, 7 ], container: [], offset: 2 },\n    ]\n\n    for (const assertion of assertions) {\n      const path = assertion.container\n      const container = findContainer(path)\n      const { offset } = assertion\n\n      const expectedLocation = { index: assertion.location[0], offset: assertion.location[1] }\n      const actualLocation = mapper.findLocationFromContainerAndOffset(container, offset)\n\n      assert.equal(\n        format(actualLocation),\n        format(expectedLocation),\n        `${describe(container)} at [${path.join(\", \")}], offset ${offset} = ${format(expectedLocation)}`\n      )\n    }\n  })\n\n  test(\"findContainerAndOffsetFromLocation: (0/0)\", () => {\n    setDocument([\n      // <trix-editor>\n      // 0 <ul>\n      //     0 <li>\n      //         0 <!--block-->\n      //         1 <br>\n      //       </li>\n      //   </ul>\n      // </trix-editor>\n      {\n        text: [ { type: \"string\", attributes: { blockBreak: true }, string: \"\\n\" } ],\n        attributes: [ \"bulletList\", \"bullet\" ],\n      },\n    ])\n\n    const location = { index: 0, offset: 0 }\n    const container = findContainer([ 0, 0 ])\n    const offset = 1\n\n    assert.deepEqual(mapper.findContainerAndOffsetFromLocation(location), [ container, offset ])\n  })\n\n  test(\"findContainerAndOffsetFromLocation after newline in formatted text\", () => {\n    setDocument([\n      // <trix-editor>\n      // 0 <div>\n      //     0 <!--block-->\n      //     0 <strong>\n      //         0 a\n      //         1 <br>\n      //       </strong>\n      //   </div>\n      // </trix-editor>\n      {\n        text: [\n          { type: \"string\", attributes: { bold: true }, string: \"a\\n\" },\n          { type: \"string\", attributes: { blockBreak: true }, string: \"\\n\" },\n        ],\n        attributes: [],\n      },\n    ])\n\n    const location = { index: 0, offset: 2 }\n    const container = findContainer([ 0 ])\n    const offset = 2\n\n    assert.deepEqual(mapper.findContainerAndOffsetFromLocation(location), [ container, offset ])\n  })\n\n  test(\"findContainerAndOffsetFromLocation after nested block\", () => {\n    setDocument([\n      // <trix-editor>\n      //   <blockquote>\n      //     <ul>\n      //       <li>\n      //         <!--block-->\n      //         a\n      //       </li>\n      //     </ul>\n      //     <!--block-->\n      //     <br>\n      //   </blockquote>\n      // </trix-editor>\n      {\n        text: [\n          { type: \"string\", attributes: {}, string: \"a\" },\n          { type: \"string\", attributes: { blockBreak: true }, string: \"\\n\" },\n        ],\n        attributes: [ \"quote\", \"bulletList\", \"bullet\" ],\n      },\n      {\n        text: [ { type: \"string\", attributes: { blockBreak: true }, string: \"\\n\" } ],\n        attributes: [ \"quote\" ],\n      },\n    ])\n\n    const location = { index: 1, offset: 0 }\n    const container = findContainer([ 0 ])\n    const offset = 2\n\n    assert.deepEqual(mapper.findContainerAndOffsetFromLocation(location), [ container, offset ])\n  })\n})\n\n// ---\nlet document = null\nlet element = null\nlet mapper = null\n\nconst setDocument = (json) => {\n  document = Document.fromJSON(json)\n  element = DocumentView.render(document)\n  mapper = new LocationMapper(element)\n}\n\nconst findContainer = (path) => {\n  let el = element\n  for (const index of path) {\n    el = el.childNodes[index]\n  }\n  return el\n}\n\nconst format = ({ index, offset }) => `${index}/${offset}`\n\nconst describe = (node) => {\n  if (node.nodeType === Node.TEXT_NODE) {\n    return `text node ${JSON.stringify(node.textContent)}`\n  } else {\n    return `container <${node.tagName.toLowerCase()}>`\n  }\n}\n","import { assert, test, testGroup } from \"test/test_helper\"\n\nimport MutationObserver from \"trix/observers/mutation_observer\"\nimport { nextFrame } from \"../test_helpers/timing_helpers\"\n\nlet observer = null\nlet element = null\nlet summaries = []\n\nconst install = function (html) {\n  element = document.createElement(\"div\")\n  if (html) {\n    element.innerHTML = html\n  }\n  observer = new MutationObserver(element)\n  observer.delegate = {\n    elementDidMutate(summary) {\n      summaries.push(summary)\n    },\n  }\n}\n\nconst uninstall = () => {\n  observer?.stop()\n  observer = null\n  element = null\n  summaries = []\n}\n\nconst observerTest = (name, options = {}, callback) => {\n  test(name, async () => {\n    install(options.html)\n    await callback()\n    uninstall()\n  })\n}\n\ntestGroup(\"MutationObserver\", () => {\n  observerTest(\"add character\", { html: \"a\" }, async () => {\n    element.firstChild.data += \"b\"\n    await nextFrame()\n\n    assert.equal(summaries.length, 1)\n    assert.deepEqual(summaries[0], { textAdded: \"b\" })\n  })\n\n  observerTest(\"remove character\", { html: \"ab\" }, async () => {\n    element.firstChild.data = \"a\"\n    await nextFrame()\n    assert.equal(summaries.length, 1)\n    assert.deepEqual(summaries[0], { textDeleted: \"b\" })\n  })\n\n  observerTest(\"replace character\", { html: \"ab\" }, async () => {\n    element.firstChild.data = \"ac\"\n    await nextFrame()\n    assert.equal(summaries.length, 1)\n    assert.deepEqual(summaries[0], { textAdded: \"c\", textDeleted: \"b\" })\n  })\n\n  observerTest(\"add <br>\", { html: \"a\" }, async () => {\n    element.appendChild(document.createElement(\"br\"))\n    await nextFrame()\n    assert.equal(summaries.length, 1)\n    assert.deepEqual(summaries[0], { textAdded: \"\\n\" })\n  })\n\n  observerTest(\"remove <br>\", { html: \"a<br>\" }, async () => {\n    element.removeChild(element.lastChild)\n    await nextFrame()\n    assert.equal(summaries.length, 1)\n    assert.deepEqual(summaries[0], { textDeleted: \"\\n\" })\n  })\n\n  observerTest(\"remove block comment\", { html: \"<div><!--block-->a</div>\" }, async () => {\n    element.firstChild.removeChild(element.firstChild.firstChild)\n    await nextFrame()\n    assert.equal(summaries.length, 1)\n    assert.deepEqual(summaries[0], { textDeleted: \"\\n\" })\n  })\n\n  observerTest(\"remove formatted element\", { html: \"a<strong>b</strong>\" }, async () => {\n    element.removeChild(element.lastChild)\n    await nextFrame()\n    assert.equal(summaries.length, 1)\n    assert.deepEqual(summaries[0], { textDeleted: \"b\" })\n  })\n\n  observerTest(\"remove nested formatted elements\", { html: \"a<strong>b<em>c</em></strong>\" }, async () => {\n    element.removeChild(element.lastChild)\n    await nextFrame()\n    assert.equal(summaries.length, 1)\n    assert.deepEqual(summaries[0], { textDeleted: \"bc\" })\n  })\n})\n","import { serializeToContentType } from \"trix/core/serialization\"\nimport { assert, eachFixture, test, testGroup } from \"test/test_helper\"\n\ntestGroup(\"serializeToContentType\", () => {\n  eachFixture((name, details) => {\n    if (details.serializedHTML) {\n      test(name, () => {\n        assert.equal(serializeToContentType(details.document, \"text/html\"), details.serializedHTML)\n      })\n    }\n  })\n})\n","import { assert, test, testGroup } from \"test/test_helper\"\n\nimport { summarizeStringChange } from \"trix/core/helpers\"\n\ntestGroup(\"summarizeStringChange\", () => {\n  const assertions = {\n    \"no change\": {\n      oldString: \"abc\",\n      newString: \"abc\",\n      change: { added: \"\", removed: \"\" },\n    },\n    \"adding a character\": {\n      oldString: \"\",\n      newString: \"a\",\n      change: { added: \"a\", removed: \"\" },\n    },\n    \"appending a character\": {\n      oldString: \"ab\",\n      newString: \"abc\",\n      change: { added: \"c\", removed: \"\" },\n    },\n    \"appending a multibyte character\": {\n      oldString: \"a💩\",\n      newString: \"a💩💩\",\n      change: { added: \"💩\", removed: \"\" },\n    },\n    \"prepending a character\": {\n      oldString: \"bc\",\n      newString: \"abc\",\n      change: { added: \"a\", removed: \"\" },\n    },\n    \"inserting a character\": {\n      oldString: \"ac\",\n      newString: \"abc\",\n      change: { added: \"b\", removed: \"\" },\n    },\n    \"inserting a string\": {\n      oldString: \"ac\",\n      newString: \"aZZZc\",\n      change: { added: \"ZZZ\", removed: \"\" },\n    },\n    \"replacing a character\": {\n      oldString: \"abc\",\n      newString: \"aZc\",\n      change: { added: \"Z\", removed: \"b\" },\n    },\n    \"replacing a character with a string\": {\n      oldString: \"abc\",\n      newString: \"aXYc\",\n      change: { added: \"XY\", removed: \"b\" },\n    },\n    \"replacing a string with a character\": {\n      oldString: \"abcde\",\n      newString: \"aXe\",\n      change: { added: \"X\", removed: \"bcd\" },\n    },\n    \"replacing a string with a string\": {\n      oldString: \"abcde\",\n      newString: \"aBCDe\",\n      change: { added: \"BCD\", removed: \"bcd\" },\n    },\n    \"removing a character\": {\n      oldString: \"abc\",\n      newString: \"ac\",\n      change: { added: \"\", removed: \"b\" },\n    },\n  }\n\n  for (const name in assertions) {\n    test(name, () => {\n      const details = assertions[name]\n      const { oldString, newString, change } = details\n      assert.deepEqual(summarizeStringChange(oldString, newString), change)\n    })\n  }\n})\n","import { assert, test, testGroup } from \"test/test_helper\"\n\nimport Text from \"trix/models/text\"\nimport StringPiece from \"trix/models/string_piece\"\n\ntestGroup(\"Text\", () =>\n  testGroup(\"#removeTextAtRange\", () => {\n    test(\"removes text with range in single piece\", () => {\n      const text = new Text([ new StringPiece(\"abc\") ])\n      const pieces = text.removeTextAtRange([ 0, 1 ]).getPieces()\n      assert.equal(pieces.length, 1)\n      assert.equal(pieces[0].toString(), \"bc\")\n      assert.deepEqual(pieces[0].getAttributes(), {})\n    })\n\n    test(\"removes text with range spanning pieces\", () => {\n      const text = new Text([ new StringPiece(\"abc\"), new StringPiece(\"123\", { bold: true }) ])\n      const pieces = text.removeTextAtRange([ 2, 4 ]).getPieces()\n      assert.equal(pieces.length, 2)\n      assert.equal(pieces[0].toString(), \"ab\")\n      assert.deepEqual(pieces[0].getAttributes(), {})\n      assert.equal(pieces[1].toString(), \"23\")\n      assert.deepEqual(pieces[1].getAttributes(), { bold: true })\n    })\n  })\n)\n","import { assert, insertImageAttachment, skipIf, test, testGroup, triggerEvent } from \"test/test_helper\"\nimport { delay } from \"test/test_helpers/timing_helpers\"\nimport TrixEditorElement from \"trix/elements/trix_editor_element\"\n\ntestGroup(\"Accessibility attributes\", { template: \"editor_default_aria_label\" }, () => {\n  test(\"sets the role to textbox\", () => {\n    const editor = document.getElementById(\"editor-without-labels\")\n    assert.equal(editor.getAttribute(\"role\"), \"textbox\")\n  })\n\n  test(\"reads img[alt] from Attachment attributes\", async () => {\n    const element = getEditorElement()\n    element.addEventListener(\"trix-attachment-add\", (event) => event.attachment.setAttributes({ alt: \"some alt text\" }))\n\n    insertImageAttachment()\n    await delay(20)\n\n    const image = element.querySelector(\"img\")\n    assert.equal(\"some alt text\", image.getAttribute(\"alt\"), \"sets [alt] from Attachment attribute\")\n  })\n\n  skipIf(TrixEditorElement.formAssociated, \"does not set aria-label when the element has no <label> elements\", () => {\n    const editor = document.getElementById(\"editor-without-labels\")\n    assert.equal(editor.hasAttribute(\"aria-label\"), false)\n  })\n\n  skipIf(TrixEditorElement.formAssociated, \"does not override aria-label when the element declares it\", () => {\n    const editor = document.getElementById(\"editor-with-aria-label\")\n    assert.equal(editor.getAttribute(\"aria-label\"), \"ARIA Label text\")\n  })\n\n  skipIf(TrixEditorElement.formAssociated, \"does not set aria-label when the element declares aria-labelledby\", () => {\n    const editor = document.getElementById(\"editor-with-aria-labelledby\")\n    assert.equal(editor.hasAttribute(\"aria-label\"), false)\n    assert.equal(editor.getAttribute(\"aria-labelledby\"), \"aria-labelledby-id\")\n  })\n\n  skipIf(TrixEditorElement.formAssociated, \"assigns aria-label to the text of the element's <label> elements\", () => {\n    const editor = document.getElementById(\"editor-with-labels\")\n    assert.equal(editor.getAttribute(\"aria-label\"), \"Label 1 Label 2 Label 3\")\n  })\n\n  skipIf(TrixEditorElement.formAssociated, \"updates the aria-label on focus\", () => {\n    const editor = document.getElementById(\"editor-with-modified-label\")\n    const label = document.getElementById(\"modified-label\")\n\n    label.innerHTML = \"<span>New Value</span>\"\n    triggerEvent(editor, \"focus\")\n    assert.equal(editor.getAttribute(\"aria-label\"), \"New Value\")\n  })\n})\n","import * as config from \"trix/config\"\nimport { assert, insertImageAttachment, test, testGroup } from \"test/test_helper\"\n\ntestGroup(\"Attachment captions\", { template: \"editor_empty\" }, () => {\n  test(\"default caption includes file name and size\", () => {\n    insertImageAttachment()\n    const element = getCaptionElement()\n    assert.notOk(element.hasAttribute(\"data-trix-placeholder\"))\n    assert.equal(element.textContent, \"image.gif 35 Bytes\")\n  })\n\n  test(\"caption excludes file name when configured\", () => {\n    withPreviewCaptionConfig({ name: false, size: true }, () => {\n      insertImageAttachment()\n      const element = getCaptionElement()\n      assert.notOk(element.hasAttribute(\"data-trix-placeholder\"))\n      assert.equal(element.textContent, \"35 Bytes\")\n    })\n  })\n\n  test(\"caption excludes file size when configured\", () => {\n    withPreviewCaptionConfig({ name: true, size: false }, () => {\n      insertImageAttachment()\n      const element = getCaptionElement()\n      assert.notOk(element.hasAttribute(\"data-trix-placeholder\"))\n      assert.equal(element.textContent, \"image.gif\")\n    })\n  })\n\n  test(\"caption is empty when configured\", () => {\n    withPreviewCaptionConfig({ name: false, size: false }, () => {\n      insertImageAttachment()\n      const element = getCaptionElement()\n      assert.ok(element.hasAttribute(\"data-trix-placeholder\"))\n      assert.equal(element.getAttribute(\"data-trix-placeholder\"), config.lang.captionPlaceholder)\n      assert.equal(element.textContent, \"\")\n    })\n  })\n})\n\nconst withPreviewCaptionConfig = (captionConfig, fn) => {\n  if (!captionConfig) captionConfig = {}\n  const { caption } = config.attachments.preview\n  config.attachments.preview.caption = captionConfig\n  try {\n    return fn()\n  } finally {\n    config.attachments.preview.caption = caption\n  }\n}\n\nconst getCaptionElement = () => getEditorElement().querySelector(\"figcaption\")\n","import {\n  assert,\n  clickToolbarButton,\n  createImageAttachment,\n  expectDocument,\n  insertAttachments,\n  pressKey,\n  test,\n  testGroup,\n  typeCharacters,\n} from \"test/test_helper\"\nimport { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\nimport { nextFrame } from \"../test_helpers/timing_helpers\"\n\nconst ORC = OBJECT_REPLACEMENT_CHARACTER\n\ntestGroup(\"Attachment galleries\", { template: \"editor_empty\" }, () => {\n  test(\"inserting more than one image attachment creates a gallery block\", () => {\n    insertAttachments(createImageAttachments(2))\n    assert.blockAttributes([ 0, 2 ], [ \"attachmentGallery\" ])\n    expectDocument(`${ORC}${ORC}\\n`)\n  })\n\n  test(\"gallery formatting is removed from blocks containing less than two image attachments\", async () => {\n    insertAttachments(createImageAttachments(2))\n    assert.blockAttributes([ 0, 2 ], [ \"attachmentGallery\" ])\n    getEditor().setSelectedRange([ 1, 2 ])\n\n    await pressKey(\"backspace\")\n    await nextFrame()\n\n    assert.blockAttributes([ 0, 2 ], [])\n    expectDocument(`${ORC}\\n`)\n  })\n\n  test(\"typing in an attachment gallery block splits it\", async () => {\n    insertAttachments(createImageAttachments(4))\n    getEditor().setSelectedRange(2)\n\n    await typeCharacters(\"a\")\n    await nextFrame()\n\n    assert.blockAttributes([ 0, 2 ], [ \"attachmentGallery\" ])\n    assert.blockAttributes([ 3, 4 ], [])\n    assert.blockAttributes([ 5, 7 ], [ \"attachmentGallery\" ])\n    expectDocument(`${ORC}${ORC}\\na\\n${ORC}${ORC}\\n`)\n  })\n\n  test(\"inserting a gallery in a formatted block\", async () => {\n    await clickToolbarButton({ attribute: \"quote\" })\n    await typeCharacters(\"abc\")\n\n    insertAttachments(createImageAttachments(2))\n    await nextFrame()\n\n    assert.blockAttributes([ 0, 3 ], [ \"quote\" ])\n    assert.blockAttributes([ 4, 6 ], [ \"attachmentGallery\" ])\n    expectDocument(`abc\\n${ORC}${ORC}\\n`)\n  })\n})\n\nconst createImageAttachments = function (num) {\n  if (num == null) {\n    num = 1\n  }\n  const attachments = []\n  while (attachments.length < num) {\n    attachments.push(createImageAttachment())\n  }\n  return attachments\n}\n","import * as config from \"trix/config\"\nimport { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport {\n  assert,\n  clickElement,\n  clickToolbarButton,\n  createFile,\n  dragToCoordinates,\n  expectDocument,\n  moveCursor,\n  pressKey,\n  test,\n  testGroup,\n  triggerEvent,\n  typeCharacters,\n} from \"test/test_helper\"\nimport { delay, nextFrame } from \"../test_helpers/timing_helpers\"\n\ntestGroup(\"Attachments\", { template: \"editor_with_image\" }, () => {\n  test(\"moving an image by drag and drop\", async () => {\n    await typeCharacters(\"!\")\n\n    const coordinates = await moveCursor({ direction: \"right\", times: 1 })\n    const img = document.activeElement.querySelector(\"img\")\n    triggerEvent(img, \"mousedown\")\n\n    await nextFrame()\n    await dragToCoordinates(coordinates)\n\n    expectDocument(`!a${OBJECT_REPLACEMENT_CHARACTER}b\\n`)\n  })\n\n  test(\"removing an image\", async () => {\n    await delay(20)\n    await clickElement(getFigure())\n\n    const closeButton = getFigure().querySelector(\"[data-trix-action=remove]\")\n    await clickElement(closeButton)\n\n    expectDocument(\"ab\\n\")\n  })\n\n  test(\"intercepting attachment toolbar creation\", async () => {\n    function insertToolbarButton(event) {\n      const { toolbar, attachment } = event\n\n      assert.ok(toolbar.matches(\".attachment__toolbar\"))\n      assert.equal(attachment.getContentType(), \"image\")\n\n      toolbar.querySelector(\".trix-button-group\").insertAdjacentHTML(\"beforeend\", \"<button class=\\\"new-button\\\">👍</button>\")\n    }\n\n    getEditorElement().addEventListener(\"trix-attachment-before-toolbar\", insertToolbarButton, { once: true })\n\n    await clickElement(getFigure())\n\n    assert.ok(getEditorElement().querySelector(\".trix-button-group .new-button\"))\n  })\n\n  test(\"editing an image caption\", async () => {\n    await delay(20)\n\n    await clickElement(findElement(\"figure\"))\n    await clickElement(findElement(\"figcaption\"))\n\n    await nextFrame()\n\n    const textarea = findElement(\"textarea\")\n    assert.ok(textarea)\n\n    textarea.focus()\n    textarea.value = \"my\"\n    triggerEvent(textarea, \"input\")\n\n    await nextFrame()\n    textarea.value = \"\"\n\n    await nextFrame()\n    textarea.value = \"my caption\"\n    triggerEvent(textarea, \"input\")\n\n    await pressKey(\"return\")\n    assert.notOk(findElement(\"textarea\"))\n    assert.textAttributes([ 2, 3 ], { caption: \"my caption\" })\n    assert.locationRange({ index: 0, offset: 3 })\n    expectDocument(`ab${OBJECT_REPLACEMENT_CHARACTER}\\n`)\n  })\n\n  test(\"editing an attachment caption with no filename\", async () => {\n    await delay(20)\n\n    let captionElement = findElement(\"figcaption\")\n    assert.ok(captionElement.clientHeight > 0)\n    assert.equal(captionElement.getAttribute(\"data-trix-placeholder\"), config.lang.captionPlaceholder)\n\n    await clickElement(findElement(\"figure\"))\n\n    captionElement = findElement(\"figcaption\")\n    assert.ok(captionElement.clientHeight > 0)\n    assert.equal(captionElement.getAttribute(\"data-trix-placeholder\"), config.lang.captionPlaceholder)\n  })\n\n  test(\"updating an attachment's href attribute while editing its caption\", async () => {\n    const attachment = getEditorController().attachmentManager.getAttachments()[0]\n\n    await delay(20)\n\n    await clickElement(findElement(\"figure\"))\n    await clickElement(findElement(\"figcaption\"))\n\n    await nextFrame()\n\n    let textarea = findElement(\"textarea\")\n    assert.ok(textarea)\n    textarea.focus()\n    textarea.value = \"my caption\"\n    triggerEvent(textarea, \"input\")\n    attachment.setAttributes({ href: \"https://example.com\" })\n\n    await nextFrame()\n\n    textarea = findElement(\"textarea\")\n    assert.ok(document.activeElement === textarea)\n    assert.equal(textarea.value, \"my caption\")\n\n    await pressKey(\"return\")\n\n    assert.notOk(findElement(\"textarea\"))\n    assert.textAttributes([ 2, 3 ], { caption: \"my caption\" })\n    assert.locationRange({ index: 0, offset: 3 })\n\n    expectDocument(`ab${OBJECT_REPLACEMENT_CHARACTER}\\n`)\n  })\n\n  testGroup(\"File insertion\", { template: \"editor_empty\" }, () => {\n    test(\"inserting a file in a formatted block\", async () => {\n      await clickToolbarButton({ attribute: \"bullet\" })\n      await clickToolbarButton({ attribute: \"bold\" })\n\n      getComposition().insertFile(createFile())\n\n      assert.blockAttributes([ 0, 1 ], [ \"bulletList\", \"bullet\" ])\n      assert.textAttributes([ 0, 1 ], {})\n      expectDocument(`${OBJECT_REPLACEMENT_CHARACTER}\\n`)\n    })\n\n    test(\"inserting a files in a formatted block\", async () => {\n      await clickToolbarButton({ attribute: \"quote\" })\n      await clickToolbarButton({ attribute: \"italic\" })\n\n      getComposition().insertFiles([ createFile(), createFile() ])\n\n      assert.blockAttributes([ 0, 2 ], [ \"quote\" ])\n      assert.textAttributes([ 0, 1 ], {})\n      assert.textAttributes([ 1, 2 ], {})\n      expectDocument(`${OBJECT_REPLACEMENT_CHARACTER}${OBJECT_REPLACEMENT_CHARACTER}\\n`)\n    })\n\n    test(\"setting previewURL makes an Attachment previewable\", async () => {\n      getEditorElement().addEventListener(\"trix-attachment-add\", async ({ attachment }) => {\n        attachment.setAttribute(\"previewable\", true)\n        attachment.setPreviewURL(\"/loading.png\")\n\n        await delay(50)\n\n        attachment.setPreviewURL(\"/loaded.png\")\n      }, { once: true })\n\n      getComposition().insertFile(createFile())\n\n      const loadingImg = getEditorElement().querySelector(\"img\")\n\n      assert.ok(/loading.png$/.test(loadingImg.src), \"sets previewURL to loading image\")\n\n      await delay(50)\n\n      const loadedImg = getEditorElement().querySelector(\"img\")\n\n      assert.ok(/loaded.png$/.test(loadedImg.src), \"sets previewURL to loaded image\")\n    })\n  })\n})\n\nconst getFigure = () => findElement(\"figure\")\n\nconst findElement = (selector) => getEditorElement().querySelector(selector)\n","import * as config from \"trix/config\"\nimport {\n  assert,\n  dragToCoordinates,\n  expandSelection,\n  expectDocument,\n  insertNode,\n  moveCursor,\n  pressKey,\n  selectAll,\n  test,\n  testGroup,\n  testIf,\n  triggerEvent,\n  typeCharacters,\n} from \"test/test_helper\"\n\nimport { nextFrame } from \"../test_helpers/timing_helpers\"\n\ntestGroup(\"Basic input\", { template: \"editor_empty\" }, () => {\n  test(\"typing\", async () => {\n    await typeCharacters(\"abc\")\n    expectDocument(\"abc\\n\")\n  })\n\n  test(\"backspacing\", async () => {\n    await typeCharacters(\"abc\\b\")\n    expectDocument(\"ab\\n\")\n  })\n\n  test(\"pressing delete\", async () => {\n    await typeCharacters(\"ab\")\n    await moveCursor(\"left\")\n    await pressKey(\"delete\")\n    expectDocument(\"a\\n\")\n  })\n\n  test(\"pressing return\", async () => {\n    await typeCharacters(\"ab\")\n    await pressKey(\"return\")\n    await typeCharacters(\"c\")\n\n    expectDocument(\"ab\\nc\\n\")\n  })\n\n  test(\"pressing escape in Safari\", async () => {\n    await typeCharacters(\"a\")\n\n    if (triggerEvent(document.activeElement, \"keydown\", { charCode: 0, keyCode: 27, which: 27, key: \"Escape\", code: \"Escape\" })) {\n      triggerEvent(document.activeElement, \"keypress\", { charCode: 27, keyCode: 27, which: 27, key: \"Escape\", code: \"Escape\" })\n    }\n\n    await nextFrame()\n    expectDocument(\"a\\n\")\n  })\n\n  test(\"pressing escape in Firefox\", async () => {\n    await typeCharacters(\"a\")\n    if (triggerEvent(document.activeElement, \"keydown\", { charCode: 0, keyCode: 27, which: 27, key: \"Escape\", code: \"Escape\" })) {\n      triggerEvent(document.activeElement, \"keypress\", { charCode: 0, keyCode: 27, which: 0, key: \"Escape\", code: \"Escape\" })\n    }\n    await nextFrame()\n    expectDocument(\"a\\n\")\n  })\n\n  test(\"pressing escape in Chrome\", async () => {\n    await typeCharacters(\"a\")\n    triggerEvent(document.activeElement, \"keydown\", {\n      charCode: 0,\n      keyCode: 27,\n      which: 27,\n      key: \"Escape\",\n      code: \"Escape\",\n    })\n    await nextFrame()\n    expectDocument(\"a\\n\")\n  })\n\n  test(\"cursor left\", async () => {\n    await typeCharacters(\"ac\")\n    await moveCursor(\"left\")\n    await typeCharacters(\"b\")\n\n    expectDocument(\"abc\\n\")\n  })\n\n  test(\"replace entire document\", async () => {\n    await typeCharacters(\"abc\")\n    await selectAll()\n    await typeCharacters(\"d\")\n\n    expectDocument(\"d\\n\")\n  })\n\n  test(\"remove entire document\", async () => {\n    await typeCharacters(\"abc\")\n    await selectAll()\n    await typeCharacters(\"\\b\")\n\n    expectDocument(\"\\n\")\n  })\n\n  test(\"drag text\", async () => {\n    await typeCharacters(\"abc\")\n    const coordinates = await moveCursor({ direction: \"left\", times: 2 })\n    await nextFrame()\n\n    await moveCursor(\"right\")\n    await expandSelection(\"right\")\n    await dragToCoordinates(coordinates)\n\n    await expectDocument(\"acb\\n\")\n  })\n\n  testIf(config.input.getLevel() === 0, \"inserting newline after cursor (control + o)\", async () => {\n    await typeCharacters(\"ab\")\n    await moveCursor(\"left\")\n\n    triggerEvent(document.activeElement, \"keydown\", { charCode: 0, keyCode: 79, which: 79, ctrlKey: true })\n    await nextFrame()\n\n    assert.locationRange({ index: 0, offset: 1 })\n    expectDocument(\"a\\nb\\n\")\n   })\n\n  testIf(config.input.getLevel() === 0, \"inserting ó with control + alt + o (AltGr)\", async () => {\n    await typeCharacters(\"ab\")\n    await moveCursor(\"left\")\n\n    if (triggerEvent(document.activeElement, \"keydown\", { charCode: 0, keyCode: 79, which: 79, altKey: true, ctrlKey: true })) {\n      triggerEvent(document.activeElement, \"keypress\", { charCode: 243, keyCode: 243, which: 243, altKey: true, ctrlKey: true })\n      insertNode(document.createTextNode(\"ó\"))\n    }\n\n    await nextFrame()\n    assert.locationRange({ index: 0, offset: 2 })\n    expectDocument(\"aób\\n\")\n  })\n})\n","import Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport Document from \"trix/models/document\"\n\nimport {\n  assert,\n  clickToolbarButton,\n  expandSelection,\n  expectDocument,\n  isToolbarButtonActive,\n  isToolbarButtonDisabled,\n  moveCursor,\n  pressKey,\n  replaceDocument,\n  selectAll,\n  test,\n  testGroup,\n  typeCharacters,\n} from \"test/test_helper\"\nimport { nextFrame } from \"../test_helpers/timing_helpers\"\n\ntestGroup(\"Block formatting\", { template: \"editor_empty\" }, () => {\n  test(\"applying block attributes\", async () => {\n    await typeCharacters(\"abc\")\n    await clickToolbarButton({ attribute: \"quote\" })\n\n    assert.blockAttributes([ 0, 4 ], [ \"quote\" ])\n    assert.ok(isToolbarButtonActive({ attribute: \"quote\" }))\n\n    await clickToolbarButton({ attribute: \"code\" })\n    assert.blockAttributes([ 0, 4 ], [ \"quote\", \"code\" ])\n    assert.ok(isToolbarButtonActive({ attribute: \"code\" }))\n\n    await clickToolbarButton({ attribute: \"code\" })\n    assert.blockAttributes([ 0, 4 ], [ \"quote\" ])\n    assert.notOk(isToolbarButtonActive({ attribute: \"code\" }))\n    assert.ok(isToolbarButtonActive({ attribute: \"quote\" }))\n  })\n\n  test(\"applying block attributes to text after newline\", async () => {\n    await typeCharacters(\"a\\nbc\")\n    await clickToolbarButton({ attribute: \"quote\" })\n\n    assert.blockAttributes([ 0, 2 ], [])\n    assert.blockAttributes([ 2, 4 ], [ \"quote\" ])\n  })\n\n  test(\"applying block attributes to text between newlines\", async () => {\n    await typeCharacters(\"ab\\ndef\\nghi\\nj\\n\")\n    await moveCursor({ direction: \"left\", times: 2 })\n    await expandSelection({ direction: \"left\", times: 5 })\n    await clickToolbarButton({ attribute: \"quote\" })\n\n    assert.blockAttributes([ 0, 3 ], [])\n    assert.blockAttributes([ 3, 11 ], [ \"quote\" ])\n    assert.blockAttributes([ 11, 13 ], [])\n  })\n\n  test(\"applying bullets to text with newlines\", async () => {\n    await typeCharacters(\"abc\\ndef\\nghi\\njkl\\nmno\\n\")\n    await moveCursor({ direction: \"left\", times: 2 })\n    await expandSelection({ direction: \"left\", times: 15 })\n    await clickToolbarButton({ attribute: \"bullet\" })\n\n    assert.blockAttributes([ 0, 4 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 4, 8 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 8, 12 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 12, 16 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 16, 20 ], [ \"bulletList\", \"bullet\" ])\n  })\n\n  test(\"applying block attributes to adjacent unformatted blocks consolidates them\", async () => {\n    const document = new Document([\n      new Block(Text.textForStringWithAttributes(\"1\"), [ \"bulletList\", \"bullet\" ]),\n      new Block(Text.textForStringWithAttributes(\"a\"), []),\n      new Block(Text.textForStringWithAttributes(\"b\"), []),\n      new Block(Text.textForStringWithAttributes(\"c\"), []),\n      new Block(Text.textForStringWithAttributes(\"2\"), [ \"bulletList\", \"bullet\" ]),\n      new Block(Text.textForStringWithAttributes(\"3\"), [ \"bulletList\", \"bullet\" ]),\n    ])\n\n    replaceDocument(document)\n    getEditorController().setLocationRange([\n      { index: 0, offset: 0 },\n      { index: 5, offset: 1 },\n    ])\n\n    await nextFrame()\n    await clickToolbarButton({ attribute: \"quote\" })\n\n    assert.blockAttributes([ 0, 2 ], [ \"bulletList\", \"bullet\", \"quote\" ])\n    assert.blockAttributes([ 2, 8 ], [ \"quote\" ])\n    assert.blockAttributes([ 8, 10 ], [ \"bulletList\", \"bullet\", \"quote\" ])\n    assert.blockAttributes([ 10, 12 ], [ \"bulletList\", \"bullet\", \"quote\" ])\n  })\n\n  test(\"breaking out of the end of a block\", async () => {\n    await typeCharacters(\"abc\")\n    await clickToolbarButton({ attribute: \"quote\" })\n    await typeCharacters(\"\\n\\n\")\n\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [ \"quote\" ])\n    assert.equal(block.toString(), \"abc\\n\")\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [])\n    assert.equal(block.toString(), \"\\n\")\n\n    assert.locationRange({ index: 1, offset: 0 })\n  })\n\n  test(\"breaking out of the middle of a block before character\", async () => {\n    // * = cursor\n    //\n    // ab\n    // *c\n    //\n    await typeCharacters(\"abc\")\n    await clickToolbarButton({ attribute: \"quote\" })\n    await moveCursor(\"left\")\n    await typeCharacters(\"\\n\\n\")\n\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 3)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [ \"quote\" ])\n    assert.equal(block.toString(), \"ab\\n\")\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [])\n    assert.equal(block.toString(), \"\\n\")\n\n    block = document.getBlockAtIndex(2)\n    assert.deepEqual(block.getAttributes(), [ \"quote\" ])\n    assert.equal(block.toString(), \"c\\n\")\n\n    assert.locationRange({ index: 2, offset: 0 })\n  })\n\n  test(\"breaking out of the middle of a block before newline\", async () => {\n    // * = cursor\n    //\n    // ab\n    // *\n    // c\n    //\n    await typeCharacters(\"abc\")\n    await clickToolbarButton({ attribute: \"quote\" })\n    await moveCursor(\"left\")\n    await typeCharacters(\"\\n\")\n    await moveCursor(\"left\")\n    await typeCharacters(\"\\n\\n\")\n\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 3)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [ \"quote\" ])\n    assert.equal(block.toString(), \"ab\\n\")\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [])\n    assert.equal(block.toString(), \"\\n\")\n\n    block = document.getBlockAtIndex(2)\n    assert.deepEqual(block.getAttributes(), [ \"quote\" ])\n    assert.equal(block.toString(), \"c\\n\")\n  })\n\n  test(\"breaking out of a formatted block with adjacent non-formatted blocks\", async () => {\n    // * = cursor\n    //\n    // a\n    // b*\n    // c\n    let document = new Document([\n      new Block(Text.textForStringWithAttributes(\"a\"), []),\n      new Block(Text.textForStringWithAttributes(\"b\"), [ \"quote\" ]),\n      new Block(Text.textForStringWithAttributes(\"c\"), []),\n    ])\n\n    replaceDocument(document)\n    getEditor().setSelectedRange(3)\n\n    await typeCharacters(\"\\n\\n\")\n\n    document = getDocument()\n    assert.equal(document.getBlockCount(), 4)\n    assert.blockAttributes([ 0, 1 ], [])\n    assert.blockAttributes([ 2, 3 ], [ \"quote\" ])\n    assert.blockAttributes([ 4, 5 ], [])\n    assert.blockAttributes([ 5, 6 ], [])\n    expectDocument(\"a\\nb\\n\\nc\\n\")\n  })\n\n  test(\"breaking out a block after newline at offset 0\", async () => {\n    // * = cursor\n    //\n    //\n    // *a\n    //\n    await typeCharacters(\"a\")\n    await clickToolbarButton({ attribute: \"quote\" })\n    await moveCursor(\"left\")\n    await typeCharacters(\"\\n\\n\")\n\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [])\n    assert.equal(block.toString(), \"\\n\")\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [ \"quote\" ])\n    assert.equal(block.toString(), \"a\\n\")\n    assert.locationRange({ index: 1, offset: 0 })\n  })\n\n  test(\"deleting the only non-block-break character in a block\", async () => {\n    await typeCharacters(\"ab\")\n    await clickToolbarButton({ attribute: \"quote\" })\n    await typeCharacters(\"\\b\\b\")\n    assert.blockAttributes([ 0, 1 ], [ \"quote\" ])\n  })\n\n  test(\"backspacing a quote\", async () => {\n    await nextFrame()\n    await clickToolbarButton({ attribute: \"quote\" })\n    assert.blockAttributes([ 0, 1 ], [ \"quote\" ])\n    await pressKey(\"backspace\")\n    assert.blockAttributes([ 0, 1 ], [])\n  })\n\n  test(\"backspacing a nested quote\", async () => {\n    await clickToolbarButton({ attribute: \"quote\" })\n    await clickToolbarButton({ action: \"increaseNestingLevel\" })\n    assert.blockAttributes([ 0, 1 ], [ \"quote\", \"quote\" ])\n    await pressKey(\"backspace\")\n    assert.blockAttributes([ 0, 1 ], [ \"quote\" ])\n    await pressKey(\"backspace\")\n    assert.blockAttributes([ 0, 1 ], [])\n  })\n\n  test(\"backspacing a list item\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    assert.blockAttributes([ 0, 1 ], [ \"bulletList\", \"bullet\" ])\n    await pressKey(\"backspace\")\n    assert.blockAttributes([ 0, 0 ], [])\n  })\n\n  test(\"backspacing a nested list item\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"a\\n\")\n    await clickToolbarButton({ action: \"increaseNestingLevel\" })\n    assert.blockAttributes([ 2, 3 ], [ \"bulletList\", \"bullet\", \"bulletList\", \"bullet\" ])\n    await pressKey(\"backspace\")\n    assert.blockAttributes([ 2, 3 ], [ \"bulletList\", \"bullet\" ])\n    expectDocument(\"a\\n\\n\")\n  })\n\n  test(\"backspacing a list item inside a quote\", async () => {\n    await clickToolbarButton({ attribute: \"quote\" })\n    await clickToolbarButton({ attribute: \"bullet\" })\n    assert.blockAttributes([ 0, 1 ], [ \"quote\", \"bulletList\", \"bullet\" ])\n\n    await pressKey(\"backspace\")\n    assert.blockAttributes([ 0, 1 ], [ \"quote\" ])\n    await pressKey(\"backspace\")\n    assert.blockAttributes([ 0, 1 ], [])\n  })\n\n  test(\"backspacing selected nested list items\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"a\\n\")\n    await clickToolbarButton({ action: \"increaseNestingLevel\" })\n    await typeCharacters(\"b\")\n    getSelectionManager().setLocationRange([\n      { index: 0, offset: 0 },\n      { index: 1, offset: 1 },\n    ])\n    await pressKey(\"backspace\")\n    assert.blockAttributes([ 0, 1 ], [ \"bulletList\", \"bullet\" ])\n    expectDocument(\"\\n\")\n  })\n\n  test(\"backspace selection spanning formatted blocks\", async () => {\n    await clickToolbarButton({ attribute: \"quote\" })\n    await typeCharacters(\"ab\\n\\n\")\n    await clickToolbarButton({ attribute: \"code\" })\n    await typeCharacters(\"cd\")\n    getSelectionManager().setLocationRange([\n      { index: 0, offset: 1 },\n      { index: 1, offset: 1 },\n    ])\n    getComposition().deleteInDirection(\"backward\")\n    assert.blockAttributes([ 0, 2 ], [ \"quote\" ])\n    expectDocument(\"ad\\n\")\n  })\n\n  test(\"backspace selection spanning and entire formatted block and a formatted block\", async () => {\n    await clickToolbarButton({ attribute: \"quote\" })\n    await typeCharacters(\"ab\\n\\n\")\n    await clickToolbarButton({ attribute: \"code\" })\n    await typeCharacters(\"cd\")\n    getSelectionManager().setLocationRange([\n      { index: 0, offset: 0 },\n      { index: 1, offset: 1 },\n    ])\n    getComposition().deleteInDirection(\"backward\")\n    assert.blockAttributes([ 0, 2 ], [ \"code\" ])\n    expectDocument(\"d\\n\")\n  })\n\n  test(\"increasing list level\", async () => {\n    assert.ok(isToolbarButtonDisabled({ action: \"increaseNestingLevel\" }))\n    assert.ok(isToolbarButtonDisabled({ action: \"decreaseNestingLevel\" }))\n    await clickToolbarButton({ attribute: \"bullet\" })\n    assert.ok(isToolbarButtonDisabled({ action: \"increaseNestingLevel\" }))\n    assert.notOk(isToolbarButtonDisabled({ action: \"decreaseNestingLevel\" }))\n    await typeCharacters(\"a\\n\")\n    assert.notOk(isToolbarButtonDisabled({ action: \"increaseNestingLevel\" }))\n    assert.notOk(isToolbarButtonDisabled({ action: \"decreaseNestingLevel\" }))\n    await clickToolbarButton({ action: \"increaseNestingLevel\" })\n    await typeCharacters(\"b\")\n    assert.ok(isToolbarButtonDisabled({ action: \"increaseNestingLevel\" }))\n    assert.notOk(isToolbarButtonDisabled({ action: \"decreaseNestingLevel\" }))\n    assert.blockAttributes([ 0, 2 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 2, 4 ], [ \"bulletList\", \"bullet\", \"bulletList\", \"bullet\" ])\n  })\n\n  test(\"changing list type\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    assert.blockAttributes([ 0, 1 ], [ \"bulletList\", \"bullet\" ])\n    await clickToolbarButton({ attribute: \"number\" })\n    assert.blockAttributes([ 0, 1 ], [ \"numberList\", \"number\" ])\n  })\n\n  test(\"adding bullet to heading block\", async () => {\n    await clickToolbarButton({ attribute: \"heading1\" })\n    await clickToolbarButton({ attribute: \"bullet\" })\n\n    assert.ok(isToolbarButtonActive({ attribute: \"heading1\" }))\n    assert.blockAttributes([ 1, 2 ], [])\n  })\n\n  test(\"removing bullet from heading block\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await clickToolbarButton({ attribute: \"heading1\" })\n    assert.ok(isToolbarButtonDisabled({ attribute: \"bullet\" }))\n  })\n\n  test(\"breaking out of heading in list\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await clickToolbarButton({ attribute: \"heading1\" })\n    assert.ok(isToolbarButtonActive({ attribute: \"heading1\" }))\n    await typeCharacters(\"abc\")\n    await typeCharacters(\"\\n\")\n\n    assert.ok(isToolbarButtonActive({ attribute: \"bullet\" }))\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n    assert.blockAttributes([ 0, 4 ], [ \"bulletList\", \"bullet\", \"heading1\" ])\n    assert.blockAttributes([ 4, 5 ], [ \"bulletList\", \"bullet\" ])\n    expectDocument(\"abc\\n\\n\")\n  })\n\n  test(\"breaking out of middle of heading block\", async () => {\n    await clickToolbarButton({ attribute: \"heading1\" })\n    await typeCharacters(\"abc\")\n    assert.ok(isToolbarButtonActive({ attribute: \"heading1\" }))\n    await moveCursor({ direction: \"left\", times: 1 })\n    await typeCharacters(\"\\n\")\n\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n    assert.blockAttributes([ 0, 3 ], [ \"heading1\" ])\n    assert.blockAttributes([ 3, 4 ], [ \"heading1\" ])\n    expectDocument(\"ab\\nc\\n\")\n  })\n\n  test(\"breaking out of middle of heading block with preceding blocks\", async () => {\n    let document = new Document([\n      new Block(Text.textForStringWithAttributes(\"a\"), [ \"heading1\" ]),\n      new Block(Text.textForStringWithAttributes(\"b\"), []),\n      new Block(Text.textForStringWithAttributes(\"cd\"), [ \"heading1\" ]),\n    ])\n\n    replaceDocument(document)\n    getEditor().setSelectedRange(5)\n    assert.ok(isToolbarButtonActive({ attribute: \"heading1\" }))\n\n    await typeCharacters(\"\\n\")\n    document = getDocument()\n    assert.equal(document.getBlockCount(), 4)\n    assert.blockAttributes([ 0, 1 ], [ \"heading1\" ])\n    assert.blockAttributes([ 2, 3 ], [])\n    assert.blockAttributes([ 4, 5 ], [ \"heading1\" ])\n    assert.blockAttributes([ 6, 7 ], [ \"heading1\" ])\n    expectDocument(\"a\\nb\\nc\\nd\\n\")\n  })\n\n  test(\"breaking out of end of heading block with preceding blocks\", async () => {\n    let document = new Document([\n      new Block(Text.textForStringWithAttributes(\"a\"), [ \"heading1\" ]),\n      new Block(Text.textForStringWithAttributes(\"b\"), []),\n      new Block(Text.textForStringWithAttributes(\"cd\"), [ \"heading1\" ]),\n    ])\n\n    replaceDocument(document)\n    getEditor().setSelectedRange(6)\n    assert.ok(isToolbarButtonActive({ attribute: \"heading1\" }))\n\n    await typeCharacters(\"\\n\")\n    document = getDocument()\n    assert.equal(document.getBlockCount(), 4)\n    assert.blockAttributes([ 0, 1 ], [ \"heading1\" ])\n    assert.blockAttributes([ 2, 3 ], [])\n    assert.blockAttributes([ 4, 6 ], [ \"heading1\" ])\n    assert.blockAttributes([ 7, 8 ], [])\n    expectDocument(\"a\\nb\\ncd\\n\\n\")\n\n  })\n\n  test(\"inserting newline before heading\", async () => {\n    let document = new Document([\n      new Block(Text.textForStringWithAttributes(\"\\n\"), []),\n      new Block(Text.textForStringWithAttributes(\"abc\"), [ \"heading1\" ]),\n    ])\n\n    replaceDocument(document)\n    getEditor().setSelectedRange(0)\n\n    await typeCharacters(\"\\n\")\n    document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [])\n    assert.equal(block.toString(), \"\\n\\n\\n\")\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [ \"heading1\" ])\n    assert.equal(block.toString(), \"abc\\n\")\n  })\n\n  test(\"inserting multiple newlines before heading\", async () => {\n    let document = new Document([\n      new Block(Text.textForStringWithAttributes(\"\\n\"), []),\n      new Block(Text.textForStringWithAttributes(\"abc\"), [ \"heading1\" ]),\n    ])\n\n    replaceDocument(document)\n    getEditor().setSelectedRange(0)\n\n    await typeCharacters(\"\\n\\n\")\n    document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [])\n    assert.equal(block.toString(), \"\\n\\n\\n\\n\")\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [ \"heading1\" ])\n    assert.equal(block.toString(), \"abc\\n\")\n  })\n\n  test(\"inserting multiple newlines before formatted block\", async () => {\n    let document = new Document([\n      new Block(Text.textForStringWithAttributes(\"\\n\"), []),\n      new Block(Text.textForStringWithAttributes(\"abc\"), [ \"quote\" ]),\n    ])\n\n    replaceDocument(document)\n    getEditor().setSelectedRange(1)\n\n    await typeCharacters(\"\\n\\n\")\n    document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n    assert.blockAttributes([ 0, 1 ], [])\n    assert.blockAttributes([ 2, 3 ], [])\n    assert.blockAttributes([ 4, 6 ], [ \"quote\" ])\n    assert.locationRange({ index: 0, offset: 3 })\n    expectDocument(\"\\n\\n\\n\\nabc\\n\")\n  })\n\n  test(\"inserting newline after heading with text in following block\", async () => {\n    let document = new Document([\n      new Block(Text.textForStringWithAttributes(\"ab\"), [ \"heading1\" ]),\n      new Block(Text.textForStringWithAttributes(\"cd\"), []),\n    ])\n\n    replaceDocument(document)\n    getEditor().setSelectedRange(2)\n\n    await typeCharacters(\"\\n\")\n    document = getDocument()\n    assert.equal(document.getBlockCount(), 3)\n    assert.blockAttributes([ 0, 2 ], [ \"heading1\" ])\n    assert.blockAttributes([ 3, 4 ], [])\n    assert.blockAttributes([ 5, 6 ], [])\n    expectDocument(\"ab\\n\\ncd\\n\")\n  })\n\n  test(\"backspacing a newline in an empty block with adjacent formatted blocks\", async () => {\n    let document = new Document([\n      new Block(Text.textForStringWithAttributes(\"abc\"), [ \"heading1\" ]),\n      new Block(),\n      new Block(Text.textForStringWithAttributes(\"d\"), [ \"heading1\" ]),\n    ])\n\n    replaceDocument(document)\n    getEditor().setSelectedRange(4)\n\n    await pressKey(\"backspace\")\n    document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n    assert.blockAttributes([ 0, 1 ], [ \"heading1\" ])\n    assert.blockAttributes([ 2, 3 ], [ \"heading1\" ])\n    expectDocument(\"abc\\nd\\n\")\n  })\n\n  test(\"backspacing a newline at beginning of non-formatted block\", async () => {\n    let document = new Document([\n      new Block(Text.textForStringWithAttributes(\"ab\"), [ \"heading1\" ]),\n      new Block(Text.textForStringWithAttributes(\"\\ncd\"), []),\n    ])\n\n    replaceDocument(document)\n    getEditor().setSelectedRange(3)\n\n    await pressKey(\"backspace\")\n    document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n    assert.blockAttributes([ 0, 2 ], [ \"heading1\" ])\n    assert.blockAttributes([ 3, 5 ], [])\n    expectDocument(\"ab\\ncd\\n\")\n  })\n\n  test(\"inserting newline after single character header\", async () => {\n    await clickToolbarButton({ attribute: \"heading1\" })\n    await typeCharacters(\"a\")\n    await typeCharacters(\"\\n\")\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n    assert.blockAttributes([ 0, 1 ], [ \"heading1\" ])\n    expectDocument(\"a\\n\\n\")\n  })\n\n  test(\"terminal attributes are only added once\", async () => {\n    replaceDocument(\n      new Document([\n        new Block(Text.textForStringWithAttributes(\"a\"), []),\n        new Block(Text.textForStringWithAttributes(\"b\"), [ \"heading1\" ]),\n        new Block(Text.textForStringWithAttributes(\"c\"), []),\n      ])\n    )\n\n    await selectAll()\n    await clickToolbarButton({ attribute: \"heading1\" })\n    assert.equal(getDocument().getBlockCount(), 3)\n    assert.blockAttributes([ 0, 1 ], [ \"heading1\" ])\n    assert.blockAttributes([ 2, 3 ], [ \"heading1\" ])\n    assert.blockAttributes([ 4, 5 ], [ \"heading1\" ])\n    expectDocument(\"a\\nb\\nc\\n\")\n  })\n\n  test(\"terminal attributes replace existing terminal attributes\", async () => {\n    replaceDocument(\n      new Document([\n        new Block(Text.textForStringWithAttributes(\"a\"), []),\n        new Block(Text.textForStringWithAttributes(\"b\"), [ \"heading1\" ]),\n        new Block(Text.textForStringWithAttributes(\"c\"), []),\n      ])\n    )\n\n    await selectAll()\n    await clickToolbarButton({ attribute: \"code\" })\n    assert.equal(getDocument().getBlockCount(), 3)\n    assert.blockAttributes([ 0, 1 ], [ \"code\" ])\n    assert.blockAttributes([ 2, 3 ], [ \"code\" ])\n    assert.blockAttributes([ 4, 5 ], [ \"code\" ])\n    expectDocument(\"a\\nb\\nc\\n\")\n  })\n\n  test(\"code blocks preserve newlines\", async () => {\n    await typeCharacters(\"a\\nb\")\n    await selectAll()\n    clickToolbarButton({ attribute: \"code\" })\n    assert.equal(getDocument().getBlockCount(), 1)\n    assert.blockAttributes([ 0, 3 ], [ \"code\" ])\n    expectDocument(\"a\\nb\\n\")\n  })\n\n  test(\"code blocks are not indentable\", async () => {\n    await clickToolbarButton({ attribute: \"code\" })\n    assert.notOk(isToolbarButtonActive({ action: \"increaseNestingLevel\" }))\n  })\n\n  test(\"code blocks are terminal\", async () => {\n    await clickToolbarButton({ attribute: \"code\" })\n    assert.ok(isToolbarButtonDisabled({ attribute: \"quote\" }))\n    assert.ok(isToolbarButtonDisabled({ attribute: \"heading1\" }))\n    assert.ok(isToolbarButtonDisabled({ attribute: \"bullet\" }))\n    assert.ok(isToolbarButtonDisabled({ attribute: \"number\" }))\n    assert.notOk(isToolbarButtonDisabled({ attribute: \"code\" }))\n    assert.notOk(isToolbarButtonDisabled({ attribute: \"bold\" }))\n    assert.notOk(isToolbarButtonDisabled({ attribute: \"italic\" }))\n  })\n\n  test(\"unindenting a code block inside a bullet\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await clickToolbarButton({ attribute: \"code\" })\n    await typeCharacters(\"a\")\n    await clickToolbarButton({ action: \"decreaseNestingLevel\" })\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 1)\n    assert.blockAttributes([ 0, 1 ], [ \"code\" ])\n    expectDocument(\"a\\n\")\n  })\n\n  test(\"indenting a heading inside a bullet\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"a\")\n    await typeCharacters(\"\\n\")\n    await clickToolbarButton({ attribute: \"heading1\" })\n    await typeCharacters(\"b\")\n    await clickToolbarButton({ action: \"increaseNestingLevel\" })\n\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n    assert.blockAttributes([ 0, 1 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 2, 3 ], [ \"bulletList\", \"bullet\", \"bulletList\", \"bullet\", \"heading1\" ])\n    expectDocument(\"a\\nb\\n\")\n  })\n\n  test(\"indenting a quote inside a bullet\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await clickToolbarButton({ attribute: \"quote\" })\n    await clickToolbarButton({ action: \"increaseNestingLevel\" })\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 1)\n    assert.blockAttributes([ 0, 1 ], [ \"bulletList\", \"bullet\", \"quote\", \"quote\" ])\n    expectDocument(\"\\n\")\n  })\n\n  test(\"list indentation constraints consider the list type\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"a\\n\\n\")\n    await clickToolbarButton({ attribute: \"number\" })\n    await clickToolbarButton({ action: \"increaseNestingLevel\" })\n\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n    assert.blockAttributes([ 0, 1 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 2, 3 ], [ \"numberList\", \"number\" ])\n    expectDocument(\"a\\n\\n\")\n  })\n})\n","import { assert, clickToolbarButton, moveCursor, test, testGroup, typeCharacters } from \"test/test_helper\"\n\ntestGroup(\"View caching\", { template: \"editor_empty\" }, () => {\n  test(\"reparsing and rendering identical texts\", async () => {\n    await typeCharacters(\"a\\nb\\na\")\n    await moveCursor({ direction: \"left\", times: 2 })\n    await clickToolbarButton({ attribute: \"quote\" })\n\n    const html = getEditorElement().innerHTML\n    getEditorController().reparse()\n    getEditorController().render()\n    assert.equal(getEditorElement().innerHTML, html)\n  })\n\n  test(\"reparsing and rendering identical blocks\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"a\\na\")\n\n    const html = getEditorElement().innerHTML\n    getEditorController().reparse()\n    getEditorController().render()\n    assert.equal(getEditorElement().innerHTML, html)\n  })\n})\n","import { expectDocument, pressKey, test, testGroup, typeCharacters } from \"test/test_helper\"\n\nconst testOptions = {\n  template: \"editor_empty\",\n  setup() {\n    let handler\n    addEventListener(\"keydown\", cancel, true)\n    addEventListener(\n      \"trix-before-initialize\",\n      handler = function ({ target }) {\n        removeEventListener(\"trix-before-initialize\", handler)\n        target.addEventListener(\"keydown\", cancel)\n      }\n    )\n  },\n  teardown() {\n    removeEventListener(\"keydown\", cancel, true)\n  },\n}\n\nlet cancelingInCapturingPhase = false\nlet cancelingAtTarget = false\n\nconst cancel = (event) => {\n  switch (event.eventPhase) {\n    case Event.prototype.CAPTURING_PHASE:\n      if (cancelingInCapturingPhase) {\n        event.preventDefault()\n      }\n      break\n    case Event.prototype.AT_TARGET:\n      if (cancelingAtTarget) {\n        event.preventDefault()\n      }\n      break\n  }\n}\n\ntestGroup(\"Canceled input\", testOptions, () => {\n  test(\"ignoring canceled input events in capturing phase\", async () => {\n    await typeCharacters(\"a\")\n    cancelingInCapturingPhase = true\n    await pressKey(\"backspace\")\n    await pressKey(\"return\")\n    cancelingInCapturingPhase = false\n    await typeCharacters(\"b\")\n\n    expectDocument(\"ab\\n\")\n  })\n\n  test(\"ignoring canceled input events at target\", async () => {\n    await typeCharacters(\"a\")\n    cancelingAtTarget = true\n    await pressKey(\"backspace\")\n    await pressKey(\"return\")\n    cancelingAtTarget = false\n    await typeCharacters(\"b\")\n    expectDocument(\"ab\\n\")\n  })\n})\n","import * as config from \"trix/config\"\n\nimport {\n  assert,\n  clickToolbarButton,\n  endComposition,\n  expectDocument,\n  insertNode,\n  pressKey,\n  selectNode,\n  startComposition,\n  test,\n  testGroup,\n  testIf,\n  triggerEvent,\n  triggerInputEvent,\n  typeCharacters,\n  updateComposition,\n} from \"test/test_helper\"\nimport { nextFrame } from \"../test_helpers/timing_helpers\"\n\ntestGroup(\"Composition input\", { template: \"editor_empty\" }, () => {\n  test(\"composing\", async () => {\n    await startComposition(\"a\")\n    await updateComposition(\"ab\")\n    await endComposition(\"abc\")\n\n    expectDocument(\"abc\\n\")\n  })\n\n  test(\"typing and composing\", async () => {\n    await typeCharacters(\"a\")\n    await startComposition(\"b\")\n    await updateComposition(\"bc\")\n    await endComposition(\"bcd\")\n    await typeCharacters(\"e\")\n\n    expectDocument(\"abcde\\n\")\n  })\n\n  test(\"composition input is serialized\", async () => {\n    await startComposition(\"´\")\n    await endComposition(\"é\")\n\n    assert.equal(getEditorElement().value, \"<div>é</div>\")\n    expectDocument(\"é\\n\")\n  })\n\n  test(\"pressing after a canceled composition\", async () => {\n    await typeCharacters(\"ab\")\n    triggerEvent(document.activeElement, \"compositionend\", { data: \"ab\" })\n    await pressKey(\"return\")\n\n    expectDocument(\"ab\\n\\n\")\n  })\n\n  test(\"composing formatted text\", async () => {\n    await typeCharacters(\"abc\")\n    await clickToolbarButton({ attribute: \"bold\" })\n    await startComposition(\"d\")\n    await updateComposition(\"de\")\n    await endComposition(\"def\")\n\n    assert.textAttributes([ 0, 3 ], {})\n    assert.textAttributes([ 3, 6 ], { bold: true })\n    expectDocument(\"abcdef\\n\")\n  })\n\n  test(\"composing away from formatted text\", async () => {\n    await clickToolbarButton({ attribute: \"bold\" })\n    await typeCharacters(\"abc\")\n    await clickToolbarButton({ attribute: \"bold\" })\n    await startComposition(\"d\")\n    await updateComposition(\"de\")\n    await endComposition(\"def\")\n\n    assert.textAttributes([ 0, 3 ], { bold: true })\n    assert.textAttributes([ 3, 6 ], {})\n    expectDocument(\"abcdef\\n\")\n  })\n\n  test(\"composing another language using a QWERTY keyboard\", async () => {\n    const element = getEditorElement()\n    const keyCodes = { x: 120, i: 105 }\n\n    triggerEvent(element, \"keypress\", { charCode: keyCodes.x, keyCode: keyCodes.x, which: keyCodes.x })\n    await startComposition(\"x\")\n    triggerEvent(element, \"keypress\", { charCode: keyCodes.i, keyCode: keyCodes.i, which: keyCodes.i })\n    await updateComposition(\"xi\")\n    await endComposition(\"喜\")\n\n    expectDocument(\"喜\\n\")\n  })\n\n  // Simulates the sequence of events when pressing backspace through a word on Android\n  testIf(config.input.getLevel() === 0, \"backspacing through a composition\", async () => {\n    const element = getEditorElement()\n    element.editor.insertString(\"a cat\")\n\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 229, which: 229 })\n    triggerEvent(element, \"compositionupdate\", { data: \"ca\" })\n    triggerEvent(element, \"input\")\n    await removeCharacters(-1)\n\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 229, which: 229 })\n    triggerEvent(element, \"compositionupdate\", { data: \"c\" })\n    triggerEvent(element, \"input\")\n    triggerEvent(element, \"compositionend\", { data: \"c\" })\n    await removeCharacters(-1)\n    await pressKey(\"backspace\")\n\n    expectDocument(\"a \\n\")\n  })\n\n  // Simulates the sequence of events when pressing backspace at the end of a\n  // word and updating it on Android (running older versions of System WebView)\n  testIf(config.input.getLevel() === 0, \"updating a composition\", async () => {\n    const element = getEditorElement()\n    element.editor.insertString(\"cat\")\n\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 229, which: 229 })\n    triggerEvent(element, \"compositionstart\", { data: \"cat\" })\n    triggerEvent(element, \"compositionupdate\", { data: \"cat\" })\n    triggerEvent(element, \"input\")\n    await removeCharacters(-1)\n\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 229, which: 229 })\n    triggerEvent(element, \"compositionupdate\", { data: \"car\" })\n    triggerEvent(element, \"input\")\n    triggerEvent(element, \"compositionend\", { data: \"car\" })\n    await insertNode(document.createTextNode(\"r\"))\n\n    expectDocument(\"car\\n\")\n  })\n\n  // Simulates the sequence of events when typing on Android and then tapping elsewhere\n  testIf(config.input.getLevel() === 0, \"leaving a composition\", async () => {\n    const element = getEditorElement()\n\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 229, which: 229 })\n    triggerEvent(element, \"compositionstart\", { data: \"\" })\n    triggerInputEvent(element, \"beforeinput\", { inputType: \"insertCompositionText\", data: \"c\" })\n    triggerEvent(element, \"compositionupdate\", { data: \"c\" })\n    triggerEvent(element, \"input\")\n    const node = document.createTextNode(\"c\")\n    insertNode(node)\n    selectNode(node)\n\n    await nextFrame()\n\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 229, which: 229 })\n    triggerInputEvent(element, \"beforeinput\", { inputType: \"insertCompositionText\", data: \"ca\" })\n    triggerEvent(element, \"compositionupdate\", { data: \"ca\" })\n    triggerEvent(element, \"input\")\n    node.data = \"ca\"\n\n    await nextFrame()\n    triggerEvent(element, \"compositionend\", { data: \"\" })\n\n    await nextFrame()\n    expectDocument(\"ca\\n\")\n  })\n\n  testIf(config.browser.composesExistingText, \"composition events from cursor movement are ignored\", async () => {\n    const element = getEditorElement()\n    element.editor.insertString(\"ab \")\n\n    element.editor.setSelectedRange(0)\n    triggerEvent(element, \"compositionstart\", { data: \"\" })\n    triggerEvent(element, \"compositionupdate\", { data: \"ab\" })\n\n    await nextFrame()\n    element.editor.setSelectedRange(1)\n    triggerEvent(element, \"compositionupdate\", { data: \"ab\" })\n\n    await nextFrame()\n\n    element.editor.setSelectedRange(2)\n    triggerEvent(element, \"compositionupdate\", { data: \"ab\" })\n\n    await nextFrame()\n    element.editor.setSelectedRange(3)\n    triggerEvent(element, \"compositionend\", { data: \"ab\" })\n\n    await nextFrame()\n    expectDocument(\"ab \\n\")\n  })\n\n  // Simulates compositions in Firefox where the final composition data is\n  // dispatched as both compositionupdate and compositionend.\n  testIf(config.input.getLevel() === 0, \"composition ending with same data as last update\", async () => {\n    const element = getEditorElement()\n\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 229, which: 229 })\n    triggerEvent(element, \"compositionstart\", { data: \"\" })\n    triggerEvent(element, \"compositionupdate\", { data: \"´\" })\n    const node = document.createTextNode(\"´\")\n    insertNode(node)\n    selectNode(node)\n\n    await nextFrame()\n\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 229, which: 229 })\n    triggerEvent(element, \"compositionupdate\", { data: \"é\" })\n    triggerEvent(element, \"input\")\n    node.data = \"é\"\n\n    await nextFrame()\n\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 229, which: 229 })\n    triggerEvent(element, \"compositionupdate\", { data: \"éé\" })\n    triggerEvent(element, \"input\")\n    node.data = \"éé\"\n\n    await nextFrame()\n    triggerEvent(element, \"compositionend\", { data: \"éé\" })\n\n    await nextFrame()\n    assert.locationRange({ index: 0, offset: 2 })\n    expectDocument(\"éé\\n\")\n  })\n})\n\nconst removeCharacters = async (direction) => {\n  const selection = rangy.getSelection()\n  const range = selection.getRangeAt(0)\n  range.moveStart(\"character\", direction)\n  range.deleteContents()\n  await nextFrame()\n}\n","import {\n  assert,\n  createFile,\n  expandSelection,\n  insertFile,\n  insertString,\n  moveCursor,\n  test,\n  testGroup,\n} from \"test/test_helper\"\n\ntestGroup(\"Cursor movement\", { template: \"editor_empty\" }, () => {\n  test(\"move cursor around attachment\", async () => {\n    insertFile(createFile())\n    assert.locationRange({ index: 0, offset: 1 })\n\n    await moveCursor(\"left\")\n    assert.locationRange({ index: 0, offset: 0 }, { index: 0, offset: 1 })\n\n    await moveCursor(\"left\")\n    assert.locationRange({ index: 0, offset: 0 })\n\n    await moveCursor(\"right\")\n    assert.locationRange({ index: 0, offset: 0 }, { index: 0, offset: 1 })\n\n    await moveCursor(\"right\")\n    assert.locationRange({ index: 0, offset: 1 })\n  })\n\n  test(\"move cursor around attachment and text\", async () => {\n    insertString(\"a\")\n    insertFile(createFile())\n    insertString(\"b\")\n    assert.locationRange({ index: 0, offset: 3 })\n\n    await moveCursor(\"left\")\n    assert.locationRange({ index: 0, offset: 2 })\n\n    await moveCursor(\"left\")\n    assert.locationRange({ index: 0, offset: 1 }, { index: 0, offset: 2 })\n\n    await moveCursor(\"left\")\n    assert.locationRange({ index: 0, offset: 1 })\n\n    await moveCursor(\"left\")\n    assert.locationRange({ index: 0, offset: 0 })\n  })\n\n  test(\"expand selection over attachment\", async () => {\n    insertFile(createFile())\n    assert.locationRange({ index: 0, offset: 1 })\n\n    await expandSelection(\"left\")\n    assert.locationRange({ index: 0, offset: 0 }, { index: 0, offset: 1 })\n\n    await moveCursor(\"left\")\n    assert.locationRange({ index: 0, offset: 0 })\n\n    await expandSelection(\"right\")\n    assert.locationRange({ index: 0, offset: 0 }, { index: 0, offset: 1 })\n  })\n\n  test(\"expand selection over attachment and text\", async () => {\n    insertString(\"a\")\n    insertFile(createFile())\n    insertString(\"b\")\n    assert.locationRange({ index: 0, offset: 3 })\n\n    await expandSelection(\"left\")\n    assert.locationRange({ index: 0, offset: 2 }, { index: 0, offset: 3 })\n\n    await expandSelection(\"left\")\n    assert.locationRange({ index: 0, offset: 1 }, { index: 0, offset: 3 })\n\n    await expandSelection(\"left\")\n    assert.locationRange({ index: 0, offset: 0 }, { index: 0, offset: 3 })\n  })\n})\n","import { makeElement, rangesAreEqual } from \"trix/core/helpers\"\nimport TrixEditorElement from \"trix/elements/trix_editor_element\"\n\nimport {\n  TEST_IMAGE_URL,\n  assert,\n  clickElement,\n  clickToolbarButton,\n  createFile,\n  expectDocument,\n  insertImageAttachment,\n  moveCursor,\n  pasteContent,\n  setFixtureHTML,\n  test,\n  testGroup,\n  testIf,\n  triggerEvent,\n  typeCharacters,\n  typeInToolbarDialog,\n} from \"test/test_helper\"\nimport { delay, nextFrame } from \"../test_helpers/timing_helpers\"\n\ntestGroup(\"Custom element API\", { template: \"editor_empty\" }, () => {\n  test(\"element triggers trix-initialize on first connect\", async () => {\n    const container = document.getElementById(\"trix-container\")\n    container.innerHTML = \"\"\n\n    let initializeEventCount = 0\n    const element = document.createElement(\"trix-editor\")\n    element.addEventListener(\"trix-initialize\", () => initializeEventCount++)\n\n    container.appendChild(element)\n    await nextFrame()\n\n    container.removeChild(element)\n    await nextFrame()\n\n    container.appendChild(element)\n    await delay(60)\n\n    assert.equal(initializeEventCount, 1)\n  })\n\n  test(\"files are accepted by default\", () => {\n    getComposition().insertFile(createFile())\n    assert.equal(getComposition().getAttachments().length, 1)\n  })\n\n  test(\"rejecting a file by canceling the trix-file-accept event\", () => {\n    getEditorElement().addEventListener(\"trix-file-accept\", (event) => event.preventDefault())\n    getComposition().insertFile(createFile())\n    assert.equal(getComposition().getAttachments().length, 0)\n  })\n\n  test(\"element triggers attachment events\", () => {\n    const file = createFile()\n    const element = getEditorElement()\n    const composition = getComposition()\n    let attachment = null\n    const events = []\n\n    element.addEventListener(\"trix-file-accept\", function (event) {\n      events.push(event.type)\n      assert.ok(file === event.file)\n    })\n\n    element.addEventListener(\"trix-attachment-add\", function (event) {\n      events.push(event.type)\n      attachment = event.attachment\n    })\n\n    composition.insertFile(file)\n    assert.deepEqual(events, [ \"trix-file-accept\", \"trix-attachment-add\" ])\n\n    element.addEventListener(\"trix-attachment-remove\", function (event) {\n      events.push(event.type)\n      assert.ok(attachment === event.attachment)\n    })\n\n    attachment.remove()\n    assert.deepEqual(events, [ \"trix-file-accept\", \"trix-attachment-add\", \"trix-attachment-remove\" ])\n  })\n\n  test(\"element triggers trix-change when an attachment is edited\", () => {\n    const file = createFile()\n    const element = getEditorElement()\n    const composition = getComposition()\n    let attachment = null\n    const events = []\n\n    element.addEventListener(\"trix-attachment-add\", (event) => attachment = event.attachment)\n\n    composition.insertFile(file)\n\n    element.addEventListener(\"trix-attachment-edit\", (event) => events.push(event.type))\n\n    element.addEventListener(\"trix-change\", (event) => events.push(event.type))\n\n    attachment.setAttributes({ width: 9876 })\n    assert.deepEqual(events, [ \"trix-attachment-edit\", \"trix-change\" ])\n  })\n\n  test(\"editing the document in a trix-attachment-add handler doesn't trigger trix-attachment-add again\", () => {\n    const element = getEditorElement()\n    const composition = getComposition()\n    let eventCount = 0\n\n    element.addEventListener(\"trix-attachment-add\", () => {\n      if (eventCount++ === 0) {\n        element.editor.setSelectedRange([ 0, 1 ])\n        element.editor.activateAttribute(\"bold\")\n      }\n    })\n\n    composition.insertFile(createFile())\n    assert.equal(eventCount, 1)\n  })\n\n  test(\"element triggers trix-change events when the document changes\", async () => {\n    const element = getEditorElement()\n    let eventCount = 0\n    element.addEventListener(\"trix-change\", (event) => eventCount++)\n\n    await typeCharacters(\"a\")\n    assert.equal(eventCount, 1)\n\n    await moveCursor(\"left\")\n    assert.equal(eventCount, 1)\n\n    await typeCharacters(\"bcd\")\n    assert.equal(eventCount, 4)\n\n    await clickToolbarButton({ action: \"undo\" })\n    assert.equal(eventCount, 5)\n  })\n\n  test(\"invoking internal actions does not dispatch a trix-action-invoke event\", async () => {\n    let event = null\n\n    addEventListener(\"trix-action-invoke\", (ev) => event = ev, { once: true })\n    await clickToolbarButton({ action: \"link\" })\n\n    assert.equal(null, event)\n  })\n\n  test(\"invoking external actions dispatches a trix-action-invoke event\", async () => {\n    let event = null\n    const editor = getEditorElement()\n    editor.toolbarElement.insertAdjacentHTML(\"beforeend\", `\n      <button id=\"test-action\" type=\"button\" data-trix-action=\"x-test\"></button>\n    `)\n\n    addEventListener(\"trix-action-invoke\", (ev) => event = ev, { once: true })\n    await clickToolbarButton({ action: \"x-test\" })\n\n    assert.equal(editor, event.target)\n    assert.equal(\"x-test\", event.actionName)\n    assert.equal(document.getElementById(\"test-action\"), event.invokingElement)\n  })\n\n  test(\"element triggers trix-change event after toggling attributes\", async () => {\n    const element = getEditorElement()\n    const { editor } = element\n\n    const afterChangeEvent = (edit) => {\n      return new Promise((resolve) => {\n        let handler\n        element.addEventListener(\n          \"trix-change\",\n          handler = function (event) {\n            element.removeEventListener(\"trix-change\", handler)\n            resolve(event)\n          }\n        )\n        edit()\n      })\n    }\n\n    await typeCharacters(\"hello\")\n\n    let edit = () => editor.activateAttribute(\"quote\")\n    await afterChangeEvent(edit)\n    assert.ok(editor.attributeIsActive(\"quote\"))\n\n    edit = () => editor.deactivateAttribute(\"quote\")\n    await afterChangeEvent(edit)\n    assert.notOk(editor.attributeIsActive(\"quote\"))\n\n    editor.setSelectedRange([ 0, 5 ])\n\n    edit = () => editor.activateAttribute(\"bold\")\n    await afterChangeEvent(edit)\n    assert.ok(editor.attributeIsActive(\"bold\"))\n\n    edit = () => editor.deactivateAttribute(\"bold\")\n    await afterChangeEvent(edit)\n    assert.notOk(editor.attributeIsActive(\"bold\"))\n  })\n\n  test(\"disabled attributes aren't considered active\", async () => {\n    const { editor } = getEditorElement()\n    editor.activateAttribute(\"heading1\")\n    assert.notOk(editor.attributeIsActive(\"code\"))\n    assert.notOk(editor.attributeIsActive(\"quote\"))\n  })\n\n  test(\"element triggers trix-selection-change events when the location range changes\", async () => {\n    const element = getEditorElement()\n    let eventCount = 0\n\n    element.addEventListener(\"trix-selection-change\", (event) => eventCount++)\n    await nextFrame()\n\n    await typeCharacters(\"a\")\n    assert.equal(eventCount, 1)\n\n    await moveCursor(\"left\")\n    assert.equal(eventCount, 2)\n  })\n\n  test(\"only triggers trix-selection-change events on the active element\", () => {\n    const elementA = getEditorElement()\n    const elementB = document.createElement(\"trix-editor\")\n    elementA.parentNode.insertBefore(elementB, elementA.nextSibling)\n\n    return new Promise((resolve) => {\n      elementB.addEventListener(\"trix-initialize\", () => {\n        elementA.editor.insertString(\"a\")\n        elementB.editor.insertString(\"b\")\n        rangy.getSelection().removeAllRanges()\n\n        let eventCountA = 0\n        let eventCountB = 0\n        elementA.addEventListener(\"trix-selection-change\", (event) => eventCountA++)\n        elementB.addEventListener(\"trix-selection-change\", (event) => eventCountB++)\n\n        elementA.editor.setSelectedRange(0)\n        assert.equal(eventCountA, 1)\n        assert.equal(eventCountB, 0)\n\n        elementB.editor.setSelectedRange(0)\n        assert.equal(eventCountA, 1)\n        assert.equal(eventCountB, 1)\n\n        elementA.editor.setSelectedRange(1)\n        assert.equal(eventCountA, 2)\n        assert.equal(eventCountB, 1)\n        resolve()\n      })\n    })\n  })\n\n  test(\"element triggers toolbar dialog events\", async () => {\n    const element = getEditorElement()\n    const events = []\n\n    element.addEventListener(\"trix-toolbar-dialog-show\", (event) => events.push(event.type))\n    element.addEventListener(\"trix-toolbar-dialog-hide\", (event) => events.push(event.type))\n    await nextFrame()\n\n    await clickToolbarButton({ action: \"link\" })\n    await typeInToolbarDialog(\"http://example.com\", { attribute: \"href\" })\n    await nextFrame()\n\n    assert.deepEqual(events, [ \"trix-toolbar-dialog-show\", \"trix-toolbar-dialog-hide\" ])\n  })\n\n  test(\"element triggers before-paste event with paste data\", async () => {\n    const element = getEditorElement()\n    let eventCount = 0\n    let paste = null\n\n    element.addEventListener(\"trix-before-paste\", function (event) {\n      eventCount++\n      paste = event.paste\n    })\n\n    await typeCharacters(\"\")\n    await pasteContent(\"text/html\", \"<strong>hello</strong>\")\n\n    assert.equal(eventCount, 1)\n    assert.equal(paste.type, \"text/html\")\n    assert.equal(paste.html, \"<strong>hello</strong>\")\n\n    expectDocument(\"hello\\n\")\n  })\n\n  test(\"element triggers before-paste event with mutable paste data\", async () => {\n    const element = getEditorElement()\n    let eventCount = 0\n    let paste = null\n\n    element.addEventListener(\"trix-before-paste\", function (event) {\n      eventCount++\n      paste = event.paste\n      paste.html = \"<strong>greetings</strong>\"\n    })\n\n    await typeCharacters(\"\")\n    await pasteContent(\"text/html\", \"<strong>hello</strong>\")\n\n    assert.equal(eventCount, 1)\n    assert.equal(paste.type, \"text/html\")\n    expectDocument(\"greetings\\n\")\n  })\n\n  test(\"element triggers paste event with position range\", async () => {\n    const element = getEditorElement()\n    let eventCount = 0\n    let paste = null\n\n    element.addEventListener(\"trix-paste\", function (event) {\n      eventCount++\n      paste = event.paste\n    })\n\n    await typeCharacters(\"\")\n    await pasteContent(\"text/html\", \"<strong>hello</strong>\")\n\n    assert.equal(eventCount, 1)\n    assert.equal(paste.type, \"text/html\")\n    assert.ok(rangesAreEqual([ 0, 5 ], paste.range))\n  })\n\n  test(\"element triggers attribute change events\", async () => {\n    const element = getEditorElement()\n    let eventCount = 0\n    let attributes = null\n\n    element.addEventListener(\"trix-attributes-change\", function (event) {\n      eventCount++\n      attributes = event.attributes\n    })\n\n    await typeCharacters(\"\")\n    assert.equal(eventCount, 0)\n\n    await clickToolbarButton({ attribute: \"bold\" })\n\n    assert.equal(eventCount, 1)\n    assert.deepEqual({ bold: true }, attributes)\n  })\n\n  test(\"element triggers action change events\", async () => {\n    const element = getEditorElement()\n    let eventCount = 0\n    let actions = null\n\n    element.addEventListener(\"trix-actions-change\", function (event) {\n      eventCount++\n      actions = event.actions\n    })\n\n    await typeCharacters(\"\")\n    assert.equal(eventCount, 0)\n\n    await clickToolbarButton({ attribute: \"bullet\" })\n\n    assert.equal(eventCount, 1)\n    assert.equal(actions.decreaseNestingLevel, true)\n    assert.equal(actions.increaseNestingLevel, false)\n  })\n\n  test(\"element triggers custom focus and blur events\", async () => {\n    const element = getEditorElement()\n\n    let focusEventCount = 0\n    let blurEventCount = 0\n    element.addEventListener(\"trix-focus\", () => focusEventCount++)\n    element.addEventListener(\"trix-blur\", () => blurEventCount++)\n\n    triggerEvent(element, \"blur\")\n    await delay(10)\n\n    assert.equal(blurEventCount, 1)\n    assert.equal(focusEventCount, 0)\n\n    triggerEvent(element, \"focus\")\n    await delay(10)\n\n    assert.equal(blurEventCount, 1)\n    assert.equal(focusEventCount, 1)\n\n    insertImageAttachment()\n    await delay(20)\n\n    await clickElement(element.querySelector(\"figure\"))\n\n    const textarea = element.querySelector(\"textarea\")\n    textarea.focus()\n    await nextFrame()\n\n    assert.equal(document.activeElement, textarea)\n    assert.equal(blurEventCount, 1)\n    assert.equal(focusEventCount, 1)\n  })\n\n  // Selenium doesn't seem to focus windows properly in some browsers (FF 47 on OS X)\n  // so skip this test when unfocused pending a better solution.\n  testIf(document.hasFocus(), \"element triggers custom focus event when autofocusing\", () => {\n    const element = document.createElement(\"trix-editor\")\n    element.setAttribute(\"autofocus\", \"\")\n\n    let focusEventCount = 0\n    element.addEventListener(\"trix-focus\", () => focusEventCount++)\n\n    const container = document.getElementById(\"trix-container\")\n    container.innerHTML = \"\"\n    container.appendChild(element)\n\n    return new Promise((resolve) => {\n      element.addEventListener(\"trix-initialize\", () => {\n        assert.equal(focusEventCount, 1)\n        resolve()\n      })\n    })\n  })\n\n  test(\"element serializes HTML after attribute changes\", async () => {\n    const element = getEditorElement()\n    let serializedHTML = element.value\n\n    await typeCharacters(\"a\")\n    assert.notEqual(serializedHTML, element.value)\n    serializedHTML = element.value\n\n    await clickToolbarButton({ attribute: \"quote\" })\n    assert.notEqual(serializedHTML, element.value)\n    serializedHTML = element.value\n\n    await clickToolbarButton({ attribute: \"quote\" })\n    assert.notEqual(serializedHTML, element.value)\n  })\n\n  test(\"element serializes HTML after attachment attribute changes\", async () => {\n    const element = getEditorElement()\n    const attributes = { url: \"test_helpers/fixtures/logo.png\", contentType: \"image/png\" }\n\n    const promise = new Promise((resolve) => {\n      element.addEventListener(\"trix-attachment-add\", async (event) => {\n        const { attachment } = event\n        await nextFrame()\n\n        let serializedHTML = element.value\n        attachment.setAttributes(attributes)\n        assert.notEqual(serializedHTML, element.value)\n\n        serializedHTML = element.value\n        assert.ok(serializedHTML.indexOf(TEST_IMAGE_URL) < 0, \"serialized HTML contains previous attachment attributes\")\n        assert.ok(\n          serializedHTML.indexOf(attributes.url) > 0,\n          \"serialized HTML doesn't contain current attachment attributes\"\n        )\n\n        attachment.remove()\n        await nextFrame()\n        resolve()\n      })\n    })\n\n\n    await nextFrame()\n    insertImageAttachment()\n\n    return promise\n  })\n\n  test(\"editor resets to its original value on form reset\", async () => {\n    const element = getEditorElement()\n    const { form } = element.inputElement\n\n    await typeCharacters(\"hello\")\n    form.reset()\n    expectDocument(\"\\n\")\n  })\n\n  test(\"editor resets to last-set value on form reset\", async () => {\n    const element = getEditorElement()\n    const { form } = element.inputElement\n\n    element.value = \"hi\"\n    await typeCharacters(\"hello\")\n    form.reset()\n    expectDocument(\"hi\\n\")\n  })\n\n  test(\"editor respects preventDefault on form reset\", async () => {\n    const element = getEditorElement()\n    const { form } = element.inputElement\n    const preventDefault = (event) => event.preventDefault()\n\n    await typeCharacters(\"hello\")\n\n    form.addEventListener(\"reset\", preventDefault, false)\n    form.reset()\n    form.removeEventListener(\"reset\", preventDefault, false)\n    expectDocument(\"hello\\n\")\n  })\n})\n\ntestGroup(\"<label> support\", { template: \"editor_with_labels\" }, () => {\n  test(\"associates all label elements\", () => {\n    const labels = [ document.getElementById(\"label-1\"), document.getElementById(\"label-3\") ]\n    assert.deepEqual(Array.from(getEditorElement().labels), labels)\n  })\n\n  test(\"focuses when <label> clicked\", () => {\n    document.getElementById(\"label-1\").click()\n    assert.equal(getEditorElement(), document.activeElement)\n  })\n\n  test(\"focuses when <label> descendant clicked\", () => {\n    document.getElementById(\"label-1\").querySelector(\"span\").click()\n    assert.equal(getEditorElement(), document.activeElement)\n  })\n\n  test(\"does not focus when <label> controls another element\", () => {\n    const label = document.getElementById(\"label-2\")\n    assert.notEqual(getEditorElement(), label.control)\n    label.click()\n    assert.notEqual(getEditorElement(), document.activeElement)\n  })\n})\n\ntestGroup(\"form property references its <form>\", { template: \"editors_with_forms\", container: \"div\" }, () => {\n  test(\"accesses its ancestor form\", () => {\n    const form = document.getElementById(\"ancestor-form\")\n    const editor = document.getElementById(\"editor-with-ancestor-form\")\n    assert.equal(editor.form, form)\n  })\n\n  test(\"transitively accesses its related <input> element's <form>\", () => {\n    const form = document.getElementById(\"input-form\")\n    const editor = document.getElementById(\"editor-with-input-form\")\n    assert.equal(editor.form, form)\n  })\n\n  test(\"returns null when there is no associated <form>\", () => {\n    const editor = document.getElementById(\"editor-with-no-form\")\n    assert.equal(editor.form, null)\n  })\n\n  test(\"editor resets to its original value on element reset\", async () => {\n    const element = getEditorElement()\n\n    await typeCharacters(\"hello\")\n    element.reset()\n    expectDocument(\"\\n\")\n  })\n\n  test(\"element returns empty string when value is missing\", () => {\n    const element = getEditorElement()\n\n    assert.equal(element.value, \"\")\n  })\n\n  test(\"editor returns its type\", () => {\n    const element = getEditorElement()\n\n    assert.equal(\"trix-editor\", element.type)\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"adds [disabled] attribute based on .disabled property\", () => {\n    const editor = document.getElementById(\"editor-with-ancestor-form\")\n\n    editor.disabled = true\n\n    assert.equal(editor.hasAttribute(\"disabled\"), true, \"adds [disabled] attribute\")\n\n    editor.disabled = false\n\n    assert.equal(editor.hasAttribute(\"disabled\"), false, \"removes [disabled] attribute\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"removes [contenteditable] and disables input when editor element has [disabled]\", () => {\n    const editor = document.getElementById(\"editor-with-no-form\")\n\n    editor.setAttribute(\"disabled\", \"\")\n\n    assert.equal(editor.matches(\":disabled\"), true, \"sets :disabled CSS pseudostate\")\n    assert.equal(editor.inputElement.disabled, true, \"disables input\")\n    assert.equal(editor.disabled, true, \"exposes [disabled] attribute as .disabled property\")\n    assert.equal(editor.hasAttribute(\"contenteditable\"), false, \"removes [contenteditable] attribute\")\n\n    editor.removeAttribute(\"disabled\")\n\n    assert.equal(editor.matches(\":disabled\"), false, \"removes sets :disabled pseudostate\")\n    assert.equal(editor.inputElement.disabled, false, \"enabled input\")\n    assert.equal(editor.disabled, false, \"updates .disabled property\")\n    assert.equal(editor.hasAttribute(\"contenteditable\"), true, \"adds [contenteditable] attribute\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"removes [contenteditable] and disables input when editor element is :disabled\", () => {\n    const editor = document.getElementById(\"editor-within-fieldset\")\n    const fieldset = document.getElementById(\"fieldset\")\n\n    fieldset.disabled = true\n\n    assert.equal(editor.matches(\":disabled\"), true, \"sets :disabled CSS pseudostate\")\n    assert.equal(editor.inputElement.disabled, true, \"disables input\")\n    assert.equal(editor.disabled, true, \"infers disabled state from ancestor\")\n    assert.equal(editor.hasAttribute(\"disabled\"), false, \"does not set [disabled] attribute\")\n    assert.equal(editor.hasAttribute(\"contenteditable\"), false, \"removes [contenteditable] attribute\")\n\n    fieldset.disabled = false\n\n    assert.equal(editor.matches(\":disabled\"), false, \"removes sets :disabled pseudostate\")\n    assert.equal(editor.inputElement.disabled, false, \"enabled input\")\n    assert.equal(editor.disabled, false, \"updates .disabled property\")\n    assert.equal(editor.hasAttribute(\"disabled\"), false, \"does not set [disabled] attribute\")\n    assert.equal(editor.hasAttribute(\"contenteditable\"), true, \"adds [contenteditable] attribute\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"does not receive focus when :disabled\", () => {\n    const activeEditor = document.getElementById(\"editor-with-input-form\")\n    const editor = document.getElementById(\"editor-within-fieldset\")\n\n    activeEditor.focus()\n    editor.disabled = true\n    editor.focus()\n\n    assert.equal(activeEditor, document.activeElement, \"disabled editor does not receive focus\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"disabled editor does not encode its value when the form is submitted\", () => {\n    const editor = document.getElementById(\"editor-with-ancestor-form\")\n    const form = editor.form\n\n    editor.inputElement.value = \"Hello world\"\n    editor.disabled = true\n\n    assert.deepEqual({}, Object.fromEntries(new FormData(form).entries()), \"does not write to FormData\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"validates with [required] attribute as invalid\", () => {\n    const editor = document.getElementById(\"editor-with-ancestor-form\")\n    const form = editor.form\n    const invalidInput = makeElement(\"input\", { required: true })\n    let invalidEvent, submitEvent = null\n\n    editor.addEventListener(\"invalid\", event => invalidEvent = event, { once: true })\n    form.addEventListener(\"submit\", event => submitEvent = event, { once: true })\n\n    editor.required = true\n    form.requestSubmit()\n\n    // assert.equal(document.activeElement, editor, \"editor receives focus\")\n    assert.equal(editor.required, true, \".required property retrurns true\")\n    assert.equal(editor.validity.valid, false, \"validity.valid is false\")\n    assert.equal(editor.validationMessage, invalidInput.validationMessage, \"sets .validationMessage\")\n    assert.equal(invalidEvent.target, editor, \"dispatches 'invalid' event on editor\")\n    assert.equal(submitEvent, null, \"does not dispatch a 'submit' event\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"does not validate with [disabled] attribute\", () => {\n    const editor = document.getElementById(\"editor-with-ancestor-form\")\n    let invalidEvent = null\n\n    editor.disabled = true\n    editor.required = true\n    editor.addEventListener(\"invalid\", event => invalidEvent = event, { once: true })\n    editor.reportValidity()\n\n    assert.equal(invalidEvent, null, \"does not dispatch an 'invalid' event\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"re-validates when the value changes\", async () => {\n    const editor = document.getElementById(\"editor-with-ancestor-form\")\n    editor.required = true\n    editor.focus()\n\n    assert.equal(editor.validity.valid, false, \"validity.valid is initially false\")\n\n    await typeCharacters(\"a\")\n\n    assert.equal(editor.validity.valid, true, \"validity.valid is true after re-validating\")\n    assert.equal(editor.validity.valueMissing, false, \"validity.valueMissing is false\")\n    assert.equal(editor.validationMessage, \"\", \"clears the validationMessage\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"accepts a customError validation message\", () => {\n    const editor = document.getElementById(\"editor-with-ancestor-form\")\n\n    editor.setCustomValidity(\"A custom validation message\")\n\n    assert.equal(editor.validity.valid, false)\n    assert.equal(editor.validity.customError, true)\n    assert.equal(editor.validationMessage, \"A custom validation message\")\n  })\n})\n\nconst configureInputAssociated = ({ target }) => target.willCreateInput = false\n\ntestGroup(\"TrixEditorElement.willCreateInput = false\", {\n  setup: () => addEventListener(\"trix-before-initialize\", configureInputAssociated),\n  teardown: () => removeEventListener(\"trix-before-initialize\", configureInputAssociated)\n}, () => {\n  testIf(TrixEditorElement.formAssociated, \"does not create an <input> on connect\", async () => {\n    await setFixtureHTML(\"<trix-editor></trix-editor>\")\n\n    const container = document.getElementById(\"trix-container\")\n    const editor = getEditorElement()\n\n    assert.equal(container.querySelectorAll(\"input[type=hidden]\").length, 0)\n    assert.equal(editor.hasAttribute(\"input\"), false)\n    assert.equal(editor.inputElement, null)\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"associates an <input> element when [input] attribute is set\", async () => {\n    await setFixtureHTML(`\n      <trix-editor input=\"input\"></trix-editor>\n      <input id=\"input\">\n    `)\n\n    const editor = getEditorElement()\n    const inputElement = document.getElementById(\"input\")\n\n    assert.equal(editor.getAttribute(\"input\"), inputElement.id)\n    assert.strictEqual(editor.inputElement, inputElement)\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"accesses its ancestor form\", async () => {\n    await setFixtureHTML(\"<form><trix-editor></trix-editor></form>\", \"div\")\n\n    const form = document.querySelector(\"form\")\n    const editor = getEditorElement()\n\n    assert.equal(editor.form, form)\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"accesses its related <form> through the [form] attribute\", async () => {\n    await setFixtureHTML(`\n      <form id=\"form\"></form>\n      <trix-editor form=\"form\"></trix-editor>\n    `, \"div\")\n\n    const form = document.getElementById(\"form\")\n    const editor = getEditorElement()\n\n    assert.equal(editor.form, form)\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"returns null when there is no associated <form>\", async () => {\n    await setFixtureHTML(\"<trix-editor></trix-editor>\", \"div\")\n\n    const editor = getEditorElement()\n\n    assert.equal(editor.form, null)\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"reads and writes [name] attribute through .name property\", async () => {\n    await setFixtureHTML(\"<trix-editor></trix-editor>\")\n\n    const editor = getEditorElement()\n\n    assert.equal(editor.name, null)\n    assert.equal(editor.hasAttribute(\"name\"), false, \"has no [name] when .name is null\")\n\n    editor.name = \"content\"\n\n    assert.equal(editor.name, \"content\")\n    assert.equal(editor.getAttribute(\"name\"), \"content\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"makes its sanitized value available to its <form>\", async () => {\n    await setFixtureHTML(\"<trix-editor></trix-editor>\")\n\n    const editor = getEditorElement()\n    const empty = new FormData(editor.form)\n\n    assert.deepEqual(Array.from(empty.values()), [], \"does not serialize to FormData without [name]\")\n\n    editor.name = \"content\"\n    editor.value = \"<div>hello</div><script>alert('hacked!')</script>\"\n\n    const formData = new FormData(editor.form)\n\n    assert.deepEqual(formData.get(\"content\"), \"<div>hello</div>\", \"serializes sanitized value to FormData\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"editor resets to its original value on element reset\", async () => {\n    await setFixtureHTML(\"<trix-editor></trix-editor>\")\n\n    const element = getEditorElement()\n\n    element.editor.loadHTML(\"<div>hello</div\")\n    element.reset()\n\n    assert.equal(element.value, \"\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"element returns empty string when value is missing\", async () => {\n    await setFixtureHTML(\"<trix-editor></trix-editor>\")\n\n    const element = getEditorElement()\n\n    assert.equal(element.value, \"\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"adds [disabled] attribute based on .disabled property\", async () => {\n    await setFixtureHTML(\"<trix-editor></trix-editor>\")\n\n    const editor = getEditorElement()\n\n    editor.disabled = true\n\n    assert.equal(editor.hasAttribute(\"disabled\"), true, \"adds [disabled] attribute\")\n\n    editor.disabled = false\n\n    assert.equal(editor.hasAttribute(\"disabled\"), false, \"removes [disabled] attribute\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"removes [contenteditable] and when editor element has [disabled]\", async () => {\n    await setFixtureHTML(\"<trix-editor></trix-editor>\")\n\n    const editor = getEditorElement()\n\n    editor.setAttribute(\"disabled\", \"\")\n\n    assert.equal(editor.matches(\":disabled\"), true, \"sets :disabled CSS pseudostate\")\n    assert.equal(editor.disabled, true, \"exposes [disabled] attribute as .disabled property\")\n    assert.equal(editor.hasAttribute(\"contenteditable\"), false, \"removes [contenteditable] attribute\")\n\n    editor.removeAttribute(\"disabled\")\n\n    assert.equal(editor.matches(\":disabled\"), false, \"removes sets :disabled pseudostate\")\n    assert.equal(editor.disabled, false, \"updates .disabled property\")\n    assert.equal(editor.hasAttribute(\"contenteditable\"), true, \"adds [contenteditable] attribute\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"removes [contenteditable] when editor element is :disabled\", async () => {\n    await setFixtureHTML(\"<trix-editor></trix-editor>\", \"fieldset\")\n\n    const editor = getEditorElement()\n    const fieldset = editor.closest(\"fieldset\")\n\n    fieldset.disabled = true\n\n    assert.equal(editor.matches(\":disabled\"), true, \"sets :disabled CSS pseudostate\")\n    assert.equal(editor.disabled, true, \"infers disabled state from ancestor\")\n    assert.equal(editor.hasAttribute(\"disabled\"), false, \"does not set [disabled] attribute\")\n    assert.equal(editor.hasAttribute(\"contenteditable\"), false, \"removes [contenteditable] attribute\")\n\n    fieldset.disabled = false\n\n    assert.equal(editor.matches(\":disabled\"), false, \"removes sets :disabled pseudostate\")\n    assert.equal(editor.disabled, false, \"updates .disabled property\")\n    assert.equal(editor.hasAttribute(\"disabled\"), false, \"does not set [disabled] attribute\")\n    assert.equal(editor.hasAttribute(\"contenteditable\"), true, \"adds [contenteditable] attribute\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"does not receive focus when :disabled\", async () => {\n    await setFixtureHTML(`\n      <trix-editor id=\"active\"></trix-editor>\n      <trix-editor id=\"disabled\" disabled></trix-editor>\n    `)\n\n    const activeEditor = document.getElementById(\"active\")\n    const disabledEditor = document.getElementById(\"disabled\")\n\n    activeEditor.focus()\n\n    assert.equal(activeEditor, document.activeElement)\n\n    disabledEditor.focus()\n\n    assert.equal(activeEditor, document.activeElement, \"disabled editor does not receive focus\")\n  })\n\n  testIf(TrixEditorElement.formAssociated, \"disabled editor does not encode its value when the form is submitted\", async () => {\n    await setFixtureHTML(`\n      <trix-editor name=\"ignored\" disabled></trix-editor>\n    `)\n\n    const editor = getEditorElement()\n\n    editor.value = \"Hello world\"\n\n    assert.deepEqual(Array.from(new FormData(editor.form).values()), [], \"does not write to FormData\")\n  })\n})\n","import { TEST_IMAGE_URL, assert, expectDocument, test, testGroup } from \"test/test_helper\"\nimport { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\nimport { delay } from \"../test_helpers/timing_helpers\"\n\ntestGroup(\"HTML loading\", () => {\n  testGroup(\"inline elements\", { template: \"editor_with_styled_content\" }, () => {\n    const cases = {\n      \"BR before block element styled otherwise\": {\n        html: `a<br><figure class=\"attachment\"><img src=\"${TEST_IMAGE_URL}\"></figure>`,\n        expectedDocument: `a\\n${OBJECT_REPLACEMENT_CHARACTER}\\n`,\n      },\n\n      \"BR in text before block element styled otherwise\": {\n        html: `<div>a<br>b<figure class=\"attachment\"><img src=\"${TEST_IMAGE_URL}\"></figure></div>`,\n        expectedDocument: `a\\nb${OBJECT_REPLACEMENT_CHARACTER}\\n`,\n      },\n    }\n\n    for (const name in cases) {\n      const details = cases[name]\n      test(name, () => {\n        getEditor().loadHTML(details.html)\n        expectDocument(details.expectedDocument)\n      })\n    }\n  })\n\n  testGroup(\"bold elements\", { template: \"editor_with_bold_styles\" }, () => {\n    test(\"<strong> with font-weight: 500\", () => {\n      getEditor().loadHTML(\"<strong>a</strong>\")\n      assert.textAttributes([ 0, 1 ], { bold: true })\n      expectDocument(\"a\\n\")\n    })\n\n    test(\"<span> with font-weight: 600\", () => {\n      getEditor().loadHTML(\"<span>a</span>\")\n      assert.textAttributes([ 0, 1 ], { bold: true })\n      expectDocument(\"a\\n\")\n    })\n\n    test(\"<article> with font-weight: bold\", () => {\n      getEditor().loadHTML(\"<article>a</article>\")\n      assert.textAttributes([ 0, 1 ], { bold: true })\n      expectDocument(\"a\\n\")\n    })\n  })\n\n  testGroup(\"styled block elements\", { template: \"editor_with_block_styles\" }, () => {\n    test(\"<em> in <blockquote> with font-style: italic\", () => {\n      getEditor().loadHTML(\"<blockquote>a<em>b</em></blockquote>\")\n      assert.textAttributes([ 0, 1 ], {})\n      assert.textAttributes([ 1, 2 ], { italic: true })\n      assert.blockAttributes([ 0, 2 ], [ \"quote\" ])\n      expectDocument(\"ab\\n\")\n    })\n\n    test(\"<strong> in <li> with font-weight: bold\", () => {\n      getEditor().loadHTML(\"<ul><li>a<strong>b</strong></li></ul>\")\n      assert.textAttributes([ 0, 1 ], {})\n      assert.textAttributes([ 1, 2 ], { bold: true })\n      assert.blockAttributes([ 0, 2 ], [ \"bulletList\", \"bullet\" ])\n      expectDocument(\"ab\\n\")\n    })\n\n    test(\"newline in <li> with font-weight: bold\", () => {\n      getEditor().loadHTML(\"<ul><li>a<br>b</li></ul>\")\n      assert.textAttributes([ 0, 2 ], {})\n      assert.blockAttributes([ 0, 2 ], [ \"bulletList\", \"bullet\" ])\n      expectDocument(\"a\\nb\\n\")\n    })\n  })\n\n  testGroup(\"in a table\", { template: \"editor_in_table\" }, () => {\n    test(\"block elements\", () => {\n      getEditor().loadHTML(\"<h1>a</h1><blockquote>b</blockquote>\")\n      assert.blockAttributes([ 0, 2 ], [ \"heading1\" ])\n      assert.blockAttributes([ 2, 4 ], [ \"quote\" ])\n      expectDocument(\"a\\nb\\n\")\n    })\n  })\n\n  testGroup(\"images\", { template: \"editor_empty\" }, () => {\n    test(\"without dimensions\", async () => {\n      getEditor().loadHTML(`<img src=\"${TEST_IMAGE_URL}\">`)\n      await delay(50)\n\n      const attachment = getDocument().getAttachments()[0]\n      const image = getEditorElement().querySelector(\"img\")\n      assert.equal(attachment.getWidth(), 1)\n      assert.equal(attachment.getHeight(), 1)\n      assert.equal(image.getAttribute(\"width\"), \"1\")\n      assert.equal(image.getAttribute(\"height\"), \"1\")\n      expectDocument(`${OBJECT_REPLACEMENT_CHARACTER}\\n`)\n    })\n\n    test(\"with dimensions\", async () => {\n      getEditor().loadHTML(`<img src=\"${TEST_IMAGE_URL}\" width=\"10\" height=\"20\">`)\n      await delay(50)\n\n      const attachment = getDocument().getAttachments()[0]\n      const image = getEditorElement().querySelector(\"img\")\n      assert.equal(attachment.getWidth(), 10)\n      assert.equal(attachment.getHeight(), 20)\n      assert.equal(image.getAttribute(\"width\"), \"10\")\n      assert.equal(image.getAttribute(\"height\"), \"20\")\n      expectDocument(`${OBJECT_REPLACEMENT_CHARACTER}\\n`)\n    })\n  })\n\n  testGroup(\"text after closing tag\", { template: \"editor_empty\" }, () => {\n    test(\"parses text as separate block\", () => {\n      getEditor().loadHTML(\"<h1>a</h1>b\")\n      assert.blockAttributes([ 0, 2 ], [ \"heading1\" ])\n      assert.blockAttributes([ 2, 4 ], [])\n      expectDocument(\"a\\nb\\n\")\n    })\n  })\n})\n","import { assert, expectDocument, test, testGroup } from \"test/test_helper\"\nimport { nextFrame } from \"../test_helpers/timing_helpers\"\n\ntestGroup(\"HTML Reparsing\", { template: \"editor_empty\" }, () => {\n  test(\"mutation resulting in identical blocks\", async () => {\n    const element = getEditorElement()\n    element.editor.loadHTML(\"<ul><li>a</li><li>b</li></ul>\")\n    await nextFrame()\n    element.querySelector(\"li\").textContent = \"b\"\n    await nextFrame()\n    assert.blockAttributes([ 0, 1 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 2, 3 ], [ \"bulletList\", \"bullet\" ])\n    assert.equal(element.value, \"<ul><li>b</li><li>b</li></ul>\")\n    expectDocument(\"b\\nb\\n\")\n  })\n\n  test(\"mutation resulting in identical pieces\", async () => {\n    const element = getEditorElement()\n    element.editor.loadHTML(\"<div><strong>a</strong> <strong>b</strong></div>\")\n    await nextFrame()\n    element.querySelector(\"strong\").textContent = \"b\"\n    await nextFrame()\n    assert.textAttributes([ 0, 1 ], { bold: true })\n    assert.textAttributes([ 2, 3 ], { bold: true })\n    assert.equal(element.value, \"<div><strong>b</strong> <strong>b</strong></div>\")\n    expectDocument(\"b b\\n\")\n  })\n})\n","import * as config from \"trix/config\"\n\nimport { assert, expectDocument, testGroup, testIf, triggerEvent } from \"test/test_helper\"\nimport { nextFrame } from \"../test_helpers/timing_helpers\"\n\nconst test = function() {\n  testIf(config.input.getLevel() === 0, ...arguments)\n}\n\ntestGroup(\"Level 0 input: HTML replacement\", () =>\n  testGroup(\"deleting with command+backspace\", { template: \"editor_empty\" }, () => {\n    test(\"from the end of a line\", async () => {\n      getEditor().loadHTML(\"<div>a</div><blockquote>b</blockquote><div>c</div>\")\n      getSelectionManager().setLocationRange({ index: 1, offset: 1 })\n      await pressCommandBackspace({ replaceText: \"b\" })\n      assert.locationRange({ index: 1, offset: 0 })\n      assert.blockAttributes([ 0, 2 ], [])\n      assert.blockAttributes([ 2, 3 ], [ \"quote\" ])\n      assert.blockAttributes([ 3, 5 ], [])\n      expectDocument(\"a\\n\\nc\\n\")\n    })\n\n    test(\"in the first block\", async () => {\n      getEditor().loadHTML(\"<div>a</div><blockquote>b</blockquote>\")\n      getSelectionManager().setLocationRange({ index: 0, offset: 1 })\n      await pressCommandBackspace({ replaceText: \"a\" })\n      assert.locationRange({ index: 0, offset: 0 })\n      assert.blockAttributes([ 0, 1 ], [])\n      assert.blockAttributes([ 1, 3 ], [ \"quote\" ])\n      expectDocument(\"\\nb\\n\")\n    })\n\n    test(\"from the middle of a line\", async () => {\n      getEditor().loadHTML(\"<div>a</div><blockquote>bc</blockquote><div>d</div>\")\n      getSelectionManager().setLocationRange({ index: 1, offset: 1 })\n      await pressCommandBackspace({ replaceText: \"b\" })\n      assert.locationRange({ index: 1, offset: 0 })\n      assert.blockAttributes([ 0, 2 ], [])\n      assert.blockAttributes([ 2, 4 ], [ \"quote\" ])\n      assert.blockAttributes([ 4, 6 ], [])\n      expectDocument(\"a\\nc\\nd\\n\")\n    })\n\n    test(\"from the middle of a line in a multi-line block\", async () => {\n      getEditor().loadHTML(\"<div>a</div><blockquote>bc<br>d</blockquote><div>e</div>\")\n      getSelectionManager().setLocationRange({ index: 1, offset: 1 })\n      await pressCommandBackspace({ replaceText: \"b\" })\n      assert.locationRange({ index: 1, offset: 0 })\n      assert.blockAttributes([ 0, 2 ], [])\n      assert.blockAttributes([ 2, 6 ], [ \"quote\" ])\n      expectDocument(\"a\\nc\\nd\\ne\\n\")\n    })\n\n    test(\"from the end of a list item\", async () => {\n      getEditor().loadHTML(\"<ul><li>a</li><li>b</li></ul>\")\n      getSelectionManager().setLocationRange({ index: 1, offset: 1 })\n      await pressCommandBackspace({ replaceText: \"b\" })\n      assert.locationRange({ index: 1, offset: 0 })\n      assert.blockAttributes([ 0, 2 ], [ \"bulletList\", \"bullet\" ])\n      assert.blockAttributes([ 2, 4 ], [ \"bulletList\", \"bullet\" ])\n      expectDocument(\"a\\n\\n\")\n    })\n\n    test(\"a character that is its text node's only data\", async () => {\n      getEditor().loadHTML(\"<div>a<br>b<br><strong>c</strong></div>\")\n      getSelectionManager().setLocationRange({ index: 0, offset: 3 })\n      await pressCommandBackspace({ replaceText: \"b\" })\n      assert.locationRange({ index: 0, offset: 2 })\n      expectDocument(\"a\\n\\nc\\n\")\n    })\n\n    test(\"a formatted word\", async () => {\n      getEditor().loadHTML(\"<div>a<strong>bc</strong></div>\")\n      getSelectionManager().setLocationRange({ index: 0, offset: 4 })\n      await pressCommandBackspace({ replaceElementWithText: \"bc\" })\n      assert.locationRange({ index: 0, offset: 1 })\n      expectDocument(\"a\\n\")\n    })\n  })\n)\n\nconst pressCommandBackspace = async ({ replaceText, replaceElementWithText }) => {\n  let previousSibling\n  triggerEvent(document.activeElement, \"keydown\", { charCode: 0, keyCode: 8, which: 8, metaKey: true })\n  const range = rangy.getSelection().getRangeAt(0)\n\n  if (replaceElementWithText) {\n    const element = getElementWithText(replaceElementWithText)\n    previousSibling = element.previousSibling\n    element.parentNode.removeChild(element)\n    range.collapseAfter(previousSibling)\n  } else {\n    range.findText(replaceText, { direction: \"backward\" })\n    range.splitBoundaries()\n\n    const node = range.getNodes()[0]\n    previousSibling = node.previousSibling\n    const { nextSibling, parentNode } = node\n\n    if (previousSibling?.nodeType === Node.COMMENT_NODE) {\n      parentNode.removeChild(previousSibling)\n    }\n\n    node.data = \"\"\n    parentNode.removeChild(node)\n\n    if (!parentNode.hasChildNodes()) {\n      parentNode.appendChild(document.createElement(\"br\"))\n    }\n\n    range.collapseBefore(nextSibling ? nextSibling : parentNode.firstChild)\n  }\n\n  range.select()\n  await nextFrame()\n}\n\nconst getElementWithText = function (text) {\n  for (const element of Array.from(document.activeElement.querySelectorAll(\"*\"))) {\n    if (element.innerText === text) {\n      return element\n    }\n  }\n  return null\n}\n","import EditorController from \"trix/controllers/editor_controller\"\n\nimport { assert, setFixtureHTML, test, testGroup } from \"test/test_helper\"\nimport { nextFrame } from \"../test_helpers/timing_helpers\"\n\ntestGroup(\"Installation process\", { template: \"editor_html\" }, () => {\n  test(\"element.editorController\", () => {\n    assert.ok(getEditorController() instanceof EditorController)\n  })\n\n  test(\"creates a contenteditable element\", () => assert.ok(getEditorElement()))\n\n  test(\"loads the initial document\", () => {\n    assert.equal(getEditorElement().textContent, \"Hello world\")\n  })\n\n  test(\"sets value property\", async () => {\n    await nextFrame()\n    assert.equal(getEditorElement().value, \"<div>Hello world</div>\")\n  })\n})\n\ntestGroup(\"Installation process without specified elements\", { template: \"editor_empty\" }, () =>\n  test(\"creates identified toolbar and input elements\", () => {\n    const editorElement = getEditorElement()\n\n    const toolbarId = editorElement.getAttribute(\"toolbar\")\n    assert.ok(/trix-toolbar-\\d+/.test(toolbarId), `toolbar id not assert.ok ${JSON.stringify(toolbarId)}`)\n    const toolbarElement = document.getElementById(toolbarId)\n    assert.ok(toolbarElement, \"toolbar element not assert.ok\")\n    assert.equal(editorElement.toolbarElement, toolbarElement)\n\n    const inputId = editorElement.getAttribute(\"input\")\n    assert.ok(/trix-input-\\d+/.test(inputId), `input id not assert.ok ${JSON.stringify(inputId)}`)\n    const inputElement = document.getElementById(inputId)\n    assert.ok(inputElement, \"input element not assert.ok\")\n    assert.equal(editorElement.inputElement, inputElement)\n  })\n)\n\ntestGroup(\"Installation process with specified elements\", { template: \"editor_with_toolbar_and_input\" }, () => {\n  test(\"uses specified elements\", () => {\n    const editorElement = getEditorElement()\n    assert.equal(editorElement.toolbarElement, document.getElementById(\"my_toolbar\"))\n    assert.equal(editorElement.inputElement, document.getElementById(\"my_input\"))\n    assert.equal(editorElement.value, \"<div>Hello world</div>\")\n  })\n\n  test(\"trix-toolbar can reference editorElements and editorElement\", () => {\n    const editorElement = getEditorElement()\n    const toolbarElement = editorElement.toolbarElement\n\n    assert.equal(toolbarElement, document.getElementById(\"my_toolbar\"))\n    assert.deepEqual(Array.from(toolbarElement.editorElements), [ editorElement ])\n    assert.equal(toolbarElement.editorElement, editorElement)\n  })\n\n  test(\"can be cloned\", async () => {\n    const originalElement = document.getElementById(\"my_editor\")\n    const clonedElement = originalElement.cloneNode(true)\n\n    const { parentElement } = originalElement\n    parentElement.removeChild(originalElement)\n    parentElement.appendChild(clonedElement)\n\n    await nextFrame()\n\n    const editorElement = getEditorElement()\n    assert.equal(editorElement.toolbarElement, document.getElementById(\"my_toolbar\"))\n    assert.equal(editorElement.inputElement, document.getElementById(\"my_input\"))\n    assert.equal(editorElement.value, \"<div>Hello world</div>\")\n  })\n})\n\ntestGroup(\"Installation process with content and without specified elements\", () => {\n  test(\"loads the trix-editor element's innerHTML on boot\", async () => {\n    await setFixtureHTML(\"<trix-editor><div>Hello world</div></trix-editor>\")\n\n    const editorElement = getEditorElement()\n\n    assert.equal(1, editorElement.childElementCount, \"sanitzes HTML\")\n    assert.equal(editorElement.value, \"<div>Hello world</div>\")\n    assert.equal(editorElement.value, editorElement.inputElement.value)\n  })\n\n  test(\"sanitizes the trix-editor element's innerHTML on boot\", async () => {\n    await setFixtureHTML(\"<trix-editor><script>alert('xss')</script></trix-editor>\")\n\n    const editorElement = getEditorElement()\n\n    assert.equal(0, editorElement.querySelectorAll(\"script\").length, \"sanitzes HTML\")\n    assert.equal(editorElement.value, \"\")\n    assert.equal(editorElement.value, editorElement.inputElement.value)\n  })\n})\n\ntestGroup(\"Installation process with content and input\", () => {\n  test(\"prioritzes loading its initial state from the input over the content\", async () => {\n    await setFixtureHTML(`\n      <trix-editor input=\"input\"><div>from editor</div></trix-editor>\n      <textarea id=\"input\"><div>from input</div></textarea>\n    `)\n\n    const editorElement = getEditorElement()\n\n    assert.equal(editorElement.value, \"<div>from input</div>\")\n  })\n})\n","import * as config from \"trix/config\"\nimport { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport {\n  assert,\n  clickToolbarButton,\n  expectDocument,\n  insertNode,\n  insertString,\n  isToolbarButtonActive,\n  selectNode,\n  testGroup,\n  testIf,\n  triggerEvent,\n  triggerInputEvent,\n  typeCharacters,\n} from \"test/test_helper\"\nimport { delay, nextFrame } from \"../test_helpers/timing_helpers\"\n\nconst test = function() {\n  testIf(config.input.getLevel() === 2, ...arguments)\n}\n\nconst testOptions = {\n  template: \"editor_empty\",\n  setup() {\n    addEventListener(\"beforeinput\", recordInputEvent, true)\n    addEventListener(\"input\", recordInputEvent, true)\n  },\n  teardown() {\n    removeEventListener(\"beforeinput\", recordInputEvent, true)\n    removeEventListener(\"input\", recordInputEvent, true)\n  },\n}\n\nlet inputEvents = []\n\nconst recordInputEvent = function (event) {\n  // Not all browsers dispatch \"beforeinput\" event when calling execCommand() so\n  // we manually dispatch a synthetic one. If a second one arrives, ignore it.\n  if (event.type === \"beforeinput\" && inputEvents.length === 1 && inputEvents[0].type === \"beforeinput\") {\n    event.stopImmediatePropagation()\n  } else {\n    const { type, inputType, data } = event\n    inputEvents.push({ type, inputType, data })\n  }\n}\n\n// Borrowed from https://github.com/web-platform-tests/wpt/blob/master/input-events/input-events-exec-command.html\nconst performInputTypeUsingExecCommand = async (command, { inputType, data }) => {\n  inputEvents = []\n\n  await nextFrame()\n\n  const isInsertParagraph = inputType === \"insertParagraph\"\n\n  triggerInputEvent(document.activeElement, \"beforeinput\", { inputType, data })\n\n  // See `shouldRenderInmmediatelyToDealWithIOSDictation` to deal with iOS 18+ dictation bug.\n  if (!isInsertParagraph) {\n    document.execCommand(command, false, data)\n    assert.equal(inputEvents[1].type, \"input\")\n  }\n\n  assert.equal(inputEvents.length, isInsertParagraph ? 1 : 2)\n  assert.equal(inputEvents[0].type, \"beforeinput\")\n  assert.equal(inputEvents[0].inputType, inputType)\n  assert.equal(inputEvents[0].data, data)\n\n  await nextFrame()\n  await nextFrame()\n}\n\ntestGroup(\"Level 2 Input\", testOptions, () => {\n  test(\"insertText\", async () => {\n    await performInputTypeUsingExecCommand(\"insertText\", { inputType: \"insertText\", data: \"abc\" })\n    expectDocument(\"abc\\n\")\n  })\n\n  test(\"insertOrderedList\", async () => {\n    insertString(\"a\\nb\")\n    await performInputTypeUsingExecCommand(\"insertOrderedList\", { inputType: \"insertOrderedList\" })\n    assert.blockAttributes([ 0, 2 ], [])\n    assert.blockAttributes([ 2, 4 ], [ \"numberList\", \"number\" ])\n    assert.ok(isToolbarButtonActive({ attribute: \"number\" }))\n    expectDocument(\"a\\nb\\n\")\n  })\n\n  test(\"insertUnorderedList\", async () => {\n    insertString(\"a\\nb\")\n    await performInputTypeUsingExecCommand(\"insertUnorderedList\", { inputType: \"insertUnorderedList\" })\n    assert.blockAttributes([ 0, 2 ], [])\n    assert.blockAttributes([ 2, 4 ], [ \"bulletList\", \"bullet\" ])\n    assert.ok(isToolbarButtonActive({ attribute: \"bullet\" }))\n    expectDocument(\"a\\nb\\n\")\n  })\n\n  test(\"insertLineBreak\", async () => {\n    await clickToolbarButton({ attribute: \"quote\" })\n    insertString(\"abc\")\n    await performInputTypeUsingExecCommand(\"insertLineBreak\", { inputType: \"insertLineBreak\" })\n    await performInputTypeUsingExecCommand(\"insertLineBreak\", { inputType: \"insertLineBreak\" })\n    assert.blockAttributes([ 0, 6 ], [ \"quote\" ])\n    expectDocument(\"abc\\n\\n\\n\")\n  })\n\n  test(\"insertParagraph\", async () => {\n    await clickToolbarButton({ attribute: \"quote\" })\n    insertString(\"abc\")\n    await performInputTypeUsingExecCommand(\"insertParagraph\", { inputType: \"insertParagraph\" })\n    await performInputTypeUsingExecCommand(\"insertParagraph\", { inputType: \"insertParagraph\" })\n\n    assert.blockAttributes([ 0, 4 ], [ \"quote\" ])\n    assert.blockAttributes([ 4, 5 ], [])\n    expectDocument(\"abc\\n\\n\")\n  })\n\n  test(\"formatBold\", async () => {\n    insertString(\"abc\")\n    getComposition().setSelectedRange([ 1, 2 ])\n    await performInputTypeUsingExecCommand(\"bold\", { inputType: \"formatBold\" })\n    assert.textAttributes([ 0, 1 ], {})\n    assert.textAttributes([ 1, 2 ], { bold: true })\n    assert.textAttributes([ 2, 3 ], {})\n    expectDocument(\"abc\\n\")\n  })\n\n  test(\"formatItalic\", async () => {\n    insertString(\"abc\")\n    getComposition().setSelectedRange([ 1, 2 ])\n    await performInputTypeUsingExecCommand(\"italic\", { inputType: \"formatItalic\" })\n    assert.textAttributes([ 0, 1 ], {})\n    assert.textAttributes([ 1, 2 ], { italic: true })\n    assert.textAttributes([ 2, 3 ], {})\n    expectDocument(\"abc\\n\")\n  })\n\n  test(\"formatStrikeThrough\", async () => {\n    insertString(\"abc\")\n    getComposition().setSelectedRange([ 1, 2 ])\n    await performInputTypeUsingExecCommand(\"strikeThrough\", { inputType: \"formatStrikeThrough\" })\n    assert.textAttributes([ 0, 1 ], {})\n    assert.textAttributes([ 1, 2 ], { strike: true })\n    assert.textAttributes([ 2, 3 ], {})\n    expectDocument(\"abc\\n\")\n  })\n\n  // https://input-inspector.now.sh/profiles/hVXS1cHYFvc2EfdRyTWQ\n  test(\"correcting a misspelled word\", async () => {\n    insertString(\"onr\")\n    getComposition().setSelectedRange([ 0, 3 ])\n    await nextFrame()\n\n    const inputType = \"insertReplacementText\"\n    const dataTransfer = createDataTransfer({ \"text/plain\": \"one\" })\n\n    const targetRange = document.createRange()\n    const textNode = getEditorElement().firstElementChild.lastChild\n    targetRange.setStart(textNode, 0)\n    targetRange.setEnd(textNode, 3)\n\n    const event = createEvent(\"beforeinput\", { inputType, dataTransfer, getTargetRanges: () => [ targetRange ] })\n    document.activeElement.dispatchEvent(event)\n\n    await nextFrame()\n    expectDocument(\"one\\n\")\n  })\n\n  // https://input-inspector.now.sh/profiles/XsZVwKtFxakwnsNs0qnX\n  test(\"correcting a misspelled word in Safari\", async () => {\n    insertString(\"onr\")\n    getComposition().setSelectedRange([ 0, 3 ])\n    await nextFrame()\n\n    const inputType = \"insertText\"\n    const dataTransfer = createDataTransfer({ \"text/plain\": \"one\", \"text/html\": \"one\" })\n    const event = createEvent(\"beforeinput\", { inputType, dataTransfer })\n    document.activeElement.dispatchEvent(event)\n\n    await nextFrame()\n    expectDocument(\"one\\n\")\n  })\n\n  // https://input-inspector.now.sh/profiles/yZlsrfG93QMzp2oyr0BE\n  test(\"deleting the last character in a composed word on Android\", async () => {\n    insertString(\"c\")\n    const element = getEditorElement()\n    const textNode = element.firstChild.lastChild\n    await selectNode(textNode)\n    triggerInputEvent(element, \"beforeinput\", { inputType: \"insertCompositionText\", data: \"\" })\n    triggerEvent(element, \"compositionend\", { data: \"\" })\n    await nextFrame()\n    expectDocument(\"\\n\")\n  })\n\n  test(\"pasting a file\", async () => {\n    const file = await createFile()\n    const clipboardData = createDataTransfer({ Files: [ file ] })\n    const dataTransfer = createDataTransfer({ Files: [ file ] })\n    await paste({ clipboardData, dataTransfer })\n\n    const attachments = getDocument().getAttachments()\n    assert.equal(attachments.length, 1)\n    assert.equal(attachments[0].getFilename(), file.name)\n    expectDocument(`${OBJECT_REPLACEMENT_CHARACTER}\\n`)\n  })\n\n  // \"insertFromPaste InputEvent missing pasted files in dataTransfer\"\n  // - https://bugs.webkit.org/show_bug.cgi?id=194921\n  test(\"pasting a file in Safari\", async () => {\n    const file = await createFile()\n\n    const clipboardData = createDataTransfer({ Files: [ file ] })\n    const dataTransfer = createDataTransfer({ \"text/html\": `<img src=\"blob:${location.origin}/531de8\">` })\n\n    await paste({ clipboardData, dataTransfer })\n    const attachments = getDocument().getAttachments()\n    assert.equal(attachments.length, 1)\n    assert.equal(attachments[0].getFilename(), file.name)\n    expectDocument(`${OBJECT_REPLACEMENT_CHARACTER}\\n`)\n  })\n\n  // \"insertFromPaste InputEvent missing text/uri-list in dataTransfer for pasted links\"\n  // - https://bugs.webkit.org/show_bug.cgi?id=196702\n  test(\"pasting a link in Safari\", async () => {\n    await createFile()\n    const url = \"https://bugs.webkit.org\"\n    const text = \"WebKit Bugzilla\"\n    const clipboardData = createDataTransfer({ URL: url, \"text/uri-list\": url, \"text/plain\": text })\n    const dataTransfer = createDataTransfer({ \"text/html\": `<a href=\"${url}\">${text}</a>`, \"text/plain\": text })\n    await paste({ clipboardData, dataTransfer })\n    assert.textAttributes([ 0, url.length ], { href: url })\n    expectDocument(`${url}\\n`)\n  })\n\n  // Pastes from MS Word include an image of the copied text 🙃\n  // https://input-inspector.now.sh/profiles/QWDITsV60dpEVl1SOZg8\n  test(\"pasting text from MS Word\", async () => {\n    const file = await createFile()\n    const dataTransfer = createDataTransfer({\n      \"text/html\": `<html xmlns:o=\"urn:schemas-microsoft-com:office:office\"\n        xmlns:w=\"urn:schemas-microsoft-com:office:word\"\n        xmlns:m=\"http://schemas.microsoft.com/office/2004/12/omml\"\n        xmlns=\"http://www.w3.org/TR/REC-html40\">\n        <body>\n          <span class=\"MsoNormal\">abc</span>\n        </body>\n      </html>`,\n      \"text/plain\": \"abc\",\n      Files: [ file ],\n    })\n\n    await paste({ dataTransfer })\n    const attachments = getDocument().getAttachments()\n    assert.equal(attachments.length, 0)\n    expectDocument(\"abc\\n\")\n  })\n\n  // \"beforeinput\" event is not fired for Paste and Match Style operations\n  // - https://bugs.chromium.org/p/chromium/issues/detail?id=934448\n  test(\"Paste and Match Style in Chrome\", async () => {\n    await typeCharacters(\"a\\n\\n\")\n    const clipboardData = createDataTransfer({ \"text/plain\": \"b\\n\\nc\" })\n    const pasteEvent = createEvent(\"paste\", { clipboardData })\n\n    if (document.activeElement.dispatchEvent(pasteEvent)) {\n      const node = document.createElement(\"div\")\n      node.innerHTML = \"<div>b</div><div><br></div><div>c</div>\"\n      await insertNode(node)\n    } else {\n      await nextFrame()\n    }\n    expectDocument(\"a\\n\\nb\\n\\nc\\n\")\n  })\n})\n\nconst createFile = () => {\n  return new Promise((resolve) => {\n    const canvas = document.createElement(\"canvas\")\n    canvas.toBlob((file) => {\n      file.name = \"image.png\"\n      resolve(file)\n    })\n  })\n}\n\nconst createDataTransfer = function (data = {}) {\n  return {\n    types: Object.keys(data),\n    files: data.Files || [],\n    getData: (type) => data[type],\n  }\n}\n\nconst createEvent = function (type, properties = {}) {\n  const event = document.createEvent(\"Events\")\n  event.initEvent(type, true, true)\n  for (const key in properties) {\n    const value = properties[key]\n    Object.defineProperty(event, key, { value })\n  }\n  return event\n}\n\nconst paste = async (param = {}) => {\n  const { dataTransfer, clipboardData } = param\n  const pasteEvent = createEvent(\"paste\", { clipboardData: clipboardData || dataTransfer })\n  const inputEvent = createEvent(\"beforeinput\", { inputType: \"insertFromPaste\", dataTransfer })\n  if (document.activeElement.dispatchEvent(pasteEvent)) {\n    document.activeElement.dispatchEvent(inputEvent)\n  }\n\n  await delay(60)\n}\n","import * as config from \"trix/config\"\n\nimport {\n  assert,\n  clickToolbarButton,\n  expectDocument,\n  moveCursor,\n  pressKey,\n  test,\n  testGroup,\n  testIf,\n  triggerEvent,\n  typeCharacters,\n} from \"test/test_helper\"\nimport { nextFrame } from \"../test_helpers/timing_helpers\"\n\ntestGroup(\"List formatting\", { template: \"editor_empty\" }, () => {\n  test(\"creating a new list item\", async () => {\n    await typeCharacters(\"a\")\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"\\n\")\n    assert.locationRange({ index: 1, offset: 0 })\n    assert.blockAttributes([ 0, 2 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 2, 3 ], [ \"bulletList\", \"bullet\" ])\n  })\n\n  test(\"breaking out of a list\", async () => {\n    await typeCharacters(\"a\")\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"\\n\\n\")\n    assert.blockAttributes([ 0, 2 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 2, 3 ], [])\n    expectDocument(\"a\\n\\n\")\n  })\n\n  test(\"pressing return at the beginning of a non-empty list item\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"a\\nb\")\n    await moveCursor(\"left\")\n    await pressKey(\"return\")\n    assert.blockAttributes([ 0, 2 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 2, 3 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 3, 5 ], [ \"bulletList\", \"bullet\" ])\n    expectDocument(\"a\\n\\nb\\n\")\n  })\n\n  test(\"pressing tab increases nesting level, tab+shift decreases nesting level\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"a\")\n    await pressKey(\"return\")\n    await pressKey(\"tab\")\n    await typeCharacters(\"b\")\n    assert.blockAttributes([ 0, 1 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 2, 3 ], [ \"bulletList\", \"bullet\", \"bulletList\", \"bullet\" ])\n    await nextFrame()\n    // press shift tab\n    triggerEvent(document.activeElement, \"keydown\", {\n      key: \"Tab\",\n      charCode: 0,\n      keyCode: 9,\n      which: 9,\n      shiftKey: true,\n    })\n    assert.blockAttributes([ 0, 1 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 2, 3 ], [ \"bulletList\", \"bullet\" ])\n    expectDocument(\"a\\nb\\n\")\n  })\n\n  testIf(config.input.getLevel() === 0, \"pressing shift-return at the end of a list item\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"a\")\n    const pressShiftReturn = triggerEvent(document.activeElement, \"keydown\", {\n      charCode: 0,\n      keyCode: 13,\n      which: 13,\n      shiftKey: true,\n    })\n    assert.notOk(pressShiftReturn) // Assert defaultPrevented\n    assert.blockAttributes([ 0, 2 ], [ \"bulletList\", \"bullet\" ])\n    expectDocument(\"a\\n\\n\")\n  })\n\n  test(\"pressing delete at the beginning of a non-empty nested list item\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"a\\n\")\n    await clickToolbarButton({ action: \"increaseNestingLevel\" })\n    await typeCharacters(\"b\\n\")\n    await clickToolbarButton({ action: \"increaseNestingLevel\" })\n    await typeCharacters(\"c\")\n    getSelectionManager().setLocationRange({ index: 1, offset: 0 })\n    getComposition().deleteInDirection(\"backward\")\n    getEditorController().render()\n    await nextFrame()\n    assert.blockAttributes([ 0, 2 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 3, 4 ], [ \"bulletList\", \"bullet\", \"bulletList\", \"bullet\" ])\n    expectDocument(\"ab\\nc\\n\")\n  })\n\n  test(\"decreasing list item's level decreases its nested items level too\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"a\\n\")\n    await clickToolbarButton({ action: \"increaseNestingLevel\" })\n    await typeCharacters(\"b\\n\")\n    await clickToolbarButton({ action: \"increaseNestingLevel\" })\n    await typeCharacters(\"c\")\n    getSelectionManager().setLocationRange({ index: 1, offset: 1 })\n\n    for (let n = 0; n < 3; n++) {\n      getComposition().deleteInDirection(\"backward\")\n      getEditorController().render()\n    }\n\n    assert.blockAttributes([ 0, 2 ], [ \"bulletList\", \"bullet\" ])\n    assert.blockAttributes([ 2, 3 ], [])\n    assert.blockAttributes([ 3, 5 ], [ \"bulletList\", \"bullet\" ])\n    expectDocument(\"a\\n\\nc\\n\")\n  })\n})\n","/**\n * @typedef {object} ConfigHead\n *\n * @property {'merge' | 'append' | 'morph' | 'none'} [style]\n * @property {boolean} [block]\n * @property {boolean} [ignore]\n * @property {function(Element): boolean} [shouldPreserve]\n * @property {function(Element): boolean} [shouldReAppend]\n * @property {function(Element): boolean} [shouldRemove]\n * @property {function(Element, {added: Node[], kept: Element[], removed: Element[]}): void} [afterHeadMorphed]\n */\n\n/**\n * @typedef {object} ConfigCallbacks\n *\n * @property {function(Node): boolean} [beforeNodeAdded]\n * @property {function(Node): void} [afterNodeAdded]\n * @property {function(Element, Node): boolean} [beforeNodeMorphed]\n * @property {function(Element, Node): void} [afterNodeMorphed]\n * @property {function(Element): boolean} [beforeNodeRemoved]\n * @property {function(Element): void} [afterNodeRemoved]\n * @property {function(string, Element, \"update\" | \"remove\"): boolean} [beforeAttributeUpdated]\n */\n\n/**\n * @typedef {object} Config\n *\n * @property {'outerHTML' | 'innerHTML'} [morphStyle]\n * @property {boolean} [ignoreActive]\n * @property {boolean} [ignoreActiveValue]\n * @property {boolean} [restoreFocus]\n * @property {ConfigCallbacks} [callbacks]\n * @property {ConfigHead} [head]\n */\n\n/**\n * @typedef {function} NoOp\n *\n * @returns {void}\n */\n\n/**\n * @typedef {object} ConfigHeadInternal\n *\n * @property {'merge' | 'append' | 'morph' | 'none'} style\n * @property {boolean} [block]\n * @property {boolean} [ignore]\n * @property {(function(Element): boolean) | NoOp} shouldPreserve\n * @property {(function(Element): boolean) | NoOp} shouldReAppend\n * @property {(function(Element): boolean) | NoOp} shouldRemove\n * @property {(function(Element, {added: Node[], kept: Element[], removed: Element[]}): void) | NoOp} afterHeadMorphed\n */\n\n/**\n * @typedef {object} ConfigCallbacksInternal\n *\n * @property {(function(Node): boolean) | NoOp} beforeNodeAdded\n * @property {(function(Node): void) | NoOp} afterNodeAdded\n * @property {(function(Node, Node): boolean) | NoOp} beforeNodeMorphed\n * @property {(function(Node, Node): void) | NoOp} afterNodeMorphed\n * @property {(function(Node): boolean) | NoOp} beforeNodeRemoved\n * @property {(function(Node): void) | NoOp} afterNodeRemoved\n * @property {(function(string, Element, \"update\" | \"remove\"): boolean) | NoOp} beforeAttributeUpdated\n */\n\n/**\n * @typedef {object} ConfigInternal\n *\n * @property {'outerHTML' | 'innerHTML'} morphStyle\n * @property {boolean} [ignoreActive]\n * @property {boolean} [ignoreActiveValue]\n * @property {boolean} [restoreFocus]\n * @property {ConfigCallbacksInternal} callbacks\n * @property {ConfigHeadInternal} head\n */\n\n/**\n * @typedef {Object} IdSets\n * @property {Set<string>} persistentIds\n * @property {Map<Node, Set<string>>} idMap\n */\n\n/**\n * @typedef {Function} Morph\n *\n * @param {Element | Document} oldNode\n * @param {Element | Node | HTMLCollection | Node[] | string | null} newContent\n * @param {Config} [config]\n * @returns {undefined | Node[]}\n */\n\n// base IIFE to define idiomorph\n/**\n *\n * @type {{defaults: ConfigInternal, morph: Morph}}\n */\nvar Idiomorph = (function () {\n  \"use strict\";\n\n  /**\n   * @typedef {object} MorphContext\n   *\n   * @property {Element} target\n   * @property {Element} newContent\n   * @property {ConfigInternal} config\n   * @property {ConfigInternal['morphStyle']} morphStyle\n   * @property {ConfigInternal['ignoreActive']} ignoreActive\n   * @property {ConfigInternal['ignoreActiveValue']} ignoreActiveValue\n   * @property {ConfigInternal['restoreFocus']} restoreFocus\n   * @property {Map<Node, Set<string>>} idMap\n   * @property {Set<string>} persistentIds\n   * @property {ConfigInternal['callbacks']} callbacks\n   * @property {ConfigInternal['head']} head\n   * @property {HTMLDivElement} pantry\n   */\n\n  //=============================================================================\n  // AND NOW IT BEGINS...\n  //=============================================================================\n\n  const noOp = () => {};\n  /**\n   * Default configuration values, updatable by users now\n   * @type {ConfigInternal}\n   */\n  const defaults = {\n    morphStyle: \"outerHTML\",\n    callbacks: {\n      beforeNodeAdded: noOp,\n      afterNodeAdded: noOp,\n      beforeNodeMorphed: noOp,\n      afterNodeMorphed: noOp,\n      beforeNodeRemoved: noOp,\n      afterNodeRemoved: noOp,\n      beforeAttributeUpdated: noOp,\n    },\n    head: {\n      style: \"merge\",\n      shouldPreserve: (elt) => elt.getAttribute(\"im-preserve\") === \"true\",\n      shouldReAppend: (elt) => elt.getAttribute(\"im-re-append\") === \"true\",\n      shouldRemove: noOp,\n      afterHeadMorphed: noOp,\n    },\n    restoreFocus: true,\n  };\n\n  /**\n   * Core idiomorph function for morphing one DOM tree to another\n   *\n   * @param {Element | Document} oldNode\n   * @param {Element | Node | HTMLCollection | Node[] | string | null} newContent\n   * @param {Config} [config]\n   * @returns {Promise<Node[]> | Node[]}\n   */\n  function morph(oldNode, newContent, config = {}) {\n    oldNode = normalizeElement(oldNode);\n    const newNode = normalizeParent(newContent);\n    const ctx = createMorphContext(oldNode, newNode, config);\n\n    const morphedNodes = saveAndRestoreFocus(ctx, () => {\n      return withHeadBlocking(\n        ctx,\n        oldNode,\n        newNode,\n        /** @param {MorphContext} ctx */ (ctx) => {\n          if (ctx.morphStyle === \"innerHTML\") {\n            morphChildren(ctx, oldNode, newNode);\n            return Array.from(oldNode.childNodes);\n          } else {\n            return morphOuterHTML(ctx, oldNode, newNode);\n          }\n        },\n      );\n    });\n\n    ctx.pantry.remove();\n    return morphedNodes;\n  }\n\n  /**\n   * Morph just the outerHTML of the oldNode to the newContent\n   * We have to be careful because the oldNode could have siblings which need to be untouched\n   * @param {MorphContext} ctx\n   * @param {Element} oldNode\n   * @param {Element} newNode\n   * @returns {Node[]}\n   */\n  function morphOuterHTML(ctx, oldNode, newNode) {\n    const oldParent = normalizeParent(oldNode);\n    morphChildren(\n      ctx,\n      oldParent,\n      newNode,\n      // these two optional params are the secret sauce\n      oldNode, // start point for iteration\n      oldNode.nextSibling, // end point for iteration\n    );\n    // this is safe even with siblings, because normalizeParent returns a SlicedParentNode if needed.\n    return Array.from(oldParent.childNodes);\n  }\n\n  /**\n   * @param {MorphContext} ctx\n   * @param {Function} fn\n   * @returns {Promise<Node[]> | Node[]}\n   */\n  function saveAndRestoreFocus(ctx, fn) {\n    if (!ctx.config.restoreFocus) return fn();\n    let activeElement =\n      /** @type {HTMLInputElement|HTMLTextAreaElement|null} */ (\n        document.activeElement\n      );\n\n    // don't bother if the active element is not an input or textarea\n    if (\n      !(\n        activeElement instanceof HTMLInputElement ||\n        activeElement instanceof HTMLTextAreaElement\n      )\n    ) {\n      return fn();\n    }\n\n    const { id: activeElementId, selectionStart, selectionEnd } = activeElement;\n\n    const results = fn();\n\n    if (activeElementId && activeElementId !== document.activeElement?.id) {\n      activeElement = ctx.target.querySelector(`[id=\"${activeElementId}\"]`);\n      activeElement?.focus();\n    }\n    if (activeElement && !activeElement.selectionEnd && selectionEnd) {\n      activeElement.setSelectionRange(selectionStart, selectionEnd);\n    }\n\n    return results;\n  }\n\n  const morphChildren = (function () {\n    /**\n     * This is the core algorithm for matching up children.  The idea is to use id sets to try to match up\n     * nodes as faithfully as possible.  We greedily match, which allows us to keep the algorithm fast, but\n     * by using id sets, we are able to better match up with content deeper in the DOM.\n     *\n     * Basic algorithm:\n     * - for each node in the new content:\n     *   - search self and siblings for an id set match, falling back to a soft match\n     *   - if match found\n     *     - remove any nodes up to the match:\n     *       - pantry persistent nodes\n     *       - delete the rest\n     *     - morph the match\n     *   - elsif no match found, and node is persistent\n     *     - find its match by querying the old root (future) and pantry (past)\n     *     - move it and its children here\n     *     - morph it\n     *   - else\n     *     - create a new node from scratch as a last result\n     *\n     * @param {MorphContext} ctx the merge context\n     * @param {Element} oldParent the old content that we are merging the new content into\n     * @param {Element} newParent the parent element of the new content\n     * @param {Node|null} [insertionPoint] the point in the DOM we start morphing at (defaults to first child)\n     * @param {Node|null} [endPoint] the point in the DOM we stop morphing at (defaults to after last child)\n     */\n    function morphChildren(\n      ctx,\n      oldParent,\n      newParent,\n      insertionPoint = null,\n      endPoint = null,\n    ) {\n      // normalize\n      if (\n        oldParent instanceof HTMLTemplateElement &&\n        newParent instanceof HTMLTemplateElement\n      ) {\n        // @ts-ignore we can pretend the DocumentFragment is an Element\n        oldParent = oldParent.content;\n        // @ts-ignore ditto\n        newParent = newParent.content;\n      }\n      insertionPoint ||= oldParent.firstChild;\n\n      // run through all the new content\n      for (const newChild of newParent.childNodes) {\n        // once we reach the end of the old parent content skip to the end and insert the rest\n        if (insertionPoint && insertionPoint != endPoint) {\n          const bestMatch = findBestMatch(\n            ctx,\n            newChild,\n            insertionPoint,\n            endPoint,\n          );\n          if (bestMatch) {\n            // if the node to morph is not at the insertion point then remove/move up to it\n            if (bestMatch !== insertionPoint) {\n              removeNodesBetween(ctx, insertionPoint, bestMatch);\n            }\n            morphNode(bestMatch, newChild, ctx);\n            insertionPoint = bestMatch.nextSibling;\n            continue;\n          }\n        }\n\n        // if the matching node is elsewhere in the original content\n        if (newChild instanceof Element && ctx.persistentIds.has(newChild.id)) {\n          // move it and all its children here and morph\n          const movedChild = moveBeforeById(\n            oldParent,\n            newChild.id,\n            insertionPoint,\n            ctx,\n          );\n          morphNode(movedChild, newChild, ctx);\n          insertionPoint = movedChild.nextSibling;\n          continue;\n        }\n\n        // last resort: insert the new node from scratch\n        const insertedNode = createNode(\n          oldParent,\n          newChild,\n          insertionPoint,\n          ctx,\n        );\n        // could be null if beforeNodeAdded prevented insertion\n        if (insertedNode) {\n          insertionPoint = insertedNode.nextSibling;\n        }\n      }\n\n      // remove any remaining old nodes that didn't match up with new content\n      while (insertionPoint && insertionPoint != endPoint) {\n        const tempNode = insertionPoint;\n        insertionPoint = insertionPoint.nextSibling;\n        removeNode(ctx, tempNode);\n      }\n    }\n\n    /**\n     * This performs the action of inserting a new node while handling situations where the node contains\n     * elements with persistent ids and possible state info we can still preserve by moving in and then morphing\n     *\n     * @param {Element} oldParent\n     * @param {Node} newChild\n     * @param {Node|null} insertionPoint\n     * @param {MorphContext} ctx\n     * @returns {Node|null}\n     */\n    function createNode(oldParent, newChild, insertionPoint, ctx) {\n      if (ctx.callbacks.beforeNodeAdded(newChild) === false) return null;\n      if (ctx.idMap.has(newChild)) {\n        // node has children with ids with possible state so create a dummy elt of same type and apply full morph algorithm\n        const newEmptyChild = document.createElement(\n          /** @type {Element} */ (newChild).tagName,\n        );\n        oldParent.insertBefore(newEmptyChild, insertionPoint);\n        morphNode(newEmptyChild, newChild, ctx);\n        ctx.callbacks.afterNodeAdded(newEmptyChild);\n        return newEmptyChild;\n      } else {\n        // optimisation: no id state to preserve so we can just insert a clone of the newChild and its descendants\n        const newClonedChild = document.importNode(newChild, true); // importNode to not mutate newParent\n        oldParent.insertBefore(newClonedChild, insertionPoint);\n        ctx.callbacks.afterNodeAdded(newClonedChild);\n        return newClonedChild;\n      }\n    }\n\n    //=============================================================================\n    // Matching Functions\n    //=============================================================================\n    const findBestMatch = (function () {\n      /**\n       * Scans forward from the startPoint to the endPoint looking for a match\n       * for the node. It looks for an id set match first, then a soft match.\n       * We abort softmatching if we find two future soft matches, to reduce churn.\n       * @param {Node} node\n       * @param {MorphContext} ctx\n       * @param {Node | null} startPoint\n       * @param {Node | null} endPoint\n       * @returns {Node | null}\n       */\n      function findBestMatch(ctx, node, startPoint, endPoint) {\n        let softMatch = null;\n        let nextSibling = node.nextSibling;\n        let siblingSoftMatchCount = 0;\n\n        let cursor = startPoint;\n        while (cursor && cursor != endPoint) {\n          // soft matching is a prerequisite for id set matching\n          if (isSoftMatch(cursor, node)) {\n            if (isIdSetMatch(ctx, cursor, node)) {\n              return cursor; // found an id set match, we're done!\n            }\n\n            // we haven't yet saved a soft match fallback\n            if (softMatch === null) {\n              // the current soft match will hard match something else in the future, leave it\n              if (!ctx.idMap.has(cursor)) {\n                // save this as the fallback if we get through the loop without finding a hard match\n                softMatch = cursor;\n              }\n            }\n          }\n          if (\n            softMatch === null &&\n            nextSibling &&\n            isSoftMatch(cursor, nextSibling)\n          ) {\n            // The next new node has a soft match with this node, so\n            // increment the count of future soft matches\n            siblingSoftMatchCount++;\n            nextSibling = nextSibling.nextSibling;\n\n            // If there are two future soft matches, block soft matching for this node to allow\n            // future siblings to soft match. This is to reduce churn in the DOM when an element\n            // is prepended.\n            if (siblingSoftMatchCount >= 2) {\n              softMatch = undefined;\n            }\n          }\n\n          // if the current node contains active element, stop looking for better future matches,\n          // because if one is found, this node will be moved to the pantry, reparenting it and thus losing focus\n          if (cursor.contains(document.activeElement)) break;\n\n          cursor = cursor.nextSibling;\n        }\n\n        return softMatch || null;\n      }\n\n      /**\n       *\n       * @param {MorphContext} ctx\n       * @param {Node} oldNode\n       * @param {Node} newNode\n       * @returns {boolean}\n       */\n      function isIdSetMatch(ctx, oldNode, newNode) {\n        let oldSet = ctx.idMap.get(oldNode);\n        let newSet = ctx.idMap.get(newNode);\n\n        if (!newSet || !oldSet) return false;\n\n        for (const id of oldSet) {\n          // a potential match is an id in the new and old nodes that\n          // has not already been merged into the DOM\n          // But the newNode content we call this on has not been\n          // merged yet and we don't allow duplicate IDs so it is simple\n          if (newSet.has(id)) {\n            return true;\n          }\n        }\n        return false;\n      }\n\n      /**\n       *\n       * @param {Node} oldNode\n       * @param {Node} newNode\n       * @returns {boolean}\n       */\n      function isSoftMatch(oldNode, newNode) {\n        // ok to cast: if one is not element, `id` and `tagName` will be undefined and we'll just compare that.\n        const oldElt = /** @type {Element} */ (oldNode);\n        const newElt = /** @type {Element} */ (newNode);\n\n        return (\n          oldElt.nodeType === newElt.nodeType &&\n          oldElt.tagName === newElt.tagName &&\n          // If oldElt has an `id` with possible state and it doesn't match newElt.id then avoid morphing.\n          // We'll still match an anonymous node with an IDed newElt, though, because if it got this far,\n          // its not persistent, and new nodes can't have any hidden state.\n          (!oldElt.id || oldElt.id === newElt.id)\n        );\n      }\n\n      return findBestMatch;\n    })();\n\n    //=============================================================================\n    // DOM Manipulation Functions\n    //=============================================================================\n\n    /**\n     * Gets rid of an unwanted DOM node; strategy depends on nature of its reuse:\n     * - Persistent nodes will be moved to the pantry for later reuse\n     * - Other nodes will have their hooks called, and then are removed\n     * @param {MorphContext} ctx\n     * @param {Node} node\n     */\n    function removeNode(ctx, node) {\n      // are we going to id set match this later?\n      if (ctx.idMap.has(node)) {\n        // skip callbacks and move to pantry\n        moveBefore(ctx.pantry, node, null);\n      } else {\n        // remove for realsies\n        if (ctx.callbacks.beforeNodeRemoved(node) === false) return;\n        node.parentNode?.removeChild(node);\n        ctx.callbacks.afterNodeRemoved(node);\n      }\n    }\n\n    /**\n     * Remove nodes between the start and end nodes\n     * @param {MorphContext} ctx\n     * @param {Node} startInclusive\n     * @param {Node} endExclusive\n     * @returns {Node|null}\n     */\n    function removeNodesBetween(ctx, startInclusive, endExclusive) {\n      /** @type {Node | null} */\n      let cursor = startInclusive;\n      // remove nodes until the endExclusive node\n      while (cursor && cursor !== endExclusive) {\n        let tempNode = /** @type {Node} */ (cursor);\n        cursor = cursor.nextSibling;\n        removeNode(ctx, tempNode);\n      }\n      return cursor;\n    }\n\n    /**\n     * Search for an element by id within the document and pantry, and move it using moveBefore.\n     *\n     * @param {Element} parentNode - The parent node to which the element will be moved.\n     * @param {string} id - The ID of the element to be moved.\n     * @param {Node | null} after - The reference node to insert the element before.\n     *                              If `null`, the element is appended as the last child.\n     * @param {MorphContext} ctx\n     * @returns {Element} The found element\n     */\n    function moveBeforeById(parentNode, id, after, ctx) {\n      const target =\n        /** @type {Element} - will always be found */\n        (\n          (ctx.target.id === id && ctx.target) ||\n            ctx.target.querySelector(`[id=\"${id}\"]`) ||\n            ctx.pantry.querySelector(`[id=\"${id}\"]`)\n        );\n      removeElementFromAncestorsIdMaps(target, ctx);\n      moveBefore(parentNode, target, after);\n      return target;\n    }\n\n    /**\n     * Removes an element from its ancestors' id maps. This is needed when an element is moved from the\n     * \"future\" via `moveBeforeId`. Otherwise, its erstwhile ancestors could be mistakenly moved to the\n     * pantry rather than being deleted, preventing their removal hooks from being called.\n     *\n     * @param {Element} element - element to remove from its ancestors' id maps\n     * @param {MorphContext} ctx\n     */\n    function removeElementFromAncestorsIdMaps(element, ctx) {\n      const id = element.id;\n      /** @ts-ignore - safe to loop in this way **/\n      while ((element = element.parentNode)) {\n        let idSet = ctx.idMap.get(element);\n        if (idSet) {\n          idSet.delete(id);\n          if (!idSet.size) {\n            ctx.idMap.delete(element);\n          }\n        }\n      }\n    }\n\n    /**\n     * Moves an element before another element within the same parent.\n     * Uses the proposed `moveBefore` API if available (and working), otherwise falls back to `insertBefore`.\n     * This is essentialy a forward-compat wrapper.\n     *\n     * @param {Element} parentNode - The parent node containing the after element.\n     * @param {Node} element - The element to be moved.\n     * @param {Node | null} after - The reference node to insert `element` before.\n     *                              If `null`, `element` is appended as the last child.\n     */\n    function moveBefore(parentNode, element, after) {\n      // @ts-ignore - use proposed moveBefore feature\n      if (parentNode.moveBefore) {\n        try {\n          // @ts-ignore - use proposed moveBefore feature\n          parentNode.moveBefore(element, after);\n        } catch (e) {\n          // fall back to insertBefore as some browsers may fail on moveBefore when trying to move Dom disconnected nodes to pantry\n          parentNode.insertBefore(element, after);\n        }\n      } else {\n        parentNode.insertBefore(element, after);\n      }\n    }\n\n    return morphChildren;\n  })();\n\n  //=============================================================================\n  // Single Node Morphing Code\n  //=============================================================================\n  const morphNode = (function () {\n    /**\n     * @param {Node} oldNode root node to merge content into\n     * @param {Node} newContent new content to merge\n     * @param {MorphContext} ctx the merge context\n     * @returns {Node | null} the element that ended up in the DOM\n     */\n    function morphNode(oldNode, newContent, ctx) {\n      if (ctx.ignoreActive && oldNode === document.activeElement) {\n        // don't morph focused element\n        return null;\n      }\n\n      if (ctx.callbacks.beforeNodeMorphed(oldNode, newContent) === false) {\n        return oldNode;\n      }\n\n      if (oldNode instanceof HTMLHeadElement && ctx.head.ignore) {\n        // ignore the head element\n      } else if (\n        oldNode instanceof HTMLHeadElement &&\n        ctx.head.style !== \"morph\"\n      ) {\n        // ok to cast: if newContent wasn't also a <head>, it would've got caught in the `!isSoftMatch` branch above\n        handleHeadElement(\n          oldNode,\n          /** @type {HTMLHeadElement} */ (newContent),\n          ctx,\n        );\n      } else {\n        morphAttributes(oldNode, newContent, ctx);\n        if (!ignoreValueOfActiveElement(oldNode, ctx)) {\n          // @ts-ignore newContent can be a node here because .firstChild will be null\n          morphChildren(ctx, oldNode, newContent);\n        }\n      }\n      ctx.callbacks.afterNodeMorphed(oldNode, newContent);\n      return oldNode;\n    }\n\n    /**\n     * syncs the oldNode to the newNode, copying over all attributes and\n     * inner element state from the newNode to the oldNode\n     *\n     * @param {Node} oldNode the node to copy attributes & state to\n     * @param {Node} newNode the node to copy attributes & state from\n     * @param {MorphContext} ctx the merge context\n     */\n    function morphAttributes(oldNode, newNode, ctx) {\n      let type = newNode.nodeType;\n\n      // if is an element type, sync the attributes from the\n      // new node into the new node\n      if (type === 1 /* element type */) {\n        const oldElt = /** @type {Element} */ (oldNode);\n        const newElt = /** @type {Element} */ (newNode);\n\n        const oldAttributes = oldElt.attributes;\n        const newAttributes = newElt.attributes;\n        for (const newAttribute of newAttributes) {\n          if (ignoreAttribute(newAttribute.name, oldElt, \"update\", ctx)) {\n            continue;\n          }\n          if (oldElt.getAttribute(newAttribute.name) !== newAttribute.value) {\n            oldElt.setAttribute(newAttribute.name, newAttribute.value);\n          }\n        }\n        // iterate backwards to avoid skipping over items when a delete occurs\n        for (let i = oldAttributes.length - 1; 0 <= i; i--) {\n          const oldAttribute = oldAttributes[i];\n\n          // toAttributes is a live NamedNodeMap, so iteration+mutation is unsafe\n          // e.g. custom element attribute callbacks can remove other attributes\n          if (!oldAttribute) continue;\n\n          if (!newElt.hasAttribute(oldAttribute.name)) {\n            if (ignoreAttribute(oldAttribute.name, oldElt, \"remove\", ctx)) {\n              continue;\n            }\n            oldElt.removeAttribute(oldAttribute.name);\n          }\n        }\n\n        if (!ignoreValueOfActiveElement(oldElt, ctx)) {\n          syncInputValue(oldElt, newElt, ctx);\n        }\n      }\n\n      // sync text nodes\n      if (type === 8 /* comment */ || type === 3 /* text */) {\n        if (oldNode.nodeValue !== newNode.nodeValue) {\n          oldNode.nodeValue = newNode.nodeValue;\n        }\n      }\n    }\n\n    /**\n     * NB: many bothans died to bring us information:\n     *\n     *  https://github.com/patrick-steele-idem/morphdom/blob/master/src/specialElHandlers.js\n     *  https://github.com/choojs/nanomorph/blob/master/lib/morph.jsL113\n     *\n     * @param {Element} oldElement the element to sync the input value to\n     * @param {Element} newElement the element to sync the input value from\n     * @param {MorphContext} ctx the merge context\n     */\n    function syncInputValue(oldElement, newElement, ctx) {\n      if (\n        oldElement instanceof HTMLInputElement &&\n        newElement instanceof HTMLInputElement &&\n        newElement.type !== \"file\"\n      ) {\n        let newValue = newElement.value;\n        let oldValue = oldElement.value;\n\n        // sync boolean attributes\n        syncBooleanAttribute(oldElement, newElement, \"checked\", ctx);\n        syncBooleanAttribute(oldElement, newElement, \"disabled\", ctx);\n\n        if (!newElement.hasAttribute(\"value\")) {\n          if (!ignoreAttribute(\"value\", oldElement, \"remove\", ctx)) {\n            oldElement.value = \"\";\n            oldElement.removeAttribute(\"value\");\n          }\n        } else if (oldValue !== newValue) {\n          if (!ignoreAttribute(\"value\", oldElement, \"update\", ctx)) {\n            oldElement.setAttribute(\"value\", newValue);\n            oldElement.value = newValue;\n          }\n        }\n        // TODO: QUESTION(1cg): this used to only check `newElement` unlike the other branches -- why?\n        // did I break something?\n      } else if (\n        oldElement instanceof HTMLOptionElement &&\n        newElement instanceof HTMLOptionElement\n      ) {\n        syncBooleanAttribute(oldElement, newElement, \"selected\", ctx);\n      } else if (\n        oldElement instanceof HTMLTextAreaElement &&\n        newElement instanceof HTMLTextAreaElement\n      ) {\n        let newValue = newElement.value;\n        let oldValue = oldElement.value;\n        if (ignoreAttribute(\"value\", oldElement, \"update\", ctx)) {\n          return;\n        }\n        if (newValue !== oldValue) {\n          oldElement.value = newValue;\n        }\n        if (\n          oldElement.firstChild &&\n          oldElement.firstChild.nodeValue !== newValue\n        ) {\n          oldElement.firstChild.nodeValue = newValue;\n        }\n      }\n    }\n\n    /**\n     * @param {Element} oldElement element to write the value to\n     * @param {Element} newElement element to read the value from\n     * @param {string} attributeName the attribute name\n     * @param {MorphContext} ctx the merge context\n     */\n    function syncBooleanAttribute(oldElement, newElement, attributeName, ctx) {\n      // @ts-ignore this function is only used on boolean attrs that are reflected as dom properties\n      const newLiveValue = newElement[attributeName],\n        // @ts-ignore ditto\n        oldLiveValue = oldElement[attributeName];\n      if (newLiveValue !== oldLiveValue) {\n        const ignoreUpdate = ignoreAttribute(\n          attributeName,\n          oldElement,\n          \"update\",\n          ctx,\n        );\n        if (!ignoreUpdate) {\n          // update attribute's associated DOM property\n          // @ts-ignore this function is only used on boolean attrs that are reflected as dom properties\n          oldElement[attributeName] = newElement[attributeName];\n        }\n        if (newLiveValue) {\n          if (!ignoreUpdate) {\n            // https://developer.mozilla.org/en-US/docs/Glossary/Boolean/HTML\n            // this is the correct way to set a boolean attribute to \"true\"\n            oldElement.setAttribute(attributeName, \"\");\n          }\n        } else {\n          if (!ignoreAttribute(attributeName, oldElement, \"remove\", ctx)) {\n            oldElement.removeAttribute(attributeName);\n          }\n        }\n      }\n    }\n\n    /**\n     * @param {string} attr the attribute to be mutated\n     * @param {Element} element the element that is going to be updated\n     * @param {\"update\" | \"remove\"} updateType\n     * @param {MorphContext} ctx the merge context\n     * @returns {boolean} true if the attribute should be ignored, false otherwise\n     */\n    function ignoreAttribute(attr, element, updateType, ctx) {\n      if (\n        attr === \"value\" &&\n        ctx.ignoreActiveValue &&\n        element === document.activeElement\n      ) {\n        return true;\n      }\n      return (\n        ctx.callbacks.beforeAttributeUpdated(attr, element, updateType) ===\n        false\n      );\n    }\n\n    /**\n     * @param {Node} possibleActiveElement\n     * @param {MorphContext} ctx\n     * @returns {boolean}\n     */\n    function ignoreValueOfActiveElement(possibleActiveElement, ctx) {\n      return (\n        !!ctx.ignoreActiveValue &&\n        possibleActiveElement === document.activeElement &&\n        possibleActiveElement !== document.body\n      );\n    }\n\n    return morphNode;\n  })();\n\n  //=============================================================================\n  // Head Management Functions\n  //=============================================================================\n  /**\n   * @param {MorphContext} ctx\n   * @param {Element} oldNode\n   * @param {Element} newNode\n   * @param {function} callback\n   * @returns {Node[] | Promise<Node[]>}\n   */\n  function withHeadBlocking(ctx, oldNode, newNode, callback) {\n    if (ctx.head.block) {\n      const oldHead = oldNode.querySelector(\"head\");\n      const newHead = newNode.querySelector(\"head\");\n      if (oldHead && newHead) {\n        const promises = handleHeadElement(oldHead, newHead, ctx);\n        // when head promises resolve, proceed ignoring the head tag\n        return Promise.all(promises).then(() => {\n          const newCtx = Object.assign(ctx, {\n            head: {\n              block: false,\n              ignore: true,\n            },\n          });\n          return callback(newCtx);\n        });\n      }\n    }\n    // just proceed if we not head blocking\n    return callback(ctx);\n  }\n\n  /**\n   *  The HEAD tag can be handled specially, either w/ a 'merge' or 'append' style\n   *\n   * @param {Element} oldHead\n   * @param {Element} newHead\n   * @param {MorphContext} ctx\n   * @returns {Promise<void>[]}\n   */\n  function handleHeadElement(oldHead, newHead, ctx) {\n    let added = [];\n    let removed = [];\n    let preserved = [];\n    let nodesToAppend = [];\n\n    // put all new head elements into a Map, by their outerHTML\n    let srcToNewHeadNodes = new Map();\n    for (const newHeadChild of newHead.children) {\n      srcToNewHeadNodes.set(newHeadChild.outerHTML, newHeadChild);\n    }\n\n    // for each elt in the current head\n    for (const currentHeadElt of oldHead.children) {\n      // If the current head element is in the map\n      let inNewContent = srcToNewHeadNodes.has(currentHeadElt.outerHTML);\n      let isReAppended = ctx.head.shouldReAppend(currentHeadElt);\n      let isPreserved = ctx.head.shouldPreserve(currentHeadElt);\n      if (inNewContent || isPreserved) {\n        if (isReAppended) {\n          // remove the current version and let the new version replace it and re-execute\n          removed.push(currentHeadElt);\n        } else {\n          // this element already exists and should not be re-appended, so remove it from\n          // the new content map, preserving it in the DOM\n          srcToNewHeadNodes.delete(currentHeadElt.outerHTML);\n          preserved.push(currentHeadElt);\n        }\n      } else {\n        if (ctx.head.style === \"append\") {\n          // we are appending and this existing element is not new content\n          // so if and only if it is marked for re-append do we do anything\n          if (isReAppended) {\n            removed.push(currentHeadElt);\n            nodesToAppend.push(currentHeadElt);\n          }\n        } else {\n          // if this is a merge, we remove this content since it is not in the new head\n          if (ctx.head.shouldRemove(currentHeadElt) !== false) {\n            removed.push(currentHeadElt);\n          }\n        }\n      }\n    }\n\n    // Push the remaining new head elements in the Map into the\n    // nodes to append to the head tag\n    nodesToAppend.push(...srcToNewHeadNodes.values());\n\n    let promises = [];\n    for (const newNode of nodesToAppend) {\n      // TODO: This could theoretically be null, based on type\n      let newElt = /** @type {ChildNode} */ (\n        document.createRange().createContextualFragment(newNode.outerHTML)\n          .firstChild\n      );\n      if (ctx.callbacks.beforeNodeAdded(newElt) !== false) {\n        if (\n          (\"href\" in newElt && newElt.href) ||\n          (\"src\" in newElt && newElt.src)\n        ) {\n          /** @type {(result?: any) => void} */ let resolve;\n          let promise = new Promise(function (_resolve) {\n            resolve = _resolve;\n          });\n          newElt.addEventListener(\"load\", function () {\n            resolve();\n          });\n          promises.push(promise);\n        }\n        oldHead.appendChild(newElt);\n        ctx.callbacks.afterNodeAdded(newElt);\n        added.push(newElt);\n      }\n    }\n\n    // remove all removed elements, after we have appended the new elements to avoid\n    // additional network requests for things like style sheets\n    for (const removedElement of removed) {\n      if (ctx.callbacks.beforeNodeRemoved(removedElement) !== false) {\n        oldHead.removeChild(removedElement);\n        ctx.callbacks.afterNodeRemoved(removedElement);\n      }\n    }\n\n    ctx.head.afterHeadMorphed(oldHead, {\n      added: added,\n      kept: preserved,\n      removed: removed,\n    });\n    return promises;\n  }\n\n  //=============================================================================\n  // Create Morph Context Functions\n  //=============================================================================\n  const createMorphContext = (function () {\n    /**\n     *\n     * @param {Element} oldNode\n     * @param {Element} newContent\n     * @param {Config} config\n     * @returns {MorphContext}\n     */\n    function createMorphContext(oldNode, newContent, config) {\n      const { persistentIds, idMap } = createIdMaps(oldNode, newContent);\n\n      const mergedConfig = mergeDefaults(config);\n      const morphStyle = mergedConfig.morphStyle || \"outerHTML\";\n      if (![\"innerHTML\", \"outerHTML\"].includes(morphStyle)) {\n        throw `Do not understand how to morph style ${morphStyle}`;\n      }\n\n      return {\n        target: oldNode,\n        newContent: newContent,\n        config: mergedConfig,\n        morphStyle: morphStyle,\n        ignoreActive: mergedConfig.ignoreActive,\n        ignoreActiveValue: mergedConfig.ignoreActiveValue,\n        restoreFocus: mergedConfig.restoreFocus,\n        idMap: idMap,\n        persistentIds: persistentIds,\n        pantry: createPantry(),\n        callbacks: mergedConfig.callbacks,\n        head: mergedConfig.head,\n      };\n    }\n\n    /**\n     * Deep merges the config object and the Idiomorph.defaults object to\n     * produce a final configuration object\n     * @param {Config} config\n     * @returns {ConfigInternal}\n     */\n    function mergeDefaults(config) {\n      let finalConfig = Object.assign({}, defaults);\n\n      // copy top level stuff into final config\n      Object.assign(finalConfig, config);\n\n      // copy callbacks into final config (do this to deep merge the callbacks)\n      finalConfig.callbacks = Object.assign(\n        {},\n        defaults.callbacks,\n        config.callbacks,\n      );\n\n      // copy head config into final config  (do this to deep merge the head)\n      finalConfig.head = Object.assign({}, defaults.head, config.head);\n\n      return finalConfig;\n    }\n\n    /**\n     * @returns {HTMLDivElement}\n     */\n    function createPantry() {\n      const pantry = document.createElement(\"div\");\n      pantry.hidden = true;\n      document.body.insertAdjacentElement(\"afterend\", pantry);\n      return pantry;\n    }\n\n    /**\n     * Returns all elements with an ID contained within the root element and its descendants\n     *\n     * @param {Element} root\n     * @returns {Element[]}\n     */\n    function findIdElements(root) {\n      let elements = Array.from(root.querySelectorAll(\"[id]\"));\n      if (root.id) {\n        elements.push(root);\n      }\n      return elements;\n    }\n\n    /**\n     * A bottom-up algorithm that populates a map of Element -> IdSet.\n     * The idSet for a given element is the set of all IDs contained within its subtree.\n     * As an optimzation, we filter these IDs through the given list of persistent IDs,\n     * because we don't need to bother considering IDed elements that won't be in the new content.\n     *\n     * @param {Map<Node, Set<string>>} idMap\n     * @param {Set<string>} persistentIds\n     * @param {Element} root\n     * @param {Element[]} elements\n     */\n    function populateIdMapWithTree(idMap, persistentIds, root, elements) {\n      for (const elt of elements) {\n        if (persistentIds.has(elt.id)) {\n          /** @type {Element|null} */\n          let current = elt;\n          // walk up the parent hierarchy of that element, adding the id\n          // of element to the parent's id set\n          while (current) {\n            let idSet = idMap.get(current);\n            // if the id set doesn't exist, create it and insert it in the map\n            if (idSet == null) {\n              idSet = new Set();\n              idMap.set(current, idSet);\n            }\n            idSet.add(elt.id);\n\n            if (current === root) break;\n            current = current.parentElement;\n          }\n        }\n      }\n    }\n\n    /**\n     * This function computes a map of nodes to all ids contained within that node (inclusive of the\n     * node).  This map can be used to ask if two nodes have intersecting sets of ids, which allows\n     * for a looser definition of \"matching\" than tradition id matching, and allows child nodes\n     * to contribute to a parent nodes matching.\n     *\n     * @param {Element} oldContent  the old content that will be morphed\n     * @param {Element} newContent  the new content to morph to\n     * @returns {IdSets}\n     */\n    function createIdMaps(oldContent, newContent) {\n      const oldIdElements = findIdElements(oldContent);\n      const newIdElements = findIdElements(newContent);\n\n      const persistentIds = createPersistentIds(oldIdElements, newIdElements);\n\n      /** @type {Map<Node, Set<string>>} */\n      let idMap = new Map();\n      populateIdMapWithTree(idMap, persistentIds, oldContent, oldIdElements);\n\n      /** @ts-ignore - if newContent is a duck-typed parent, pass its single child node as the root to halt upwards iteration */\n      const newRoot = newContent.__idiomorphRoot || newContent;\n      populateIdMapWithTree(idMap, persistentIds, newRoot, newIdElements);\n\n      return { persistentIds, idMap };\n    }\n\n    /**\n     * This function computes the set of ids that persist between the two contents excluding duplicates\n     *\n     * @param {Element[]} oldIdElements\n     * @param {Element[]} newIdElements\n     * @returns {Set<string>}\n     */\n    function createPersistentIds(oldIdElements, newIdElements) {\n      let duplicateIds = new Set();\n\n      /** @type {Map<string, string>} */\n      let oldIdTagNameMap = new Map();\n      for (const { id, tagName } of oldIdElements) {\n        if (oldIdTagNameMap.has(id)) {\n          duplicateIds.add(id);\n        } else {\n          oldIdTagNameMap.set(id, tagName);\n        }\n      }\n\n      let persistentIds = new Set();\n      for (const { id, tagName } of newIdElements) {\n        if (persistentIds.has(id)) {\n          duplicateIds.add(id);\n        } else if (oldIdTagNameMap.get(id) === tagName) {\n          persistentIds.add(id);\n        }\n        // skip if tag types mismatch because its not possible to morph one tag into another\n      }\n\n      for (const id of duplicateIds) {\n        persistentIds.delete(id);\n      }\n      return persistentIds;\n    }\n\n    return createMorphContext;\n  })();\n\n  //=============================================================================\n  // HTML Normalization Functions\n  //=============================================================================\n  const { normalizeElement, normalizeParent } = (function () {\n    /** @type {WeakSet<Node>} */\n    const generatedByIdiomorph = new WeakSet();\n\n    /**\n     *\n     * @param {Element | Document} content\n     * @returns {Element}\n     */\n    function normalizeElement(content) {\n      if (content instanceof Document) {\n        return content.documentElement;\n      } else {\n        return content;\n      }\n    }\n\n    /**\n     *\n     * @param {null | string | Node | HTMLCollection | Node[] | Document & {generatedByIdiomorph:boolean}} newContent\n     * @returns {Element}\n     */\n    function normalizeParent(newContent) {\n      if (newContent == null) {\n        return document.createElement(\"div\"); // dummy parent element\n      } else if (typeof newContent === \"string\") {\n        return normalizeParent(parseContent(newContent));\n      } else if (\n        generatedByIdiomorph.has(/** @type {Element} */ (newContent))\n      ) {\n        // the template tag created by idiomorph parsing can serve as a dummy parent\n        return /** @type {Element} */ (newContent);\n      } else if (newContent instanceof Node) {\n        if (newContent.parentNode) {\n          // we can't use the parent directly because newContent may have siblings\n          // that we don't want in the morph, and reparenting might be expensive (TODO is it?),\n          // so instead we create a fake parent node that only sees a slice of its children.\n          /** @type {Element} */\n          return /** @type {any} */ (new SlicedParentNode(newContent));\n        } else {\n          // a single node is added as a child to a dummy parent\n          const dummyParent = document.createElement(\"div\");\n          dummyParent.append(newContent);\n          return dummyParent;\n        }\n      } else {\n        // all nodes in the array or HTMLElement collection are consolidated under\n        // a single dummy parent element\n        const dummyParent = document.createElement(\"div\");\n        for (const elt of [...newContent]) {\n          dummyParent.append(elt);\n        }\n        return dummyParent;\n      }\n    }\n\n    /**\n     * A fake duck-typed parent element to wrap a single node, without actually reparenting it.\n     * This is useful because the node may have siblings that we don't want in the morph, and it may also be moved\n     * or replaced with one or more elements during the morph. This class effectively allows us a window into\n     * a slice of a node's children.\n     * \"If it walks like a duck, and quacks like a duck, then it must be a duck!\" -- James Whitcomb Riley (1849–1916)\n     */\n    class SlicedParentNode {\n      /** @param {Node} node */\n      constructor(node) {\n        this.originalNode = node;\n        this.realParentNode = /** @type {Element} */ (node.parentNode);\n        this.previousSibling = node.previousSibling;\n        this.nextSibling = node.nextSibling;\n      }\n\n      /** @returns {Node[]} */\n      get childNodes() {\n        // return slice of realParent's current childNodes, based on previousSibling and nextSibling\n        const nodes = [];\n        let cursor = this.previousSibling\n          ? this.previousSibling.nextSibling\n          : this.realParentNode.firstChild;\n        while (cursor && cursor != this.nextSibling) {\n          nodes.push(cursor);\n          cursor = cursor.nextSibling;\n        }\n        return nodes;\n      }\n\n      /**\n       * @param {string} selector\n       * @returns {Element[]}\n       */\n      querySelectorAll(selector) {\n        return this.childNodes.reduce((results, node) => {\n          if (node instanceof Element) {\n            if (node.matches(selector)) results.push(node);\n            const nodeList = node.querySelectorAll(selector);\n            for (let i = 0; i < nodeList.length; i++) {\n              results.push(nodeList[i]);\n            }\n          }\n          return results;\n        }, /** @type {Element[]} */ ([]));\n      }\n\n      /**\n       * @param {Node} node\n       * @param {Node} referenceNode\n       * @returns {Node}\n       */\n      insertBefore(node, referenceNode) {\n        return this.realParentNode.insertBefore(node, referenceNode);\n      }\n\n      /**\n       * @param {Node} node\n       * @param {Node} referenceNode\n       * @returns {Node}\n       */\n      moveBefore(node, referenceNode) {\n        // @ts-ignore - use new moveBefore feature\n        return this.realParentNode.moveBefore(node, referenceNode);\n      }\n\n      /**\n       * for later use with populateIdMapWithTree to halt upwards iteration\n       * @returns {Node}\n       */\n      get __idiomorphRoot() {\n        return this.originalNode;\n      }\n    }\n\n    /**\n     *\n     * @param {string} newContent\n     * @returns {Node | null | DocumentFragment}\n     */\n    function parseContent(newContent) {\n      let parser = new DOMParser();\n\n      // remove svgs to avoid false-positive matches on head, etc.\n      let contentWithSvgsRemoved = newContent.replace(\n        /<svg(\\s[^>]*>|>)([\\s\\S]*?)<\\/svg>/gim,\n        \"\",\n      );\n\n      // if the newContent contains a html, head or body tag, we can simply parse it w/o wrapping\n      if (\n        contentWithSvgsRemoved.match(/<\\/html>/) ||\n        contentWithSvgsRemoved.match(/<\\/head>/) ||\n        contentWithSvgsRemoved.match(/<\\/body>/)\n      ) {\n        let content = parser.parseFromString(newContent, \"text/html\");\n        // if it is a full HTML document, return the document itself as the parent container\n        if (contentWithSvgsRemoved.match(/<\\/html>/)) {\n          generatedByIdiomorph.add(content);\n          return content;\n        } else {\n          // otherwise return the html element as the parent container\n          let htmlElement = content.firstChild;\n          if (htmlElement) {\n            generatedByIdiomorph.add(htmlElement);\n          }\n          return htmlElement;\n        }\n      } else {\n        // if it is partial HTML, wrap it in a template tag to provide a parent element and also to help\n        // deal with touchy tags like tr, tbody, etc.\n        let responseDoc = parser.parseFromString(\n          \"<body><template>\" + newContent + \"</template></body>\",\n          \"text/html\",\n        );\n        let content = /** @type {HTMLTemplateElement} */ (\n          responseDoc.body.querySelector(\"template\")\n        ).content;\n        generatedByIdiomorph.add(content);\n        return content;\n      }\n    }\n\n    return { normalizeElement, normalizeParent };\n  })();\n\n  //=============================================================================\n  // This is what ends up becoming the Idiomorph global object\n  //=============================================================================\n  return {\n    morph,\n    defaults,\n  };\n})();\n\nexport {Idiomorph};\n","import { assert, test, testGroup } from \"test/test_helper\"\nimport { nextFrame } from \"../test_helpers/timing_helpers\"\n\nimport { Idiomorph } from \"idiomorph\"\n\nfunction renderWithMorph(event) {\n  event.render = (editorElement, documentFragment) => {\n    Idiomorph.morph(editorElement, documentFragment, { morphStyle: \"innerHTML\" })\n  }\n}\n\ntestGroup(\"morphing editor content\", {\n  template: \"editor_empty\",\n  beforeSetup: () => addEventListener(\"trix-before-render\", renderWithMorph),\n  afterTeardown: () => removeEventListener(\"trix-before-render\", renderWithMorph)\n}, () => {\n  test(\"renders changed elements with morphing\", () => {\n    const element = getEditorElement()\n\n    element.editor.loadHTML(\"<div>hello</div>\")\n\n    const before = element.firstElementChild\n    assert.equal(before.textContent, \"hello\")\n\n    element.editor.loadHTML(\"<div>goodbye</div>\")\n\n    const after = element.firstElementChild\n    assert.equal(after.textContent, \"goodbye\")\n    assert.strictEqual(after, before, \"preserves element across renders\")\n  })\n\n  test(\"renders with morphing when ancestor elements are morphed\", () => {\n    const element = getEditorElement()\n\n    Idiomorph.morph(\n      element.parentElement,\n      \"<trix-editor><div>hello</div></trix-editor>\",\n      { morphStyle: \"innerHTML\" }\n    )\n\n    const before = element.firstElementChild\n    assert.equal(before.textContent, \"hello\")\n\n    Idiomorph.morph(\n      element.parentElement,\n      \"<trix-editor><div>goodbye</div></trix-editor>\",\n      { morphStyle: \"innerHTML\" }\n    )\n\n    const after = element.firstElementChild\n    assert.equal(after.textContent, \"goodbye\")\n    assert.strictEqual(after, before, \"preserves element across renders\")\n  })\n})\n\ntestGroup(\"morphing with internal toolbar\", { template: \"editor_empty\" }, () => {\n  test(\"removing the 'connected' attribute will reset the editor and recreate toolbar\", async () => {\n    const element = getEditorElement()\n\n    assert.ok(element.hasAttribute(\"connected\"))\n\n    const originalToolbar = element.toolbarElement\n    element.toolbarElement.remove()\n    element.removeAttribute(\"toolbar\")\n    element.removeAttribute(\"connected\")\n    await nextFrame()\n\n    assert.ok(element.hasAttribute(\"connected\"))\n    assert.ok(element.toolbarElement)\n    assert.notEqual(originalToolbar, element.toolbarElement)\n  })\n})\n\ntestGroup(\"morphing with external toolbar\", { template: \"editor_with_toolbar_and_input\" }, () => {\n  test(\"removing the 'connected' attribute will reset the editor leave the toolbar untouched\", async () => {\n    const element = getEditorElement()\n\n    assert.ok(element.hasAttribute(\"connected\"))\n\n    const originalToolbar = element.toolbarElement\n    element.removeAttribute(\"connected\")\n    await nextFrame()\n\n    assert.ok(element.hasAttribute(\"connected\"))\n    assert.ok(element.toolbarElement)\n    assert.equal(originalToolbar, element.toolbarElement)\n  })\n})\n","import * as config from \"trix/config\"\n\nimport {\n  TEST_IMAGE_URL,\n  assert,\n  clickToolbarButton,\n  expectDocument,\n  insertNode,\n  isToolbarButtonActive,\n  testGroup,\n  testIf,\n  triggerEvent,\n  typeCharacters,\n} from \"test/test_helper\"\nimport { nextFrame } from \"../test_helpers/timing_helpers\"\n\nconst test = function() {\n  testIf(config.input.getLevel() === 0, ...arguments)\n}\n\ntestGroup(\"Mutation input\", { template: \"editor_empty\" }, () => {\n  test(\"deleting a newline\", async () => {\n    const element = getEditorElement()\n    element.editor.insertString(\"a\\n\\nb\")\n\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 229, which: 229 })\n    const br = element.querySelectorAll(\"br\")[1]\n    br.parentNode.removeChild(br)\n    await nextFrame()\n    expectDocument(\"a\\nb\\n\")\n  })\n\n  test(\"typing a space in formatted text at the end of a block\", async () => {\n    const element = getEditorElement()\n\n    await clickToolbarButton({ attribute: \"bold\" })\n    await typeCharacters(\"a\")\n    // Press space key\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 32, which: 32 })\n    triggerEvent(element, \"keypress\", { charCode: 32, keyCode: 32, which: 32 })\n\n    const boldElement = element.querySelector(\"strong\")\n    boldElement.appendChild(document.createTextNode(\" \"))\n    boldElement.appendChild(document.createElement(\"br\"))\n\n    await nextFrame()\n\n    assert.ok(isToolbarButtonActive({ attribute: \"bold\" }))\n    assert.textAttributes([ 0, 2 ], { bold: true })\n    expectDocument(\"a \\n\")\n  })\n\n  test(\"typing formatted text after a newline at the end of block\", async () => {\n    const element = getEditorElement()\n    element.editor.insertHTML(\"<ul><li>a</li><li><br></li></ul>\")\n    element.editor.setSelectedRange(3)\n\n    await clickToolbarButton({ attribute: \"bold\" })\n\n    // Press B key\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 66, which: 66 })\n    triggerEvent(element, \"keypress\", { charCode: 98, keyCode: 98, which: 98 })\n\n    const node = document.createTextNode(\"b\")\n    const extraBR = element.querySelectorAll(\"br\")[1]\n    extraBR.parentNode.insertBefore(node, extraBR)\n    extraBR.parentNode.removeChild(extraBR)\n\n    await nextFrame()\n\n    assert.ok(isToolbarButtonActive({ attribute: \"bold\" }))\n    assert.textAttributes([ 0, 1 ], {})\n    assert.textAttributes([ 3, 4 ], { bold: true })\n    expectDocument(\"a\\n\\nb\\n\")\n  })\n\n  test(\"typing an emoji after a newline at the end of block\", async () => {\n    const element = getEditorElement()\n\n    await typeCharacters(\"\\n\")\n\n    // Tap 👏🏻 on iOS\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 0, which: 0, key: \"👏🏻\" })\n    triggerEvent(element, \"keypress\", { charCode: 128079, keyCode: 128079, which: 128079, key: \"👏🏻\" })\n\n    const node = document.createTextNode(\"👏🏻\")\n    const extraBR = element.querySelectorAll(\"br\")[1]\n    extraBR.parentNode.insertBefore(node, extraBR)\n    extraBR.parentNode.removeChild(extraBR)\n\n    await nextFrame()\n    expectDocument(\"\\n👏🏻\\n\")\n  })\n\n  test(\"backspacing an attachment at the beginning of an otherwise empty document\", async () => {\n    const element = getEditorElement()\n    element.editor.loadHTML(`<img src=\"${TEST_IMAGE_URL}\" width=\"10\" height=\"10\">`)\n\n    await nextFrame()\n\n    element.editor.setSelectedRange([ 0, 1 ])\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 8, which: 8 })\n\n    element.firstElementChild.innerHTML = \"<br>\"\n\n    await nextFrame()\n\n    assert.locationRange({ index: 0, offset: 0 })\n    expectDocument(\"\\n\")\n  })\n\n  test(\"backspacing a block comment node\", async (expectDocument) => {\n    const element = getEditorElement()\n    element.editor.loadHTML(\"<blockquote>a</blockquote><div>b</div>\")\n\n    await nextFrame()\n\n    element.editor.setSelectedRange(2)\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 8, which: 8 })\n    const commentNode = element.lastChild.firstChild\n    commentNode.parentNode.removeChild(commentNode)\n\n    await nextFrame()\n\n    assert.locationRange({ index: 0, offset: 1 })\n    expectDocument(\"ab\\n\")\n  })\n\n  test(\"typing formatted text with autocapitalization on\", async () => {\n    const element = getEditorElement()\n\n    await clickToolbarButton({ attribute: \"bold\" })\n    // Type \"b\", autocapitalize to \"B\"\n    triggerEvent(element, \"keydown\", { charCode: 0, keyCode: 66, which: 66 })\n    triggerEvent(element, \"keypress\", { charCode: 98, keyCode: 98, which: 98 })\n    triggerEvent(element, \"textInput\", { data: \"B\" })\n\n    await insertNode(document.createTextNode(\"B\"))\n    assert.ok(isToolbarButtonActive({ attribute: \"bold\" }))\n    assert.textAttributes([ 0, 1 ], { bold: true })\n    expectDocument(\"B\\n\")\n  })\n})\n","import * as config from \"trix/config\"\nimport { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport {\n  TEST_IMAGE_URL,\n  assert,\n  clickToolbarButton,\n  createFile,\n  expandSelection,\n  expectDocument,\n  moveCursor,\n  pasteContent,\n  pressKey,\n  test,\n  testGroup,\n  testIf,\n  triggerEvent,\n  typeCharacters,\n} from \"test/test_helper\"\nimport { delay, nextFrame } from \"../test_helpers/timing_helpers\"\n\ntestGroup(\"Pasting\", { template: \"editor_empty\" }, () => {\n  test(\"paste plain text\", async () => {\n    await typeCharacters(\"abc\")\n    await moveCursor(\"left\")\n    await pasteContent(\"text/plain\", \"!\")\n    expectDocument(\"ab!c\\n\")\n  })\n\n  test(\"paste simple html\", async () => {\n    await typeCharacters(\"abc\")\n    await moveCursor(\"left\")\n    await pasteContent(\"text/html\", \"&lt;\")\n    expectDocument(\"ab<c\\n\")\n  })\n\n  test(\"paste complex html\", async () => {\n    await typeCharacters(\"abc\")\n    await moveCursor(\"left\")\n    await pasteContent(\"text/html\", \"<div>Hello world<br></div><div>This is a test</div>\")\n    expectDocument(\"abHello world\\nThis is a test\\nc\\n\")\n  })\n\n  test(\"paste html in expanded selection\", async () => {\n    await typeCharacters(\"abc\")\n    await moveCursor(\"left\")\n    await expandSelection({ direction: \"left\", times: 2 })\n    await pasteContent(\"text/html\", \"<strong>x</strong>\")\n    assert.selectedRange(1)\n    expectDocument(\"xc\\n\")\n  })\n\n  test(\"paste plain text with CRLF \", async () => {\n    await pasteContent(\"text/plain\", \"a\\r\\nb\\r\\nc\")\n    expectDocument(\"a\\nb\\nc\\n\")\n  })\n\n  test(\"paste html with CRLF \", async () => {\n    await pasteContent(\"text/html\", \"<div>a<br></div>\\r\\n<div>b<br></div>\\r\\n<div>c<br></div>\")\n    expectDocument(\"a\\nb\\nc\\n\")\n  })\n\n  test(\"paste plain text with CR\", async () => {\n    await pasteContent(\"text/plain\", \"a\\rb\\rc\")\n    expectDocument(\"a\\nb\\nc\\n\")\n  })\n\n  test(\"paste html with CR\", async () => {\n    await pasteContent(\"text/html\", \"<div>a<br></div>\\r<div>b<br></div>\\r<div>c<br></div>\")\n    expectDocument(\"a\\nb\\nc\\n\")\n  })\n\n  test(\"paste unsafe html\", async () => {\n    window.unsanitized = []\n    const pasteData = {\n      \"text/plain\": \"x\",\n      \"text/html\": `\\\n        <img onload=\"window.unsanitized.push('img.onload');\" src=\"${TEST_IMAGE_URL}\">\n        <img onerror=\"window.unsanitized.push('img.onerror');\" src=\"data:image/gif;base64,TOTALLYBOGUS\">\n        <form><math><mtext></form><form><mglyph><style></math><img src onerror=\"window.unsanitized.push('img.onerror');\">\n        <script>\n          window.unsanitized.push('script tag');\n        </script>`,\n    }\n\n    await pasteContent(pasteData)\n    await delay(20)\n    assert.deepEqual(window.unsanitized, [])\n    delete window.unsanitized\n  })\n\n  test(\"paste unsafe html with noscript\", async () => {\n    window.unsanitized = []\n    const pasteData = {\n      \"text/plain\": \"x\",\n      \"text/html\": `\\\n        <div><noscript><div class=\"123</noscript>456<img src=1 onerror=window.unsanitized.push(1)//\"></div></noscript></div>\n      `\n    }\n\n    await pasteContent(pasteData)\n    await delay(20)\n    assert.deepEqual(window.unsanitized, [])\n    delete window.unsanitized\n  })\n\n  test(\"paste data-trix-attachment unsafe html\", async () => {\n    window.unsanitized = []\n    const pasteData = {\n      \"text/plain\": \"x\",\n      \"text/html\": `\\\n      copy<div data-trix-attachment=\"{&quot;contentType&quot;:&quot;text/anything&quot;,&quot;content&quot;:&quot;&lt;img src=1 onerror=window.unsanitized.push(1)&gt;HELLO123&quot;}\"></div>me\n      `,\n    }\n\n    await pasteContent(pasteData)\n    await delay(20)\n    assert.deepEqual(window.unsanitized, [])\n    delete window.unsanitized\n  })\n\n  test(\"paste data-trix-attachment unsafe html div overload\", async () => {\n    window.unsanitized = []\n    const pasteData = {\n      \"text/plain\": \"x\",\n      \"text/html\": `\\\n      <div data-trix-attachment=\"{&quot;contentType&quot;:&quot;text/html5&quot;,&quot;content&quot;:&quot;<div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><a><svg><desc><svg><image><a><desc><svg><image></image></svg></desc></a></image><style><a data-trix-caca='</style><img src=x onerror=window.unsanitized.push(1)>'></a></style></svg></desc></svg></a>&quot;}\"></div>\n      `,\n    }\n\n    await pasteContent(pasteData)\n    await delay(20)\n    assert.deepEqual(window.unsanitized, [])\n    delete window.unsanitized\n  })\n\n  test(\"paste data-trix-attachment encoded mathml\", async () => {\n    window.unsanitized = []\n    const pasteData = {\n      \"text/plain\": \"x\",\n      \"text/html\": `\\\n      copy<div data-trix-attachment=\"{&quot;contentType&quot;:&quot;text/html5&quot;,&quot;content&quot;:&quot;&lt;math&gt;&lt;mtext&gt;&lt;table&gt;&lt;mglyph&gt;&lt;style&gt;&lt;img src=x onerror=window.unsanitized.push(1)&gt;&lt;/style&gt;XSS POC&quot;}\"></div>me\n      `,\n    }\n\n    await pasteContent(pasteData)\n    await delay(20)\n    assert.deepEqual(window.unsanitized, [])\n    delete window.unsanitized\n  })\n\n  test(\"paste data-trix-attachment encoded embed\", async () => {\n    window.unsanitized = []\n    const pasteData = {\n      \"text/plain\": \"x\",\n      \"text/html\": `\\\n      copy<div data-trix-attachment=\"{&quot;contentType&quot;:&quot;text/html5&quot;,&quot;content&quot;:&quot;&lt;embed src='window.unsanitized.push(1)'&gt;XSS POC&quot;}\"></div>me\n      `,\n    }\n\n    await pasteContent(pasteData)\n    await delay(20)\n    assert.deepEqual(window.unsanitized, [])\n    delete window.unsanitized\n  })\n\n  test(\"prefers plain text when html lacks formatting\", async () => {\n    const pasteData = {\n      \"text/html\": \"<meta charset='utf-8'>a\\nb\",\n      \"text/plain\": \"a\\nb\",\n    }\n\n    await pasteContent(pasteData)\n    expectDocument(\"a\\nb\\n\")\n  })\n\n  test(\"prefers formatted html\", async () => {\n    const pasteData = {\n      \"text/html\": \"<meta charset='utf-8'>a\\n<strong>b</strong>\",\n      \"text/plain\": \"a\\nb\",\n    }\n\n    await pasteContent(pasteData)\n    expectDocument(\"a b\\n\")\n  })\n\n  test(\"paste URL\", async () => {\n    await typeCharacters(\"a\")\n    await pasteContent(\"URL\", \"http://example.com\")\n    assert.textAttributes([ 1, 18 ], { href: \"http://example.com\" })\n    expectDocument(\"ahttp://example.com\\n\")\n  })\n\n  test(\"paste URL with name\", async () => {\n    const pasteData = {\n      URL: \"http://example.com\",\n      \"public.url-name\": \"Example\",\n      \"text/plain\": \"http://example.com\",\n    }\n\n    await pasteContent(pasteData)\n    assert.textAttributes([ 0, 7 ], { href: \"http://example.com\" })\n    expectDocument(\"Example\\n\")\n  })\n\n  test(\"paste JavaScript URL\", async () => {\n    const pasteData = { URL: \"javascript:alert('XSS')\" }\n    await pasteContent(pasteData)\n    assert.textAttributes([ 0, 23 ], {})\n    expectDocument(\"javascript:alert('XSS')\\n\")\n  })\n\n  test(\"paste URL with name containing extraneous whitespace\", async () => {\n    const pasteData = {\n      URL: \"http://example.com\",\n      \"public.url-name\": \"   Example from \\n link  around\\n\\nnested \\nelements \",\n      \"text/plain\": \"http://example.com\",\n    }\n\n    await pasteContent(pasteData)\n    assert.textAttributes([ 0, 40 ], { href: \"http://example.com\" })\n    expectDocument(\"Example from link around nested elements\\n\")\n  })\n\n  test(\"paste complex html into formatted block\", async () => {\n    await typeCharacters(\"abc\")\n    await clickToolbarButton({ attribute: \"quote\" })\n    await pasteContent(\"text/html\", \"<div>Hello world<br></div><pre>This is a test</pre>\")\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 2)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [ \"quote\" ], assert.equal(block.toString(), \"abcHello world\\n\"))\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [ \"quote\", \"code\" ])\n    assert.equal(block.toString(), \"This is a test\\n\")\n  })\n\n  test(\"paste list into list\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"abc\\n\")\n    await pasteContent(\"text/html\", \"<ul><li>one</li><li>two</li></ul>\")\n\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 3)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [ \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"abc\\n\")\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [ \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"one\\n\")\n\n    block = document.getBlockAtIndex(2)\n    assert.deepEqual(block.getAttributes(), [ \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"two\\n\")\n  })\n\n  test(\"paste list into quote\", async () => {\n    await clickToolbarButton({ attribute: \"quote\" })\n    await typeCharacters(\"abc\")\n    await pasteContent(\"text/html\", \"<ul><li>one</li><li>two</li></ul>\")\n\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 3)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [ \"quote\" ])\n    assert.equal(block.toString(), \"abc\\n\")\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [ \"quote\", \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"one\\n\")\n\n    block = document.getBlockAtIndex(2)\n    assert.deepEqual(block.getAttributes(), [ \"quote\", \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"two\\n\")\n  })\n\n  test(\"paste list into quoted list\", async () => {\n    await clickToolbarButton({ attribute: \"quote\" })\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"abc\\n\")\n    await pasteContent(\"text/html\", \"<ul><li>one</li><li>two</li></ul>\")\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 3)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [ \"quote\", \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"abc\\n\")\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [ \"quote\", \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"one\\n\")\n\n    block = document.getBlockAtIndex(2)\n    assert.deepEqual(block.getAttributes(), [ \"quote\", \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"two\\n\")\n  })\n\n  test(\"paste nested list into empty list item\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"y\\nzz\")\n\n    getSelectionManager().setLocationRange({ index: 0, offset: 1 })\n\n    await nextFrame()\n\n    await pressKey(\"backspace\")\n    await pasteContent(\"text/html\", \"<ul><li>a<ul><li>b</li></ul></li></ul>\")\n\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 3)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [ \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"a\\n\")\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [ \"bulletList\", \"bullet\", \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"b\\n\")\n\n    block = document.getBlockAtIndex(2)\n    assert.deepEqual(block.getAttributes(), [ \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"zz\\n\")\n  })\n\n  test(\"paste nested list over list item contents\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"y\\nzz\")\n    getSelectionManager().setLocationRange({ index: 0, offset: 1 })\n    await nextFrame()\n    await expandSelection(\"left\")\n    await pasteContent(\"text/html\", \"<ul><li>a<ul><li>b</li></ul></li></ul>\")\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 3)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [ \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"a\\n\")\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [ \"bulletList\", \"bullet\", \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"b\\n\")\n\n    block = document.getBlockAtIndex(2)\n    assert.deepEqual(block.getAttributes(), [ \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"zz\\n\")\n  })\n\n  test(\"paste list into empty block before list\", async () => {\n    await clickToolbarButton({ attribute: \"bullet\" })\n    await typeCharacters(\"c\")\n    await moveCursor(\"left\")\n    await pressKey(\"return\")\n    getSelectionManager().setLocationRange({ index: 0, offset: 0 })\n\n    await nextFrame()\n    await pasteContent(\"text/html\", \"<ul><li>a</li><li>b</li></ul>\")\n    const document = getDocument()\n    assert.equal(document.getBlockCount(), 3)\n\n    let block = document.getBlockAtIndex(0)\n    assert.deepEqual(block.getAttributes(), [ \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"a\\n\")\n\n    block = document.getBlockAtIndex(1)\n    assert.deepEqual(block.getAttributes(), [ \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"b\\n\")\n\n    block = document.getBlockAtIndex(2)\n    assert.deepEqual(block.getAttributes(), [ \"bulletList\", \"bullet\" ])\n    assert.equal(block.toString(), \"c\\n\")\n  })\n\n  test(\"paste file\", async () => {\n    await typeCharacters(\"a\")\n    await pasteContent(\"Files\", createFile())\n    await expectDocument(`a${OBJECT_REPLACEMENT_CHARACTER}\\n`)\n  })\n\n  testIf(config.input.getLevel() === 0, \"paste event with no clipboardData\", async () => {\n    await typeCharacters(\"a\")\n    triggerEvent(document.activeElement, \"paste\")\n    document.activeElement.insertAdjacentHTML(\"beforeend\", \"<span>bc</span>\")\n    await nextFrame()\n    expectDocument(\"abc\\n\")\n  })\n})\n","import * as config from \"trix/config\"\nimport { makeElement } from \"trix/core/helpers\"\nimport Text from \"trix/models/text\"\n\nimport {\n  assert,\n  clickElement,\n  clickToolbarButton,\n  clickToolbarDialogButton,\n  collapseSelection,\n  expandSelection,\n  expectDocument,\n  fixtures,\n  insertString,\n  insertText,\n  isToolbarButtonActive,\n  isToolbarButtonDisabled,\n  isToolbarDialogActive,\n  moveCursor,\n  pressKey,\n  test,\n  testGroup,\n  testIf,\n  typeCharacters,\n  typeInToolbarDialog,\n  typeToolbarKeyCommand,\n} from \"test/test_helper\"\n\ntestGroup(\"Text formatting\", { template: \"editor_empty\" }, () => {\n  test(\"applying attributes to text\", async () => {\n    await typeCharacters(\"abc\")\n    await expandSelection(\"left\")\n    await clickToolbarButton({ attribute: \"bold\" })\n    assert.textAttributes([ 0, 2 ], {})\n    assert.textAttributes([ 2, 3 ], { bold: true })\n    assert.textAttributes([ 3, 4 ], { blockBreak: true })\n  })\n\n  test(\"applying a link to text\", async () => {\n    await typeCharacters(\"abc\")\n    await moveCursor(\"left\")\n    await expandSelection(\"left\")\n    await clickToolbarButton({ attribute: \"href\" })\n    assert.ok(isToolbarDialogActive({ attribute: \"href\" }))\n    await typeInToolbarDialog(\"http://example.com\", { attribute: \"href\" })\n    assert.textAttributes([ 0, 1 ], {})\n    assert.textAttributes([ 1, 2 ], { href: \"http://example.com\" })\n    assert.textAttributes([ 2, 3 ], {})\n  })\n\n  test(\"inserting a link\", async () => {\n    await typeCharacters(\"a\")\n    await clickToolbarButton({ attribute: \"href\" })\n    assert.ok(isToolbarDialogActive({ attribute: \"href\" }))\n    await typeInToolbarDialog(\"http://example.com\", { attribute: \"href\" })\n    assert.textAttributes([ 0, 1 ], {})\n    assert.textAttributes([ 1, 19 ], { href: \"http://example.com\" })\n    expectDocument(\"ahttp://example.com\\n\")\n  })\n\n  test(\"inserting a javascript: link is forbidden\", async () => {\n    await typeCharacters(\"XSS\")\n    await moveCursor(\"left\")\n    await expandSelection(\"left\")\n    await clickToolbarButton({ attribute: \"href\" })\n    assert.ok(isToolbarDialogActive({ attribute: \"href\" }))\n    await typeInToolbarDialog(\"javascript:alert('XSS')\", { attribute: \"href\" })\n    assert.textAttributes([ 0, 1 ], {})\n    assert.textAttributes([ 1, 2 ], { frozen: true })\n    assert.textAttributes([ 2, 3 ], {})\n  })\n\n  test(\"editing a link\", async () => {\n    insertString(\"a\")\n    const text = Text.textForStringWithAttributes(\"bc\", { href: \"http://example.com\" })\n    insertText(text)\n    insertString(\"d\")\n    await moveCursor({ direction: \"left\", times: 2 })\n    await clickToolbarButton({ attribute: \"href\" })\n    assert.ok(isToolbarDialogActive({ attribute: \"href\" }))\n    assert.locationRange({ index: 0, offset: 1 }, { index: 0, offset: 3 })\n    await typeInToolbarDialog(\"http://example.org\", { attribute: \"href\" })\n    assert.textAttributes([ 0, 1 ], {})\n    assert.textAttributes([ 1, 3 ], { href: \"http://example.org\" })\n    assert.textAttributes([ 3, 4 ], {})\n  })\n\n  test(\"removing a link\", async () => {\n    const text = Text.textForStringWithAttributes(\"ab\", { href: \"http://example.com\" })\n    insertText(text)\n    assert.textAttributes([ 0, 2 ], { href: \"http://example.com\" })\n    await expandSelection({ direction: \"left\", times: 2 })\n    await clickToolbarButton({ attribute: \"href\" })\n    await clickToolbarDialogButton({ method: \"removeAttribute\" })\n    await assert.textAttributes([ 0, 2 ], {})\n  })\n\n  test(\"selecting an attachment disables text formatting\", async () => {\n    const text = fixtures[\"file attachment\"].document.getBlockAtIndex(0).getTextWithoutBlockBreak()\n    insertText(text)\n    await typeCharacters(\"a\")\n    assert.notOk(isToolbarButtonDisabled({ attribute: \"bold\" }))\n    await expandSelection(\"left\")\n    assert.notOk(isToolbarButtonDisabled({ attribute: \"bold\" }))\n    await expandSelection(\"left\")\n    assert.ok(isToolbarButtonDisabled({ attribute: \"bold\" }))\n  })\n\n  test(\"selecting an attachment deactivates toolbar dialog\", async () => {\n    const text = fixtures[\"file attachment\"].document.getBlockAtIndex(0).getTextWithoutBlockBreak()\n    insertText(text)\n    await clickToolbarButton({ attribute: \"href\" })\n    assert.ok(isToolbarDialogActive({ attribute: \"href\" }))\n    await clickElement(getEditorElement().querySelector(\"figure\"))\n    assert.notOk(isToolbarDialogActive({ attribute: \"href\" }))\n    assert.ok(isToolbarButtonDisabled({ attribute: \"href\" }))\n  })\n\n  test(\"typing over a selected attachment does not apply disabled formatting attributes\", async () => {\n    const text = fixtures[\"file attachment\"].document.getBlockAtIndex(0).getTextWithoutBlockBreak()\n    insertText(text)\n    await expandSelection(\"left\")\n    assert.ok(isToolbarButtonDisabled({ attribute: \"bold\" }))\n    await typeCharacters(\"a\")\n    assert.textAttributes([ 0, 1 ], {})\n    expectDocument(\"a\\n\")\n  })\n\n  test(\"applying a link to an attachment with a host-provided href\", async () => {\n    const text = fixtures[\"file attachment\"].document.getBlockAtIndex(0).getTextWithoutBlockBreak()\n    insertText(text)\n    await typeCharacters(\"a\")\n    assert.notOk(isToolbarButtonDisabled({ attribute: \"href\" }))\n    await expandSelection(\"left\")\n    assert.notOk(isToolbarButtonDisabled({ attribute: \"href\" }))\n    await expandSelection(\"left\")\n    assert.ok(isToolbarButtonDisabled({ attribute: \"href\" }))\n  })\n\n  test(\"typing after a link\", async () => {\n    await typeCharacters(\"ab\")\n    await expandSelection({ direction: \"left\", times: 2 })\n    await clickToolbarButton({ attribute: \"href\" })\n    await typeInToolbarDialog(\"http://example.com\", { attribute: \"href\" })\n    await collapseSelection(\"right\")\n    assert.locationRange({ index: 0, offset: 2 })\n    await typeCharacters(\"c\")\n    assert.textAttributes([ 0, 2 ], { href: \"http://example.com\" })\n    assert.textAttributes([ 2, 3 ], {})\n    await moveCursor(\"left\")\n    assert.notOk(isToolbarButtonActive({ attribute: \"href\" }))\n    await moveCursor(\"left\")\n    assert.ok(isToolbarButtonActive({ attribute: \"href\" }))\n  })\n\n  test(\"applying formatting and then typing\", async () => {\n    await typeCharacters(\"a\")\n    await clickToolbarButton({ attribute: \"bold\" })\n    await typeCharacters(\"bcd\")\n    await clickToolbarButton({ attribute: \"bold\" })\n    await typeCharacters(\"e\")\n    assert.textAttributes([ 0, 1 ], {})\n    assert.textAttributes([ 1, 4 ], { bold: true })\n    assert.textAttributes([ 4, 5 ], {})\n  })\n\n  test(\"applying formatting and then moving the cursor away\", async () => {\n    await typeCharacters(\"abc\")\n    await moveCursor(\"left\")\n    assert.notOk(isToolbarButtonActive({ attribute: \"bold\" }))\n    await clickToolbarButton({ attribute: \"bold\" })\n    assert.ok(isToolbarButtonActive({ attribute: \"bold\" }))\n    await moveCursor(\"right\")\n    assert.notOk(isToolbarButtonActive({ attribute: \"bold\" }))\n    await moveCursor(\"left\")\n    assert.notOk(isToolbarButtonActive({ attribute: \"bold\" }))\n    assert.textAttributes([ 0, 3 ], {})\n    assert.textAttributes([ 3, 4 ], { blockBreak: true })\n  })\n\n  test(\"applying formatting to an unfocused editor\", async () => {\n    const input = makeElement(\"input\", { type: \"text\" })\n    document.body.appendChild(input)\n    input.focus()\n\n    await clickToolbarButton({ attribute: \"bold\" })\n    await typeCharacters(\"a\")\n    assert.textAttributes([ 0, 1 ], { bold: true })\n    document.body.removeChild(input)\n  })\n\n  test(\"editing formatted text\", async () => {\n    await clickToolbarButton({ attribute: \"bold\" })\n    await typeCharacters(\"ab\")\n    await clickToolbarButton({ attribute: \"bold\" })\n    await typeCharacters(\"c\")\n    assert.notOk(isToolbarButtonActive({ attribute: \"bold\" }))\n    await moveCursor(\"left\")\n    assert.ok(isToolbarButtonActive({ attribute: \"bold\" }))\n    await moveCursor(\"left\")\n    assert.ok(isToolbarButtonActive({ attribute: \"bold\" }))\n    await typeCharacters(\"Z\")\n    assert.ok(isToolbarButtonActive({ attribute: \"bold\" }))\n    assert.textAttributes([ 0, 3 ], { bold: true })\n    assert.textAttributes([ 3, 4 ], {})\n    assert.textAttributes([ 4, 5 ], { blockBreak: true })\n    await moveCursor(\"right\")\n    assert.ok(isToolbarButtonActive({ attribute: \"bold\" }))\n    await moveCursor(\"right\")\n    assert.notOk(isToolbarButtonActive({ attribute: \"bold\" }))\n  })\n\n  testIf(config.input.getLevel() === 0, \"key command activates toolbar button\", async () => {\n    await typeToolbarKeyCommand({ attribute: \"bold\" })\n    assert.ok(isToolbarButtonActive({ attribute: \"bold\" }))\n  })\n\n  test(\"backspacing newline after text\", async () => {\n    await typeCharacters(\"a\\n\")\n    await pressKey(\"backspace\")\n    expectDocument(\"a\\n\")\n  })\n})\n","import {\n  assert,\n  clickToolbarButton,\n  expandSelection,\n  moveCursor,\n  test,\n  testGroup,\n  typeCharacters,\n} from \"test/test_helper\"\n\ntestGroup(\"Undo/Redo\", { template: \"editor_empty\" }, async () => {\n  test(\"typing and undoing\", async () => {\n    const first = getDocument().copy()\n    await typeCharacters(\"abc\")\n    assert.notOk(getDocument().isEqualTo(first))\n    await clickToolbarButton({ action: \"undo\" })\n    assert.ok(getDocument().isEqualTo(first))\n  })\n\n  test(\"typing, formatting, typing, and undoing\", async () => {\n    const first = getDocument().copy()\n    await typeCharacters(\"abc\")\n    const second = getDocument().copy()\n    await clickToolbarButton({ attribute: \"bold\" })\n    await typeCharacters(\"def\")\n    const third = getDocument().copy()\n    await clickToolbarButton({ action: \"undo\" })\n    assert.ok(getDocument().isEqualTo(second))\n    await clickToolbarButton({ action: \"undo\" })\n    assert.ok(getDocument().isEqualTo(first))\n    await clickToolbarButton({ action: \"redo\" })\n    assert.ok(getDocument().isEqualTo(second))\n    await clickToolbarButton({ action: \"redo\" })\n    assert.ok(getDocument().isEqualTo(third))\n  })\n\n  test(\"formatting changes are batched by location range\", async () => {\n    await typeCharacters(\"abc\")\n    const first = getDocument().copy()\n    await expandSelection(\"left\")\n    await clickToolbarButton({ attribute: \"bold\" })\n    await clickToolbarButton({ attribute: \"italic\" })\n    const second = getDocument().copy()\n    await moveCursor(\"left\")\n    await expandSelection(\"left\")\n    await clickToolbarButton({ attribute: \"italic\" })\n    const third = getDocument().copy()\n    await clickToolbarButton({ action: \"undo\" })\n    assert.ok(getDocument().isEqualTo(second))\n    await clickToolbarButton({ action: \"undo\" })\n    assert.ok(getDocument().isEqualTo(first))\n    await clickToolbarButton({ action: \"redo\" })\n    assert.ok(getDocument().isEqualTo(second))\n    await clickToolbarButton({ action: \"redo\" })\n    assert.ok(getDocument().isEqualTo(third))\n  })\n\n  test(\"block formatting are undoable\", async () => {\n    await typeCharacters(\"abc\")\n    const first = getDocument().copy()\n    await clickToolbarButton({ attribute: \"heading1\" })\n    const second = getDocument().copy()\n    await clickToolbarButton({ action: \"undo\" })\n    assert.ok(getDocument().isEqualTo(first))\n    clickToolbarButton({ action: \"redo\" })\n    assert.ok(getDocument().isEqualTo(second))\n  })\n})\n","/* eslint-disable\n*/\nimport Trix from \"trix/trix\"\n\nimport \"trix/core/helpers/global\"\nimport \"test/test_helper\"\n\nimport \"test/unit\"\nimport \"test/system\"\n"],"names":["attachmentSelector","attachments","preview","presentation","caption","name","size","file","attributes","default","tagName","parse","quote","nestable","heading1","terminal","breakOnReturn","group","code","htmlAttributes","text","plaintext","bulletList","bullet","listAttribute","test","element","parentNode","numberList","number","attachmentGallery","exclusive","_element$tagName","toLowerCase","androidVersionMatch","navigator","userAgent","match","androidVersion","parseInt","composesExistingText","recentAndroid","samsungAndroid","forcesObjectResizing","supportsInputEvents","InputEvent","every","prop","prototype","attachment","attachmentCaption","attachmentCaptionEditor","attachmentMetadata","attachmentMetadataContainer","attachmentName","attachmentProgress","attachmentSize","attachmentToolbar","ADD_ATTR","SAFE_FOR_XML","RETURN_DOM","attachFiles","bold","bullets","byte","bytes","captionPlaceholder","indent","italic","link","numbers","outdent","redo","remove","strike","undo","unlink","url","urlPlaceholder","GB","KB","MB","PB","TB","sizes","lang","prefix","precision","formatter","concat","base","exp","Math","floor","log","humanSize","pow","string","toFixed","withoutInsignificantZeros","replace","ZERO_WIDTH_SPACE","NON_BREAKING_SPACE","OBJECT_REPLACEMENT_CHARACTER","extend","properties","key","value","html","document","documentElement","matches","handleEvent","eventName","onElement","matchingSelector","withCallback","inPhase","preventDefault","times","arguments","length","undefined","selector","useCapture","handler","event","destroy","target","findClosestElementFromNode","call","removeEventListener","addEventListener","handleEventOnce","options","createEvent","bubbles","cancelable","initEvent","triggerEvent","dispatchEvent","elementMatchesSelector","nodeType","node","untilNode","Node","ELEMENT_NODE","closest","findInnerElement","_element","firstElementChild","innerElementIsActive","activeElement","elementContainsNode","findNodeFromContainerAndOffset","container","offset","TEXT_NODE","firstChild","childNodes","item","findElementFromContainerAndOffset","findChildIndexOfNode","_node","childIndex","previousSibling","removeNode","_node$parentNode","removeChild","walkTree","tree","onlyNodesOfType","usingFilter","expandEntityReferences","whatToShow","NodeFilter","SHOW_ELEMENT","SHOW_TEXT","SHOW_COMMENT","SHOW_ALL","createTreeWalker","makeElement","tag","createElement","editable","contenteditable","setAttribute","style","data","dataset","className","split","forEach","classList","add","textContent","childNode","appendChild","blockTagNames","getBlockTagNames","blockAttributes","push","nodeIsBlockContainer","nodeIsBlockStartComment","nodeProbablyIsBlockContainer","includes","nodeIsBlockStart","strict","nodeIsCommentNode","COMMENT_NODE","nodeIsCursorTarget","nodeIsTextNode","trixCursorTarget","nodeIsAttachmentElement","nodeIsEmptyTextNode","input","level2Enabled","getLevel","browser","pickFiles","callback","type","multiple","hidden","id","fileInputId","files","getElementById","body","click","removeBlankTableCells","tableCellSeparator","tableRowSeparator","inheritable","parser","window","getComputedStyle","fontWeight","fontStyle","href","groupTagName","getAttribute","frozen","backgroundColor","getDefaultHTML","interval","BasicObject","proxyMethod","expression","toMethod","toProperty","optional","parseProxyMethodExpression","subject","object","_this$toMethod","_object","apply","proxyMethodExpressionPattern","Error","args","Function","RegExp","UTF16String","box","fromUCS2String","toString","ucs2String","ucs2decode","fromCodepoints","codepoints","ucs2encode","constructor","ucs2Length","offsetToUCS2Offset","slice","max","offsetFromUCS2Offset","ucs2Offset","charAt","isEqualTo","toJSON","getCacheKey","hasArrayFrom","_Array$from","Array","from","hasStringCodePointAt","_$codePointAt","_","codePointAt","hasStringFromCodePoint","_String$fromCodePoint","String","fromCodePoint","map","char","output","counter","charCodeAt","extra","array","characters","result","fromCharCode","join","TrixObject","fromJSONString","jsonString","fromJSON","JSON","hasSameConstructorAs","inspect","parts","contents","contentsForInspection","toJSONString","stringify","toUTF16String","arraysAreEqual","a","b","index","arrayStartsWith","spliceArray","_len","_key","splice","summarizeArrayChange","oldArray","newArray","added","removed","existingValues","Set","currentValues","has","RTL_PATTERN","getDirection","dir","dirName","textArea","form","supportsDirName","FormData","error","supportsDirSelector","get","trim","allAttributeNames","blockAttributeNames","textAttributeNames","listAttributeNames","getAllAttributeNames","getTextAttributeNames","getBlockAttributeNames","getBlockConfig","attributeName","config","Object","keys","getTextConfig","getListAttributeNames","installDefaultCSSForTagName","defaultCSS","styleElement","insertStyleElementForTagName","nonce","getCSPNonce","head","insertBefore","getMetaElement","content","querySelector","testTransferData","dataTransferIsPlainText","dataTransfer","getData","DOMParser","parseFromString","dataTransferIsMsOfficePaste","_ref","types","dataTransferIsWritable","setData","keyEventIsKeyboardCommand","platform","metaKey","ctrlKey","shouldRenderInmmediatelyToDealWithIOSDictation","inputEvent","inputType","defer","fn","setTimeout","copyObject","objectsAreEqual","normalizeRange","range","isArray","copyValue","rangeIsCollapsed","start","end","rangeValuesAreEqual","rangesAreEqual","leftRange","rightRange","leftStart","leftEnd","rightStart","rightEnd","left","right","SelectionChangeObserver","update","bind","selectionManagers","started","stop","registerSelectionManager","selectionManager","unregisterSelectionManager","filter","sm","notifySelectionManagersOfSelectionChange","selectionDidChange","reset","selectionChangeObserver","getDOMSelection","selection","getSelection","rangeCount","getDOMRange","_getDOMSelection","domRange","getRangeAt","domRangeIsPrivate","setDOMRange","removeAllRanges","addRange","nodeIsPrivate","startContainer","endContainer","getPrototypeOf","normalizeSpaces","normalizeNewlines","breakableWhitespacePattern","squishBreakableWhitespace","source","summarizeStringChange","oldString","newString","utf16StringDifferences","diffA","utf16StringDifference","utf16String","diffB","leftIndex","rightIndexA","rightIndexB","Hash","fromCommonAttributesOfObjects","objects","hash","getKeys","getKeysCommonToHash","values","copy","merge","unbox","toArray","isEmpty","toObject","keyToRemove","sortedKeys","sort","ObjectGroup","groupObjects","ungroupedObjects","depth","asTree","_object$canBeGrouped2","_object$canBeGrouped","_group$canBeGroupedWi","_group","canBeGrouped","canBeGroupedWith","getObjects","getDepth","ObjectMap","find","ElementStore","elements","getKey","trixStoreKey","Operation","isPerforming","performing","hasPerformed","performed","hasSucceeded","succeeded","hasFailed","getPromise","promise","Promise","resolve","reject","perform","release","_this$promise","_this$promise$cancel","cancel","ObjectView","childViews","rootView","getNodes","nodes","createNodes","cloneNode","invalidate","_this$parentView","parentView","invalidateViewForObject","_this$findViewForObje","findViewForObject","findOrCreateCachedChildView","viewClass","view","getCachedViewForObject","recordChildView","createChildView","cacheViewForObject","ObjectGroupView","getAllChildViews","views","childView","findElement","findElementForObject","getViewCache","isViewCachingEnabled","viewCache","shouldCacheViews","enableViewCaching","disableViewCaching","_this$getViewCache","cache","garbageCollectCachedViews","objectKeys","objectGroup","getChildViews","createContainerElement","entries","setPrototypeOf","isFrozen","getOwnPropertyDescriptor","freeze","seal","create","construct","Reflect","x","func","thisArg","Func","_len2","_key2","arrayForEach","unapply","arrayLastIndexOf","lastIndexOf","arrayPop","pop","arrayPush","arraySplice","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","indexOf","stringTrim","objectHasOwnProperty","hasOwnProperty","regExpTest","typeErrorCreate","unconstruct","TypeError","lastIndex","_len3","_key3","_len4","_key4","addToSet","set","transformCaseFunc","l","lcElement","cleanArray","isPropertyExist","clone","newObject","property","lookupGetter","desc","fallbackValue","DOMPurify","addHook","allowedAttributePattern","attrName","forceKeepAttr","DEFAULT_ALLOWED_ATTRIBUTES","DEFAULT_FORBIDDEN_PROTOCOLS","DEFAULT_FORBIDDEN_ELEMENTS","HTMLSanitizer","setHTML","sanitizedElement","sanitize","sanitizedHtml","getHTML","outerHTML","innerHTML","sanitizer","allowedAttributes","forbiddenProtocols","forbiddenElements","purifyOptions","createBodyElementForHTML","sanitizeElements","normalizeListElementNesting","purifyConfig","assign","setConfig","getBody","walker","nodesToRemove","nextNode","currentNode","elementIsRemovable","sanitizeElement","hasAttribute","protocol","removeAttribute","querySelectorAll","listElement","previousElement","previousElementSibling","elementIsForbidden","elementIsntSerializable","doc","implementation","createHTMLDocument","css","AttachmentView","uploadProgressDelegate","attachmentPiece","piece","createContentNodes","innerElement","figure","getClassName","getHref","tabindex","hasContent","getContent","createCaptionElement","isPending","progressElement","class","getUploadProgress","trixMutable","createCursorTarget","figcaption","getCaption","captionConfig","getCaptionConfig","getFilename","getFormattedFilesize","nameElement","createTextNode","sizeElement","names","getType","extension","getExtension","trixAttachment","trixContentType","getContentType","trixId","trixAttributes","trixSerialize","htmlContainsTagName","isValidAttribute","_config$attachments$t","findProgressElement","_this$findElement","attachmentDidChangeUploadProgress","div","PreviewableAttachmentView","previewDelegate","image","src","refresh","updateAttributesForImage","getURL","previewURL","getPreviewURL","serializedAttributes","width","getWidth","height","getHeight","alt","storeKey","attachmentDidChangeAttributes","PieceView","getAttributes","textConfig","context","createAttachmentNodes","createStringNodes","isPreviewable","_this$textConfig","iterable","substring","preserveSpaces","styles","pendingElement","styleProperty","isLast","isFirst","followsWhitespace","TextView","pieces","getPieces","endsWithWhitespace","previousPiece","BlockView","block","comment","createComment","_getBlockConfig","getLastAttribute","textView","shouldAddExtraNewlineElement","isRTL","getBlockBreakPosition","DocumentView","render","sync","elementStore","setDocument","shadowElement","getBlocks","isSynced","elementsHaveEqualHTML","documentFragment","lastChild","fragment","createDocumentFragmentForSync","didSync","findStoredElements","createDocumentFragment","storedElement","replaceChild","otherElement","ignoreSpaces","Piece","registerType","pieceJSON","copyWithAttributes","getValue","copyWithAdditionalAttributes","copyWithoutAttribute","attribute","getAttributesHash","hasSameStringValueAsPiece","hasSameAttributesAsPiece","isBlockBreak","isSerializable","getLength","canBeConsolidatedWith","_defineProperty","ImagePreloadOperation","Image","onload","naturalWidth","naturalHeight","onerror","Attachment","attachmentForFile","attributesForFile","setFile","filename","filesize","contentType","attachmentJSON","releaseFile","didChangeAttributes","setAttributes","newAttributes","_this$previewDelegate","_this$previewDelegate2","_this$delegate","_this$delegate$attach","delegate","preloadURL","previewablePattern","getFilesize","_this$getFilename$mat","getFile","preloadFile","releasePreloadedFile","uploadProgress","setUploadProgress","_this$uploadProgressD","_this$uploadProgressD2","preloadingURL","setPreviewURL","_this$previewDelegate3","_this$previewDelegate4","_this$delegate2","_this$delegate2$attac","attachmentDidChangePreviewURL","preload","fileObjectURL","URL","createObjectURL","revokeObjectURL","operation","then","catch","AttachmentPiece","ensureAttachmentExclusivelyHasAttribute","removeProhibitedAttributes","permittedAttributes","_piece$attachment","json","toConsole","StringPiece","consolidateWith","splitAtOffset","SplittableList","eachObject","insertObjectAtIndex","insertSplittableListAtIndex","splittableList","insertSplittableListAtPosition","position","splitObjectAtPosition","editObjectAtIndex","replaceObjectAtIndex","removeObjectAtIndex","getObjectAtIndex","getSplittableListInRange","rightIndex","splitObjectsAtRange","selectSplittableList","removeObjectsInRange","transformObjectsInRange","transform","transformedObjects","rightOuterIndex","leftInnerIndex","startOfRange","endOfRange","getObjectAtPosition","findIndexAndOffsetAtPosition","splitIndex","splitOffset","leftObject","rightObject","consolidate","pendingObject","_pendingObject$canBeC","_pendingObject","consolidateFromIndexToIndex","startIndex","endIndex","objectsInRange","consolidatedInRange","currentPosition","nextPosition","findPositionAtIndexAndOffset","currentIndex","getEndPosition","endPosition","objectArraysAreEqual","Text","textForAttachmentWithAttributes","textForStringWithAttributes","textJSON","notEmpty","pieceList","copyWithPieceList","copyUsingObjectMap","objectMap","appendText","insertTextAtPosition","removeTextAtRange","replaceTextAtRange","moveTextFromRangeToPosition","getTextAtRange","addAttributeAtRange","addAttributesAtRange","removeAttributeAtRange","setAttributesAtRange","getAttributesAtPosition","_this$pieceList$getOb","getCommonAttributes","getCommonAttributesAtRange","getExpandedRangeForAttributeAtOffset","getStringAtRange","getStringAtPosition","startsWithString","endsWithString","getAttachmentPieces","getAttachments","getAttachmentAndPositionById","attachmentId","getAttachmentById","getRangeOfAttachment","attachmentAndPosition","updateAttributesForAttachment","_text$pieceList","eachPiece","getPieceAtPosition","toSerializableText","Block","blockJSON","applyBlockBreakToText","copyWithText","copyWithoutText","copyWithoutAttributes","mappedText","addAttribute","expandAttribute","addHTMLAttribute","removeLastValue","removeLastAttribute","getLastElement","getAttributeLevel","getAttributeAtLevel","level","hasAttributes","getLastNestableAttribute","getNestableAttributes","getNestingLevel","decreaseNestingLevel","increaseNestingLevel","getListItemAttributes","isListItem","isTerminalBlock","_getBlockConfig2","breaksOnReturn","_getBlockConfig3","findLineBreakInDirectionFromPosition","direction","newlineText","getTextWithoutBlockBreak","textEndsInBlockBreak","otherBlock","otherAttributes","otherAttribute","unmarkExistingInnerBlockBreaksInText","addBlockBreakToText","modified","innerPieces","lastPiece","unmarkBlockBreakPiece","blockBreakText","blockBreak","endText","Document","documentJSON","blocks","fromString","textAttributes","blockList","getBlockAtIndex","consolidateBlocks","copyUsingObjectsFromDocument","sourceDocument","mappedBlock","copyWithBaseBlockAttributes","replaceBlock","oldBlock","newBlock","insertDocumentAtRange","locationFromPosition","getBlockAtPosition","mergeDocumentAtRange","formattedDocument","startPosition","startLocation","baseBlockAttributes","getBaseBlockAttributes","trailingBlockAttributes","leadingBlockAttributes","blockCount","getBlockCount","firstBlock","firstText","insertTextAtRange","leftPosition","rightPosition","leftLocation","rightLocation","locationRangeFromRange","leftOffset","leftBlock","rightOffset","rightBlock","removeRightNewline","leftText","rightText","removingLeftBlock","useRightBlock","affectedBlockCount","getDocumentAtRange","movingRightward","eachBlockAtRange","textRange","eachBlock","getTextAtIndex","removeAttributeForAttachment","setHTMLAttributeAtPosition","updatedBlock","insertBlockBreakAtRange","applyBlockAttributeAtRange","expanded","expandRangeToLineBreaksAndSplitBlocks","blockConfig","removeLastListAttributeAtRange","exceptAttributeName","converted","convertLineBreaksToBlockBreaksInRange","removeBlockAttributesAtRange","removeLastTerminalAttributeAtRange","consolidateBlocksAtRange","lastAttributeName","endLocation","startBlock","positionFromLocation","endBlock","_this$getBlockAtIndex","getTextAtPosition","getCharacterAtPosition","getEditCount","editCount","getCommonAttributesAtPosition","attributesForBlock","commonAttributes","attributesLeft","inheritableAttributes","getRangeOfCommonAttributeAtPosition","startOffset","endOffset","blockIndex","lastAttributeIndex","min","attachmentPieces","getLocationRangeOfAttachment","getAttachmentPieceForAttachment","findRangesForBlockAttribute","ranges","findRangesForTextAttribute","withValue","location","locationRangeFromPosition","rangeFromLocationRange","locationRange","getTexts","toSerializableDocument","pieceForString","pieceForAttachment","blockForAttributes","parseTrixDataAttribute","getImageDimensions","dimensions","HTMLParser","referenceElement","blockElements","processedElements","getDocument","createHiddenContainer","containerElement","nodeFilter","processNode","translateBlockElementMarginsToNewlines","removeHiddenContainer","display","nextSibling","isInsignificantTextNode","appendBlockForTextNode","processTextNode","appendBlockForElement","processElement","currentBlockElement","isBlockElement","appendStringWithAttributes","_this$currentBlock","getBlockAttributes","getBlockHTMLAttributes","currentBlock","appendBlockForAttributesWithElement","elementIsBlockElement","currentBlockContainsElement","parentBlockElement","findParentBlockElement","appendEmptyBlock","parentElement","elementCanDisplayPreformattedText","_node$previousSibling","stringEndsWithWhitespace","leftTrimBreakableWhitespace","getTextAttributes","appendAttachmentWithAttributes","isExtraBR","needsTableSeparator","appendPiece","appendStringToTextAtIndex","prependStringToTextAtIndex","unshift","configAttr","attributeInheritedFromBlock","blockElement","findBlockElementAncestors","attrConfig","_attrConfig$test","reverse","settings","ancestors","stringIsAllBreakableWhitespace","nodeEndsWithNonWhitespace","_element$previousSibl","defaultMargin","getMarginOfDefaultBlockElement","margin","getMarginOfBlockElementAtIndex","top","bottom","getBlockElementMargin","whiteSpace","marginTop","marginBottom","FILTER_REJECT","FILTER_ACCEPT","unserializableElementSelector","unserializableAttributeNames","serializedAttributesAttribute","serializedAttributesSelector","blockCommentPattern","serializers","serializable","HTMLElement","el","deserializers","serializeToContentType","serializer","deserializeFromContentType","deserializer","ManagedAttachment","attachmentManager","requestRemovalOfAttachment","AttachmentManager","managedAttachments","manageAttachment","attachmentIsManaged","attachmentManagerDidRequestRemovalOfAttachment","unmanageAttachment","managedAttachment","LineBreakInsertion","composition","selectedRange","getSelectedRange","previousCharacter","nextCharacter","shouldInsertBlockBreak","shouldBreakFormattedBlock","shouldDecreaseListLevel","shouldPrependListItem","shouldRemoveLastBlockAttribute","PLACEHOLDER","Composition","currentAttributes","revision","_this$delegate$compos","refreshAttachments","compositionDidChangeDocument","getSnapshot","loadSnapshot","_this$delegate2$compo","_this$delegate3","_this$delegate3$compo","compositionWillLoadSnapshot","setSelection","compositionDidLoadSnapshot","insertText","updatePosition","notifyDelegateOfInsertionAtRange","insertBlock","insertDocument","insertString","getCurrentTextAttributes","insertBlockBreak","insertLineBreak","insertion","decreaseListLevel","removeLastBlockAttribute","breakFormattedBlock","insertHTML","replaceHTML","getLocationRange","insertFile","insertFiles","_this$delegate4","compositionShouldAcceptFile","insertAttachments","insertAttachment","attachmentText","shouldManageDeletingInDirection","shouldManageMovingCursorInDirection","deleteInDirection","deletingIntoPreviousBlock","selectionSpansBlocks","selectionIsCollapsed","canDecreaseBlockAttributeLevel","getBlock","decreaseBlockAttributeLevel","getExpandedRangeInDirection","getAttachmentAtRange","editAttachment","moveTextFromRange","removeAttachment","stopEditingAttachment","removeCurrentAttribute","insertPlaceholder","placeholderPosition","getPosition","selectPlaceholder","setSelectedRange","forgetPlaceholder","hasCurrentAttribute","toggleCurrentAttribute","setCurrentAttribute","canSetCurrentAttribute","canSetCurrentBlockAttribute","canSetCurrentTextAttribute","getSelectedDocument","setBlockAttribute","setTextAttribute","notifyDelegateOfCurrentAttributesChange","setHTMLAtributeAtPosition","allowedHTMLAttributes","newDocument","removeBlockAttribute","updateCurrentAttributes","removeTextAttribute","canDecreaseNestingLevel","_this$getBlock","canIncreaseNestingLevel","previousBlock","getPreviousBlock","_this$getBlock2","_this$getBlock3","attributeLevel","ignoreLock","getCurrentAttributes","freezeSelection","thawSelection","hasFrozenSelection","_this$delegate5","compositionDidRequestChangingSelectionToLocationRange","getSelectionManager","setLocationRange","targetLocationRange","withTargetLocationRange","withTargetRange","withTargetDOMRange","createLocationRangeFromDOMRange","translateUTF16PositionFromOffset","editingAttachment","moveCursorInDirection","canEditAttachment","expandSelectionInDirection","expandSelectionForEditing","expandSelectionAroundCommonAttribute","selectionContainsAttachments","_this$getSelectedAtta","getSelectedAttachments","selectionIsInCursorTarget","positionIsCursorTarget","locationIsCursorTarget","positionIsBlockBreak","_this$document$getPie","_this$getSelectedDocu","_this$delegate6","_this$delegate6$compo","compositionDidRemoveAttachment","_this$delegate7","_this$delegate7$compo","compositionDidAddAttachment","_this$delegate8","_this$delegate8$compo","compositionDidEditAttachment","_this$delegate9","_this$delegate9$compo","compositionDidChangeAttachmentPreviewURL","_this$delegate10","_this$delegate10$comp","compositionDidStartEditingAttachment","_this$delegate11","_this$delegate11$comp","compositionDidStopEditingAttachment","_this$delegate12","_this$delegate12$comp","compositionDidChangeCurrentAttributes","_this$delegate13","_this$delegate13$comp","compositionDidPerformInsertionAtRange","utf16string","utf16position","UndoManager","undoEntries","redoEntries","recordUndoEntry","description","consolidatable","previousEntry","entryHasDescriptionAndContext","undoEntry","createEntry","redoEntry","snapshot","canUndo","canRedo","entry","BLOCK_ATTRIBUTE_NAME","TEXT_ATTRIBUTE_NAME","TEXT_ATTRIBUTE_VALUE","Filter","applyBlockAttribute","findRangesOfBlocks","findRangesOfPieces","moveSelectedRangeForward","attachmentGalleryFilter","DEFAULT_FILTERS","Editor","undoManager","filters","loadDocument","loadHTML","loadJSON","getClientRectAtPosition","getClientRectAtLocationRange","activateAttribute","attributeIsActive","canActivateAttribute","deactivateAttribute","LocationMapper","findLocationFromContainerAndOffset","foundBlock","attachmentElement","findAttachmentElementParentForNode","rejectAttachmentContents","nodeLength","findContainerAndOffsetFromLocation","nodeOffset","findNodeAndOffsetFromLocation","getSignificantNodesForIndex","acceptSignificantNodes","recordingNodes","rejectEmptyTextNodes","PointMapper","createDOMRangeFromPoint","y","caretPositionFromPoint","offsetNode","createRange","setStart","caretRangeFromPoint","createTextRange","originalDOMRange","moveToPoint","select","getClientRectsForDOMRange","getClientRects","SelectionManager","didMouseDown","locationMapper","pointMapper","lockCount","currentLocationRange","lockedLocationRange","createDOMRangeFromLocationRange","updateCurrentLocationRange","setLocationRangeFromPointRange","pointRange","getLocationAtPoint","lock","unlock","clearSelection","_getDOMRange","collapsed","selectionIsExpanded","domRangeWithinElement","pauseTemporarily","resumeHandlers","paused","resume","clearTimeout","resumeTimeout","_this$delegate$locati","locationRangeDidChange","rangeStart","rangeEnd","setEnd","point","_this$createLocationR","keyNames","undoable","commands","do","undos","AttachmentEditorController","title","trixAction","didClickToolbar","didClickActionButton","toolbar","textarea","placeholder","textareaClone","tabIndex","autoresize","scrollHeight","didInputCaption","didKeyDownCaption","didChangeCaption","didBlurCaption","editingFigcaption","editCaption","focus","install","makeElementMutable","addToolbar","installCaptionEditor","uninstall","savePendingCaption","didUninstallAttachmentEditor","pendingCaption","attachmentEditorDidRequestUpdatingAttributesForAttachment","_this$delegate3$attac","attachmentEditorDidRequestRemovingAttributeForAttachment","stopPropagation","action","attachmentEditorDidRequestRemovalOfAttachment","keyCode","_this$delegate5$attac","attachmentEditorDidRequestDeselectingAttachment","CompositionController","didFocus","didBlur","didClickAttachment","documentView","_this$blurPromise","focused","compositionControllerDidFocus","blurPromise","compositionControllerDidBlur","findAttachmentForElement","compositionControllerDidSelectAttachment","getSerializableElement","isEditingAttachment","canSyncDocumentView","_this$delegate4$compo","_this$delegate5$compo","compositionControllerWillSyncDocumentView","compositionControllerDidSyncDocumentView","compositionControllerDidRender","rerenderViewForObject","refreshViewCache","attachmentEditor","installAttachmentEditorForAttachment","_this$attachmentEdito","uninstallAttachmentEditor","_this$attachmentEdito2","compositionControllerWillUpdateAttachment","compositionControllerDidRequestRemovalOfAttachment","compositionControllerDidRequestDeselectingAttachment","Controller","mutableAttributeName","mutableSelector","childList","characterData","characterDataOldValue","subtree","MutationObserver","didMutate","observer","observe","disconnect","mutations","findSignificantMutations","_this$delegate$elemen","elementDidMutate","getMutationSummary","mutation","mutationIsSignificant","nodeIsMutable","nodesModifiedByMutation","nodeIsSignificant","addedNodes","removedNodes","getTextMutationSummary","additions","deletions","getTextChangesFromCharacterData","textChanges","getTextChangesFromChildList","addition","summary","textAdded","deleted","textDeleted","getMutationsByType","textRemoved","singleBlockCommentRemoved","getTextForNodes","characterMutations","startMutation","endMutation","oldValue","summarized","FileVerificationOperation","reader","FileReader","abort","readAsArrayBuffer","FlakyAndroidKeyboardDetector","shouldIgnore","previousEvent","checkSamsungKeyboardBuggyModeStart","checkSamsungKeyboardBuggyModeEnd","buggyMode","insertingLongTextAfterUnidentifiedChar","differsInWhitespace","innerText","_this$event$data","isBeforeInputInsertText","previousEventWasUnidentifiedKeydown","_this$previousEvent","_this$previousEvent2","text1","text2","normalize","whiteSpaceNormalizerRegexp","InputController","mutationObserver","flakyKeyboardDetector","events","handlerFor","mutationSummary","editorWillSyncDocumentView","editorDidSyncDocumentView","requestRender","_this$delegate$inputC","inputControllerDidRequestRender","requestReparse","_this$delegate2$input","inputControllerDidRequestReparse","operations","all","handleInput","_this$responder","inputControllerWillAttachFiles","responder","defaultPrevented","inputControllerWillHandleInput","inputControllerDidHandleInput","createLinkHTML","pastedFileCount","Level0InputController","resetInputSummary","setInputSummary","inputSummary","isComposing","inputControllerDidAllowUnhandledInput","mutationIsExpected","preferDocument","mutationAdditionMatchesSummary","mutationDeletionMatchesSummary","didDelete","unexpectedNewlineAddition","unexpectedNewlineDeletion","singleUnexpectedNewline","_this$compositionInpu","textChanged","composedEmptyString","compositionInput","getEndData","getCompositionInput","CompositionInput","isEnded","_this$responder2","serializeSelectionToDataTransfer","_this$responder3","canAcceptDataTransfer","Files","getPastedHTMLUsingHiddenElement","pageXOffset","pageYOffset","opacity","requestAnimationFrame","keydown","didInput","keyName","_context2","modifier","_context","character","inputControllerDidReceiveKeyboardCommand","keypress","altKey","stringFromKeyEvent","_this$responder9","inputControllerWillPerformTyping","textInput","toUpperCase","_this$responder10","dragenter","dragstart","_this$delegate5$input","draggedRange","inputControllerDidStartDrag","dragover","draggingPoint","clientX","clientY","_this$delegate6$input","inputControllerDidReceiveDragOverPoint","dragend","_this$delegate7$input","inputControllerDidCancelDrag","drop","_event$dataTransfer","_this$responder11","_this$responder12","inputControllerWillMoveText","_this$responder13","cut","_this$responder14","clipboardData","inputControllerWillCutText","_this$responder15","paste","clipboard","testClipboardData","pasteEventIsCrippledSafariHTMLPaste","_this$responder16","inputControllerWillPaste","inputControllerDidPaste","_this$responder17","_this$delegate14","_this$responder18","_this$delegate15","_this$delegate16","_this$responder19","_this$delegate17","_clipboard$items","_clipboard$items$getA","items","getAsFile","_this$delegate18","_this$responder20","_this$delegate19","extensionForFile","compositionstart","compositionupdate","compositionend","beforeinput","backspace","_this$delegate20","delete","_this$delegate21","return","_this$delegate22","_this$responder21","tab","_this$responder22","_this$responder23","_this$responder24","_this$responder25","control","d","_this$delegate23","h","_this$delegate24","o","_this$delegate25","_this$responder26","shift","_this$delegate26","_this$responder27","_this$responder28","_this$responder29","_this$delegate27","meta","_this$delegate28","_file$type","which","charCode","hasPasteboardFlavor","hasReadableDynamicData","mightBePasteAndMatchStyle","isExternalHTMLPaste","isExternalRichTextPaste","inputController","isSignificant","_this$responder5","_this$responder4","canApplyToDocument","_this$responder6","_this$responder7","_this$responder8","_this$data$start","_this$data$end","Level2InputController","scheduledRender","composing","reparse","scheduleRender","_this$afterRender","cancelAnimationFrame","afterRender","toggleAttributeIfSupported","inputControllerWillPerformFormatting","activateAttributeIfSupported","getTargetDOMRange","minLength","_this$event$getTarget","_this$event","targetRanges","getTargetRanges","staticRangeToRange","withEvent","command","keyboardCommandFromKeyEvent","shiftKey","_event$clipboardData","pasteEventHasFilesOnly","pasteEventHasPlainTextOnly","inputTypes","immmediateRender","dragging","pointFromEvent","dragEventHasFiles","ArrowLeft","ArrowRight","Backspace","Tab","Tab+Shift","deleteByComposition","deleteByCut","deleteByDrag","deleteByDragRange","deleteCompositionText","deleteContent","deleteContentBackward","deleteContentForward","deleteEntireSoftLine","deleteHardLineBackward","deleteHardLineForward","deleteSoftLineBackward","deleteSoftLineForward","deleteWordBackward","deleteWordForward","formatBackColor","formatBold","formatFontColor","formatFontName","formatIndent","formatItalic","formatJustifyCenter","formatJustifyFull","formatJustifyLeft","formatJustifyRight","formatOutdent","formatRemove","_this$responder30","formatSetBlockTextDirection","formatSetInlineTextDirection","formatStrikeThrough","formatSubscript","formatSuperscript","formatUnderline","historyRedo","inputControllerWillPerformRedo","historyUndo","inputControllerWillPerformUndo","insertCompositionText","insertFromComposition","insertFromDrop","_this$responder31","insertFromPaste","_this$responder32","_this$responder33","processableFilePaste","_this$responder34","_this$responder35","insertFromYank","insertLink","insertOrderedList","insertParagraph","_this$responder36","insertReplacementText","replacement","_this$event$dataTrans","insertTranspose","insertUnorderedList","staticRange","_event$dataTransfer$f","fileTypes","attributeButtonSelector","actionButtonSelector","toolbarButtonSelector","dialogSelector","activeDialogSelector","dialogButtonSelector","dialogInputSelector","getInputForDialog","getAttributeName","getActionName","getDialogName","ToolbarController","didClickAttributeButton","didClickDialogButton","didKeyDownDialogInput","actions","resetDialogInputs","toolbarDidClickButton","actionName","getDialog","toggleDialog","toolbarDidInvokeAction","toolbarDidToggleAttribute","refreshAttributeButtons","dialogElement","method","dialog","hideDialog","updateActions","refreshActionButtons","eachActionButton","disabled","updateAttributes","eachAttributeButton","dialogIsVisible","applyKeyboardCommand","keyString","button","buttonKeys","buttonKeyString","dialogName","showDialog","toolbarWillShowDialog","disabledInput","toolbarDidShowDialog","willValidate","setCustomValidity","checkValidity","isSafeAttribute","toolbarDidUpdateAttribute","toolbarDidRemoveAttribute","toolbarDidHideDialog","snapshotsAreEqual","EditorController","editorElement","compositionController","toolbarController","toolbarElement","editor","notifyEditorElement","handlingInput","updateCurrentActions","pasting","pastedRange","attachmentLocationRange","loadingSnapshot","isFocused","requestedLocationRange","compositionRevisionWhenLocationRangeRequested","renderedCompositionRevision","runEditorFilters","isFocusedInvisibly","requestedRender","recordTypingUndoEntry","recordFormattingUndoEntry","locationRangeBeforeDrag","invokingElement","invokeAction","selectionFrozen","canInvokeAction","actionIsExternal","_this$actions$actionN","_this$actions$actionN2","getCurrentActions","currentActions","updateInputElement","setFormValue","message","documentChangedSinceLastRender","notify","getUndoContext","getLocationContext","getTimeContext","Date","getTime","_this$editorElement$o","ownerDocument","TrixToolbarElement","connectedCallback","editorElements","_this$ownerDocument","nodeList","autofocus","makeEditable","toggleAttribute","configureContentEditable","disableObjectResizing","setDefaultParagraphSeparator","_document$queryComman","_document","queryCommandSupported","execCommand","_document$queryComman2","_document2","addAccessibilityRole","ensureAriaLabel","texts","labels","label","contains","cursorTargetStyles","_internals","WeakMap","_formDisabled","_validate","WeakSet","ElementInternalsDelegate","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","writable","_classPrivateFieldSet","attachInternals","_classPrivateMethodGet","_validate2","disconnectedCallback","_classPrivateFieldGet","required","validity","validationMessage","formDisabledCallback","reportValidity","customValidationMessage","valueMissing","customError","setValidity","_focusHandler","_resetBubbled","_clickBubbled","LegacyDelegate","_classPrivateFieldGet2","console","warn","_delegate","TrixEditorElement","willCreateInput","formAssociated","inputElement","localName","toolbarId","internalToolbar","_this$ownerDocument2","_this$editorControlle","editorController","defaultValue","_this$editor","attributeChangedCallback","newValue","isConnected","reconnect","inputId","nextElementSibling","_this$editorControlle2","removeInternalToolbar","_this$internalToolbar","formResetCallback","Trix","VERSION","version","core","models","controllers","observers","customElements","define","this","getEditorElement","getToolbarElement","getEditorController","getEditor","getComposition","assert","QUnit","expectedLocationRange","actualLocationRange","deepEqual","expectedRange","actualRange","textIndex","documentHTMLEqual","trixDocument","equal","expectDocument","expectedDocumentValue","TEST_IMAGE_URL","fixtureTemplates","editorDefaultAriaLabel","editorEmpty","editorHtml","editorInTable","editorWithBlockStyles","editorWithBoldStyles","editorWithImage","editorWithLabels","editorWithStyledContent","editorWithToolbarAndInput","editorsWithForms","createDocument","part","cursorTargetLeft","cursorTargetRight","blockComment","removeWhitespace","fixtures","serializedHTML","attrs","serializedFigure","stringText","textAttrs","progress","eachFixture","details","setFixtureHTML","insertAdjacentElement","waitForTrixInit","testGroup","beforeSetup","setup","teardown","afterTeardown","template","before","beforeEach","afterEach","_teardown","after","module","hooks","skipIf","condition","testIf","skip","once","TestCompositionDelegate","TestSelectionManager","preserveSelection","setLocationRangeFromPoint","delay","nextFrame","nextIdle","requestIdleCallback","ms","factory","root","amd","exports","rangy","OBJECT","FUNCTION","UNDEFINED","domRangeProperties","domRangeMethods","textRangeProperties","textRangeMethods","isHostMethod","p","t","isHostObject","isHostProperty","createMultiplePropertyTest","testFunc","props","i","areHostMethods","areHostObjects","areHostProperties","isTextRange","getElementsByTagName","arr","len","modules","isBrowser","util","api","initialized","supported","features","alertOnFail","alertOnWarn","preferTextRange","autoInitialize","rangyAutoInitialize","consoleLog","msg","alertOrLog","shouldAlert","alert","fail","reason","obj","deep","createOptions","optionsParam","defaults","arrayLike","e","addListener","eventType","listener","attachEvent","initListeners","getErrorDesc","ex","init","testRange","implementsDomRange","implementsTextRange","nodeName","errorMessage","moduleName","Module","deprecationNotice","deprecated","createAliasForDeprecatedMethod","owner","addInitListener","shimListeners","addShimListener","shim","win","createMissingNativeApi","dependencies","initializer","requiredModuleNames","requiredModule","createError","createModule","initFunc","newModule","stack","createCoreModule","RangePrototype","rangePrototype","SelectionPrototype","selectionPrototype","UNDEF","textNode","arrayContains","val","isHtmlNamespace","ns","namespaceURI","parent","getNodeIndex","getNodeLength","getCommonAncestor","node1","node2","n","isAncestorOf","ancestor","descendant","selfIsAncestor","isOrIsAncestorOf","getClosestAncestorIn","isCharacterDataNode","isTextOrCommentNode","insertAfter","precedingNode","splitDataNode","positionsToPreserve","newNode","deleteData","getWindow","defaultView","parentWindow","getIframeDocument","iframeEl","contentDocument","contentWindow","getIframeWindow","isWindow","getContentDocument","methodName","getRootContainer","comparePoints","nodeA","offsetA","nodeB","offsetB","nodeC","childA","childB","crashyTextNodes","isBrokenNode","inspectNode","idAttr","fragmentFromNodeChildren","child","getComputedStyleProperty","propName","currentStyle","createTestElement","contentEditable","bodyFirstChild","NodeIterator","_next","_current","hasNext","next","detach","createIterator","DomPosition","equals","pos","DOMException","codeName","INDEX_SIZE_ERR","HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INVALID_STATE_ERR","INVALID_NODE_TYPE_ERR","dom","isNonTextPartiallySelected","getRangeDocument","getRangeRoot","getBoundaryBeforeNode","getBoundaryAfterNode","insertNodeAtPosition","firstNodeInserted","rangesIntersect","rangeA","rangeB","touchingIsIntersecting","assertRangeValid","startComparison","endComparison","cloneSubtree","iterator","partiallySelected","frag","subIterator","isPartiallySelectedSubtree","getSubtreeIterator","iterateSubtree","rangeIterator","iteratorState","it","subRangeIterator","deleteSubtree","extractSubtree","getNodesInRange","nodeTypes","filterNodeTypes","regex","filterExists","RangeIterator","sc","ec","getName","clonePartiallySelectedTextNodes","so","eo","commonAncestorContainer","isSingleCharacterDataNode","_first","_last","current","subRange","cloneRange","collapse","Range","updateBoundaries","beforeAfterNodeTypes","rootContainerNodeTypes","readonlyNodeTypes","insertableNodeTypes","surroundNodeTypes","createAncestorFinder","getDocumentOrFragmentContainer","getReadonlyAncestor","getDocTypeNotationEntityAncestor","getElementAncestor","assertNoDocTypeNotationEntityAncestor","allowSelf","assertValidNodeType","invalidTypes","assertValidOffset","assertSameDocumentOrFragment","assertNodeNotReadOnly","assertNode","isValidOffset","isRangeValid","styleEl","htmlParsingConforms","createContextualFragment","fragmentStr","splitRangeBoundaries","startEndSame","setStartAndEnd","rangeToHtml","cloneContents","rangeProperties","s2s","s2e","e2e","e2s","n_b","n_a","n_b_a","n_i","compareBoundaryPoints","how","prefixA","prefixB","insertNode","setStartBefore","canSurroundContents","boundariesInvalid","surroundContents","extractContents","hasChildNodes","selectNode","textParts","compareNode","nodeIndex","comparePoint","toHtml","intersectsNode","isPointInRange","intersectsRange","intersectsOrTouchesRange","intersection","intersectionRange","union","unionRange","containsNode","allowPartial","containsNodeContents","containsRange","containsNodeText","nodeRange","textNodes","lastTextNode","collapseBefore","setEndBefore","collapseAfter","setStartAfter","getBookmark","containerNode","preSelectionRange","selectNodeContents","moveToBookmark","bookmark","charIndex","nodeStack","foundStart","nextCharIndex","rangesEqual","isValid","copyComparisonConstantsToObject","START_TO_START","START_TO_END","END_TO_END","END_TO_START","NODE_BEFORE","NODE_AFTER","NODE_BEFORE_AND_AFTER","NODE_INSIDE","copyComparisonConstants","createRangeContentRemover","remover","boundaryUpdater","boundary","returnValue","createPrototypeRange","createBeforeAfterNodeSetter","isBefore","isStart","setRangeStart","setRangeEnd","F","setBoundary","setEndAfter","deleteContents","splitBoundaries","splitBoundariesPreservingPositions","normalizeBoundaries","mergeForward","sibling","appendData","mergeBackward","insertData","normalizeStart","endNode","startNode","collapseToPoint","updateCollapsedAndCommonAncestor","r1","r2","DomRange","WrappedRange","WrappedTextRange","rangeProto","updateRangeProperties","nativeRange","updateNativeRange","startMoved","endMoved","nativeRangeDifferent","testTextNode","oppositeName","range2","createNativeRange","getTextRangeContainerElement","parentEl","duplicate","startEl","endEl","startEndContainer","textRangeIsCollapsed","compareEndPoints","getTextRangeBoundaryPosition","wholeRangeContainerElement","isCollapsed","startInfo","workingRange","canHaveHTML","boundaryPosition","nodeInfo","workingNode","comparison","workingComparisonType","previousNode","boundaryNode","childNodeCount","moveToElementText","setEndPoint","tempRange","rangeLength","moveStart","createBoundaryTextRange","boundaryParent","boundaryOffset","nodeIsDataNode","startBoundary","rangeContainerElement","rangeToTextRange","startRange","endRange","toTextRange","globalObj","f","createRangyRange","checkSelectionRanges","BOOLEAN","NUMBER","getNativeSelection","CONTROL","isDirectionBackward","WrappedSelection","getWinSelection","winParam","getDocSelection","winSelectionIsBackward","sel","backward","anchorNode","anchorOffset","focusNode","focusOffset","implementsWinGetSelection","implementsDocSelection","useDocumentSelection","isSelectionValid","nativeSel","testSelection","selectionHasAnchorAndFocus","selectionHasExtend","selectionHasSetBaseAndExtent","selectionHasRangeCount","selectionSupportsMultipleRanges","collapsedNonEditableSelectionsSupported","addRangeBackwardToNative","nativeSelection","getNativeRange","originalSelectionRangeCount","selectionHasMultipleRanges","originalSelectionRanges","originalSelectionBackward","testEl","chromeMatch","appVersion","implementsControlRange","testControlRange","createControlRange","updateAnchorAndFocusFromRange","anchorPrefix","focusPrefix","updateAnchorAndFocusFromNativeSelection","updateEmptySelection","_ranges","updateType","rangeContainsSingleElement","rangeNodes","getSingleElementFromRange","updateFromTextRange","wrappedRange","updateControlSelection","docSelection","controlRange","addRangeToControlSelection","rangeElement","newControlRange","getSelectionRangeAt","deleteProperties","detached","cachedRangySelections","actOnCachedSelection","cached","docSel","selProto","createControlSelection","addRangeBackward","previousRangeCount","clonedNativeRange","selectionIsBackward","setRanges","empty","refreshSelection","checkForChanges","oldRanges","oldAnchorNode","oldAnchorOffset","removeRangeManually","getAllRanges","removeRange","isBackward","isBackwards","rangeTexts","assertNodeInSameDocument","setSingleRange","collapseToStart","collapseToEnd","selectAllChildren","setBaseAndExtent","deleteFromDocument","eachRange","callMethodOnEachRange","params","results","createStartOrEndSetter","changeEachRange","rangeBookmarks","selRanges","rangeBookmark","saveRanges","restoreRanges","rangeHtmls","getNativeTextRange","rangeInspects","anchor","detachAll","Selection","docReady","loadHandler","readyState","require$$0","CHARACTER","WORD","spacesRegex","spacesMinusLineBreaksRegex","allWhiteSpaceRegex","nonLineBreakWhiteSpaceRegex","lineBreakRegex","defaultLanguage","trailingSpaceInBlockCollapses","trailingSpaceBeforeBrCollapses","trailingSpaceBeforeBlockCollapses","trailingSpaceBeforeLineBreakInPreLineCollapses","defaultTokenizer","chars","wordOptions","word","tokenRanges","createTokenRange","isWord","lastWordEnd","wordStart","wordEnd","wordRegex","exec","includeTrailingSpace","convertCharRangeToToken","tokenRange","tokenChars","token","tokenize","tokenizer","tokens","defaultCharacterOptions","includeBlockContentTrailingSpace","includeSpaceBeforeBr","includeSpaceBeforeBlock","includePreLineTrailingSpace","ignoreCharacters","normalizeIgnoredCharacters","ignoredCharacters","ignoredChars","ignoredCharsArray","char1","char2","defaultCaretCharacterOptions","defaultWordOptions","defaultFindOptions","caseSensitive","withinRange","wholeWordsOnly","wrap","characterOptions","defaultMoveOptions","defaultExpandOptions","trimStart","trimEnd","defaultWordIteratorOptions","createWordOptions","language","createNestedOptions","tableCssDisplayBlock","table","defaultDisplayValueForTag","colgroup","col","thead","tbody","tfoot","tr","td","th","getComputedDisplay","isHidden","getAncestorsAndSelf","isVisibilityHiddenTextNode","isBlockNode","getLastDescendantOrSelf","containsPositions","getAncestors","nextNodeDescendants","excludeChildren","previous","isWhitespaceNode","computedWhiteSpace","isCollapsedWhitespaceNode","isCollapsedNode","isIgnoredNode","Cache","store","cachedCount","uncachedCount","createCachingGetter","objProperty","NodeWrapper","session","positions","nodeProto","Position","EMPTY","NON_SPACE","UNCOLLAPSIBLE_SPACE","COLLAPSIBLE_SPACE","TRAILING_SPACE_BEFORE_BLOCK","TRAILING_SPACE_IN_BLOCK","TRAILING_SPACE_BEFORE_BR","PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK","TRAILING_LINE_BREAK_AFTER_BR","INCLUDED_TRAILING_LINE_BREAK_AFTER_BR","isWhitespace","isCollapsedWhitespace","isIgnored","getTextNodeInfo","spaceRegex","collapseSpaces","cssWhitespace","preLine","hasInnerText","posAfterEl","firstPosInEl","endPos","prepopulateChar","isDefinitelyNonEmpty","previousVisible","nextVisible","isRenderedBlock","brs","getTrailingSpace","getNodeWrapper","getLeadingSpace","nodeWrapper","inspectPosition","positionProto","characterType","isBr","prepopulatedChar","visibleChar","charType","finalizedChar","textChar","nodePassed","checkForTrailingSpace","checkForLeadingSpace","isCharInvariant","resolveLeadingAndTrailingSpaces","trailingSpace","isTrailingSpace","leadingSpace","isLeadingSpace","getPrecedingUncollapsedPosition","getCharacter","thisChar","returnChar","isIgnoredCharacter","cacheKey","cachedChar","collapsible","nextPos","previousPos","gotPreviousPos","getPreviousPos","nextUncollapsed","nextOffset","previousOffset","newPos","currentSession","Session","createWrapperCache","nodeProperty","wrappersByProperty","wrapper","uniqueIDSupported","initCaches","elementCache","elementsCache","uniqueID","elWrapper","textNodeCache","otherNodeCache","wrapperCache","getRangeBoundaryPosition","startSession","endSession","getSession","createCharacterIterator","startPos","finished","charPos","previousTextPos","returnPreviousTextPos","rewind","dispose","arrayIndexOf","createTokenizedTextProvider","forwardIterator","backwardIterator","consumeWord","forward","newChars","passedWordBoundary","insideWord","forwardChars","backwardChars","forwardTokensBuffer","backwardTokensBuffer","inspectBuffer","buffer","textPositions","nextEndToken","lastToken","previousStartToken","movePositionBy","unit","count","unitsMoved","currentPos","charIterator","absCount","abs","tokenizedTextProvider","createRangeCharacterIterator","itStart","itEnd","getRangeCharacters","isWholeWord","expand","findTextFromPosition","initialPos","searchTerm","isRegex","searchScopeRange","findOptions","currentChar","matchStartIndex","matchEndIndex","insideRegexMatch","handleMatch","valid","createEntryPointFunction","sessionRunning","createRangeBoundaryMover","moveOptions","boundaryIsStart","moveResult","createRangeTrimmer","trimCharCount","trimmed","moveEnd","move","startTrimmed","endTrimmed","expandOptions","moved","startTokenizedTextProvider","startToken","newStartPos","endToken","newEndPos","endTokenizedTextProvider","selectCharacters","toCharacterRange","rangeStartsBeforeNode","rangeBetween","findText","searchTermParam","wrappedAround","findResult","pasteHtml","createSelectionTrimmer","saveCharacterRanges","rangeInfos","characterRange","restoreCharacterRanges","saved","rangeInfo","createWordIterator","iteratorOptions","noMutation","createPosition","keyCodes","moveCursor","getCursorCoordinates","expandSelection","collapseSelection","selectAll","deleteSelection","px","py","rect","isIE","triggerInputEvent","pasteContent","createFile","typeCharacters","typeNextCharacter","pressKey","typeCharacterInElement","capitalize","simulateKeypress","startComposition","updateComposition","endComposition","clickElement","dragToCoordinates","coordinates","format","dragstartData","dropData","mouseDownOnElementAndMove","distance","getElementCoordinates","destination","dragSpeed","drag","insertCharacter","getBoundingClientRect","insertImageAttachment","createImageAttachment","replaceDocument","clickToolbarButton","getToolbarButton","typeToolbarKeyCommand","trixKey","clickToolbarDialogButton","isToolbarButtonActive","isToolbarButtonDisabled","typeInToolbarDialog","_ref2","getToolbarDialog","isToolbarDialogActive","_ref3","_ref4","hidepassed","testTimeout","insertAdjacentHTML","previewableTypes","nonPreviewableTypes","createAttachment","ok","notOk","previewable","blockA","blockB","consolidatedBlock","createDocumentWithAttachment","aDoc","bDoc","insertMeta","append","installDefaultCSS","parsedDocument","cases","expectedHTML","getOrigin","pattern","finalHTML","withParserConfig","unsanitized","foregroundColor","withTextAttributeConfig","color","withConfig","section","newConfig","originalConfig","hostname","port","ADD_TAGS","withDOMPurifyConfig","identifier","assertions","assertion","path","findContainer","expectedLocation","actualLocation","mapper","describe","summaries","_observer","observerTest","change","getCaptionElement","withPreviewCaptionConfig","ORC","createImageAttachments","num","img","getFigure","closeButton","insertToolbarButton","captionElement","clientHeight","loadingImg","loadedImg","testOptions","cancelingInCapturingPhase","cancelingAtTarget","eventPhase","Event","CAPTURING_PHASE","AT_TARGET","removeCharacters","initializeEventCount","eventCount","ev","afterChangeEvent","edit","elementA","elementB","eventCountA","eventCountB","focusEventCount","blurEventCount","hasFocus","notEqual","fieldset","activeEditor","fromEntries","invalidInput","invalidEvent","submitEvent","requestSubmit","configureInputAssociated","strictEqual","formData","disabledEditor","expectedDocument","pressCommandBackspace","replaceText","replaceElementWithText","getElementWithText","_previousSibling","originalElement","clonedElement","childElementCount","recordInputEvent","inputEvents","stopImmediatePropagation","performInputTypeUsingExecCommand","isInsertParagraph","createDataTransfer","targetRange","origin","pasteEvent","canvas","toBlob","defineProperty","param","pressShiftReturn","Idiomorph","noOp","morphStyle","callbacks","beforeNodeAdded","afterNodeAdded","beforeNodeMorphed","afterNodeMorphed","beforeNodeRemoved","afterNodeRemoved","beforeAttributeUpdated","shouldPreserve","elt","shouldReAppend","shouldRemove","afterHeadMorphed","restoreFocus","morph","oldNode","newContent","normalizeElement","normalizeParent","ctx","createMorphContext","morphedNodes","saveAndRestoreFocus","withHeadBlocking","morphChildren","morphOuterHTML","pantry","oldParent","_document$activeEleme","HTMLInputElement","HTMLTextAreaElement","activeElementId","selectionStart","selectionEnd","_activeElement","setSelectionRange","newParent","insertionPoint","endPoint","HTMLTemplateElement","newChild","bestMatch","findBestMatch","removeNodesBetween","morphNode","Element","persistentIds","movedChild","moveBeforeById","insertedNode","createNode","tempNode","idMap","newEmptyChild","newClonedChild","importNode","startPoint","softMatch","siblingSoftMatchCount","cursor","isSoftMatch","isIdSetMatch","oldSet","newSet","oldElt","newElt","moveBefore","startInclusive","endExclusive","removeElementFromAncestorsIdMaps","idSet","ignoreActive","HTMLHeadElement","ignore","handleHeadElement","morphAttributes","ignoreValueOfActiveElement","oldAttributes","newAttribute","ignoreAttribute","oldAttribute","syncInputValue","nodeValue","oldElement","newElement","syncBooleanAttribute","HTMLOptionElement","newLiveValue","oldLiveValue","ignoreUpdate","attr","ignoreActiveValue","possibleActiveElement","oldHead","newHead","promises","newCtx","preserved","nodesToAppend","srcToNewHeadNodes","Map","newHeadChild","children","currentHeadElt","inNewContent","isReAppended","isPreserved","_resolve","removedElement","kept","createIdMaps","mergedConfig","mergeDefaults","createPantry","finalConfig","findIdElements","populateIdMapWithTree","oldContent","oldIdElements","newIdElements","createPersistentIds","newRoot","__idiomorphRoot","duplicateIds","oldIdTagNameMap","generatedByIdiomorph","parseContent","SlicedParentNode","dummyParent","originalNode","realParentNode","reduce","referenceNode","contentWithSvgsRemoved","htmlElement","responseDoc","renderWithMorph","originalToolbar","br","boldElement","extraBR","commentNode","pasteData","first","second","third"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,MAAMA,kBAAkB,GAAG,wBAAwB,CAAA;AAE1D,MAAMC,WAAW,GAAG;AAClBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,YAAY,EAAE,SAAS;AACvBC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAE,IAAI;AACVC,MAAAA,IAAI,EAAE,IAAA;AACR,KAAA;GACD;AACDC,EAAAA,IAAI,EAAE;AACJH,IAAAA,OAAO,EAAE;AACPE,MAAAA,IAAI,EAAE,IAAA;AACR,KAAA;AACF,GAAA;AACF,CAAC;;ACfD,MAAME,UAAU,GAAG;AACjBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAE,KAAK;AACdC,IAAAA,KAAK,EAAE,KAAA;GACR;AACDC,EAAAA,KAAK,EAAE;AACLF,IAAAA,OAAO,EAAE,YAAY;AACrBG,IAAAA,QAAQ,EAAE,IAAA;GACX;AACDC,EAAAA,QAAQ,EAAE;AACRJ,IAAAA,OAAO,EAAE,IAAI;AACbK,IAAAA,QAAQ,EAAE,IAAI;AACdC,IAAAA,aAAa,EAAE,IAAI;AACnBC,IAAAA,KAAK,EAAE,KAAA;GACR;AACDC,EAAAA,IAAI,EAAE;AACJR,IAAAA,OAAO,EAAE,KAAK;AACdK,IAAAA,QAAQ,EAAE,IAAI;IACdI,cAAc,EAAE,CAAE,UAAU,CAAE;AAC9BC,IAAAA,IAAI,EAAE;AACJC,MAAAA,SAAS,EAAE,IAAA;AACb,KAAA;GACD;AACDC,EAAAA,UAAU,EAAE;AACVZ,IAAAA,OAAO,EAAE,IAAI;AACbC,IAAAA,KAAK,EAAE,KAAA;GACR;AACDY,EAAAA,MAAM,EAAE;AACNb,IAAAA,OAAO,EAAE,IAAI;AACbc,IAAAA,aAAa,EAAE,YAAY;AAC3BP,IAAAA,KAAK,EAAE,KAAK;AACZJ,IAAAA,QAAQ,EAAE,IAAI;IACdY,IAAIA,CAACC,OAAO,EAAE;AACZ,MAAA,OAAOhB,SAAO,CAACgB,OAAO,CAACC,UAAU,CAAC,KAAKnB,UAAU,CAAC,IAAI,CAACgB,aAAa,CAAC,CAACd,OAAO,CAAA;AAC/E,KAAA;GACD;AACDkB,EAAAA,UAAU,EAAE;AACVlB,IAAAA,OAAO,EAAE,IAAI;AACbC,IAAAA,KAAK,EAAE,KAAA;GACR;AACDkB,EAAAA,MAAM,EAAE;AACNnB,IAAAA,OAAO,EAAE,IAAI;AACbc,IAAAA,aAAa,EAAE,YAAY;AAC3BP,IAAAA,KAAK,EAAE,KAAK;AACZJ,IAAAA,QAAQ,EAAE,IAAI;IACdY,IAAIA,CAACC,OAAO,EAAE;AACZ,MAAA,OAAOhB,SAAO,CAACgB,OAAO,CAACC,UAAU,CAAC,KAAKnB,UAAU,CAAC,IAAI,CAACgB,aAAa,CAAC,CAACd,OAAO,CAAA;AAC/E,KAAA;GACD;AACDoB,EAAAA,iBAAiB,EAAE;AACjBpB,IAAAA,OAAO,EAAE,KAAK;AACdqB,IAAAA,SAAS,EAAE,IAAI;AACfhB,IAAAA,QAAQ,EAAE,IAAI;AACdJ,IAAAA,KAAK,EAAE,KAAK;AACZM,IAAAA,KAAK,EAAE,KAAA;AACT,GAAA;AACF,CAAC,CAAA;AAED,MAAMP,SAAO,GAAIgB,OAAO,IAAA;AAAA,EAAA,IAAAM,gBAAA,CAAA;AAAA,EAAA,OAAKN,OAAO,KAAPA,IAAAA,IAAAA,OAAO,KAAAM,KAAAA,CAAAA,IAAAA,CAAAA,gBAAA,GAAPN,OAAO,CAAEhB,OAAO,MAAA,IAAA,IAAAsB,gBAAA,KAAhBA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,gBAAA,CAAkBC,WAAW,EAAE,CAAA;AAAA,CAAA;;AC1D5D,MAAMC,mBAAmB,GAAGC,SAAS,CAACC,SAAS,CAACC,KAAK,CAAC,4BAA4B,CAAC,CAAA;AACnF,MAAMC,cAAc,GAAGJ,mBAAmB,IAAIK,QAAQ,CAACL,mBAAmB,CAAC,CAAC,CAAC,CAAC,CAAA;AAE9E,gBAAe;AACb;AACA;EACAM,oBAAoB,EAAE,iBAAiB,CAACf,IAAI,CAACU,SAAS,CAACC,SAAS,CAAC;AAEjE;AACA;AACA;AACAK,EAAAA,aAAa,EAAEH,cAAc,IAAIA,cAAc,GAAG,EAAE;EACpDI,cAAc,EAAEJ,cAAc,IAAIH,SAAS,CAACC,SAAS,CAACC,KAAK,CAAC,cAAc,CAAC;AAE3E;EACAM,oBAAoB,EAAE,gBAAgB,CAAClB,IAAI,CAACU,SAAS,CAACC,SAAS,CAAC;AAChE;EACAQ,mBAAmB,EAAE,OAAOC,UAAU,KAAK,WAAW,IACpD,CAAE,MAAM,EAAE,iBAAiB,EAAE,WAAW,CAAE,CAACC,KAAK,CAACC,IAAI,IAAIA,IAAI,IAAIF,UAAU,CAACG,SAAS,CAAA;AACzF,CAAC;;ACnBD,YAAe;AACbC,EAAAA,UAAU,EAAE,YAAY;AACxBC,EAAAA,iBAAiB,EAAE,qBAAqB;AACxCC,EAAAA,uBAAuB,EAAE,4BAA4B;AACrDC,EAAAA,kBAAkB,EAAE,sBAAsB;AAC1CC,EAAAA,2BAA2B,EAAE,gCAAgC;AAC7DC,EAAAA,cAAc,EAAE,kBAAkB;AAClCC,EAAAA,kBAAkB,EAAE,sBAAsB;AAC1CC,EAAAA,cAAc,EAAE,kBAAkB;AAClCC,EAAAA,iBAAiB,EAAE,qBAAqB;AACxC3B,EAAAA,iBAAiB,EAAE,oBAAA;AACrB,CAAC;;ACXD,gBAAe;EACb4B,QAAQ,EAAE,CAAE,UAAU,CAAE;AACxBC,EAAAA,YAAY,EAAE,KAAK;AACnBC,EAAAA,UAAU,EAAE,IAAA;AACd,CAAC;;ACJD,aAAe;AACbC,EAAAA,WAAW,EAAE,cAAc;AAC3BC,EAAAA,IAAI,EAAE,MAAM;AACZC,EAAAA,OAAO,EAAE,SAAS;AAClBC,EAAAA,IAAI,EAAE,MAAM;AACZC,EAAAA,KAAK,EAAE,OAAO;AACdC,EAAAA,kBAAkB,EAAE,gBAAgB;AACpChD,EAAAA,IAAI,EAAE,MAAM;AACZJ,EAAAA,QAAQ,EAAE,SAAS;AACnBqD,EAAAA,MAAM,EAAE,gBAAgB;AACxBC,EAAAA,MAAM,EAAE,QAAQ;AAChBC,EAAAA,IAAI,EAAE,MAAM;AACZC,EAAAA,OAAO,EAAE,SAAS;AAClBC,EAAAA,OAAO,EAAE,gBAAgB;AACzB3D,EAAAA,KAAK,EAAE,OAAO;AACd4D,EAAAA,IAAI,EAAE,MAAM;AACZC,EAAAA,MAAM,EAAE,QAAQ;AAChBC,EAAAA,MAAM,EAAE,eAAe;AACvBC,EAAAA,IAAI,EAAE,MAAM;AACZC,EAAAA,MAAM,EAAE,QAAQ;AAChBC,EAAAA,GAAG,EAAE,KAAK;AACVC,EAAAA,cAAc,EAAE,cAAc;AAC9BC,EAAAA,EAAE,EAAE,IAAI;AACRC,EAAAA,EAAE,EAAE,IAAI;AACRC,EAAAA,EAAE,EAAE,IAAI;AACRC,EAAAA,EAAE,EAAE,IAAI;AACRC,EAAAA,EAAE,EAAE,IAAA;AACN,CAAC;;AC3BD;AACA;AACA;AAGA,MAAMC,KAAK,GAAG,CAAEC,MAAI,CAACpB,KAAK,EAAEoB,MAAI,CAACL,EAAE,EAAEK,MAAI,CAACJ,EAAE,EAAEI,MAAI,CAACN,EAAE,EAAEM,MAAI,CAACF,EAAE,EAAEE,MAAI,CAACH,EAAE,CAAE,CAAA;AAEzE,2BAAe;AACbI,EAAAA,MAAM,EAAE,KAAK;AACbC,EAAAA,SAAS,EAAE,CAAC;EAEZC,SAASA,CAAC3D,MAAM,EAAE;AAChB,IAAA,QAAQA,MAAM;AACZ,MAAA,KAAK,CAAC;AACJ,QAAA,OAAA,IAAA,CAAA4D,MAAA,CAAYJ,MAAI,CAACpB,KAAK,CAAA,CAAA;AACxB,MAAA,KAAK,CAAC;AACJ,QAAA,OAAA,IAAA,CAAAwB,MAAA,CAAYJ,MAAI,CAACrB,IAAI,CAAA,CAAA;AACvB,MAAA;AACE,QAAA,IAAI0B,IAAI,CAAA;AAER,QAAA,IAAI,IAAI,CAACJ,MAAM,KAAK,IAAI,EAAE;AACxBI,UAAAA,IAAI,GAAG,IAAI,CAAA;AACb,SAAC,MAAM,IAAI,IAAI,CAACJ,MAAM,KAAK,KAAK,EAAE;AAChCI,UAAAA,IAAI,GAAG,IAAI,CAAA;AACb,SAAA;AAEA,QAAA,MAAMC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,GAAG,CAACjE,MAAM,CAAC,GAAG+D,IAAI,CAACE,GAAG,CAACJ,IAAI,CAAC,CAAC,CAAA;QACzD,MAAMK,SAAS,GAAGlE,MAAM,GAAG+D,IAAI,CAACI,GAAG,CAACN,IAAI,EAAEC,GAAG,CAAC,CAAA;QAC9C,MAAMM,MAAM,GAAGF,SAAS,CAACG,OAAO,CAAC,IAAI,CAACX,SAAS,CAAC,CAAA;AAChD,QAAA,MAAMY,yBAAyB,GAAGF,MAAM,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;QAC9E,OAAAX,EAAAA,CAAAA,MAAA,CAAUU,yBAAyB,EAAA,GAAA,CAAA,CAAAV,MAAA,CAAIL,KAAK,CAACO,GAAG,CAAC,CAAA,CAAA;AACrD,KAAA;AACF,GAAA;AACF,CAAC;;ACjCM,MAAMU,gBAAgB,GAAG,QAAQ,CAAA;AACjC,MAAMC,kBAAkB,GAAG,QAAQ,CAAA;AACnC,MAAMC,4BAA4B,GAAG,QAAQ;;ACF7C,MAAMC,QAAM,GAAG,UAASC,UAAU,EAAE;AACzC,EAAA,KAAK,MAAMC,GAAG,IAAID,UAAU,EAAE;AAC5B,IAAA,MAAME,KAAK,GAAGF,UAAU,CAACC,GAAG,CAAC,CAAA;AAC7B,IAAA,IAAI,CAACA,GAAG,CAAC,GAAGC,KAAK,CAAA;AACnB,GAAA;AACA,EAAA,OAAO,IAAI,CAAA;AACb,CAAC;;ACDD,MAAMC,MAAI,GAAGC,QAAQ,CAACC,eAAe,CAAA;AACrC,MAAMzE,KAAK,GAAGuE,MAAI,CAACG,OAAO,CAAA;AAEnB,MAAMC,WAAW,GAAG,UAASC,SAAS,EAAsF;EAAA,IAApF;IAAEC,SAAS;IAAEC,gBAAgB;IAAEC,YAAY;IAAEC,OAAO;IAAEC,cAAc;AAAEC,IAAAA,KAAAA;AAAM,GAAC,GAAAC,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAG,CAAA,CAAA,GAAA,EAAE,CAAA;AAC/H,EAAA,MAAM9F,OAAO,GAAGwF,SAAS,GAAGA,SAAS,GAAGN,MAAI,CAAA;EAC5C,MAAMe,QAAQ,GAAGR,gBAAgB,CAAA;AACjC,EAAA,MAAMS,UAAU,GAAGP,OAAO,KAAK,WAAW,CAAA;AAE1C,EAAA,MAAMQ,OAAO,GAAG,UAASC,KAAK,EAAE;IAC9B,IAAIP,KAAK,IAAI,IAAI,IAAI,EAAEA,KAAK,KAAK,CAAC,EAAE;MAClCM,OAAO,CAACE,OAAO,EAAE,CAAA;AACnB,KAAA;AACA,IAAA,MAAMC,MAAM,GAAGC,0BAA0B,CAACH,KAAK,CAACE,MAAM,EAAE;AAAEb,MAAAA,gBAAgB,EAAEQ,QAAAA;AAAS,KAAC,CAAC,CAAA;IACvF,IAAIK,MAAM,IAAI,IAAI,EAAE;AAClBZ,MAAAA,YAAY,KAAZA,IAAAA,IAAAA,YAAY,KAAZA,KAAAA,CAAAA,IAAAA,YAAY,CAAEc,IAAI,CAACF,MAAM,EAAEF,KAAK,EAAEE,MAAM,CAAC,CAAA;AACzC,MAAA,IAAIV,cAAc,EAAE;QAClBQ,KAAK,CAACR,cAAc,EAAE,CAAA;AACxB,OAAA;AACF,KAAA;GACD,CAAA;AAEDO,EAAAA,OAAO,CAACE,OAAO,GAAG,MAAMrG,OAAO,CAACyG,mBAAmB,CAAClB,SAAS,EAAEY,OAAO,EAAED,UAAU,CAAC,CAAA;EAEnFlG,OAAO,CAAC0G,gBAAgB,CAACnB,SAAS,EAAEY,OAAO,EAAED,UAAU,CAAC,CAAA;AACxD,EAAA,OAAOC,OAAO,CAAA;AAChB,CAAC,CAAA;AAEM,MAAMQ,eAAe,GAAG,UAASpB,SAAS,EAAgB;AAAA,EAAA,IAAdqB,OAAO,GAAAd,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAC7Dc,OAAO,CAACf,KAAK,GAAG,CAAC,CAAA;AACjB,EAAA,OAAOP,WAAW,CAACC,SAAS,EAAEqB,OAAO,CAAC,CAAA;AACxC,CAAC,CAAA;AAEM,MAAMC,aAAW,GAAG,UAAStB,SAAS,EAA4C;EAAA,IAA1C;IAAEuB,OAAO;IAAEC,UAAU;AAAEjI,IAAAA,UAAAA;AAAW,GAAC,GAAAgH,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAG,CAAA,CAAA,GAAA,EAAE,CAAA;EACrFgB,OAAO,GAAGA,OAAO,KAAK,KAAK,CAAA;EAC3BC,UAAU,GAAGA,UAAU,KAAK,KAAK,CAAA;AAEjC,EAAA,MAAMX,KAAK,GAAGjB,QAAQ,CAAC0B,WAAW,CAAC,QAAQ,CAAC,CAAA;EAC5CT,KAAK,CAACY,SAAS,CAACzB,SAAS,EAAEuB,OAAO,EAAEC,UAAU,CAAC,CAAA;EAC/C,IAAIjI,UAAU,IAAI,IAAI,EAAE;AACtBgG,IAAAA,QAAM,CAAC0B,IAAI,CAACJ,KAAK,EAAEtH,UAAU,CAAC,CAAA;AAChC,GAAA;AACA,EAAA,OAAOsH,KAAK,CAAA;AACd,CAAC,CAAA;AAEM,MAAMa,cAAY,GAAG,UAAS1B,SAAS,EAAuD;EAAA,IAArD;IAAEC,SAAS;IAAEsB,OAAO;IAAEC,UAAU;AAAEjI,IAAAA,UAAAA;AAAW,GAAC,GAAAgH,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAG,CAAA,CAAA,GAAA,EAAE,CAAA;EACjG,MAAM9F,OAAO,GAAGwF,SAAS,IAAI,IAAI,GAAGA,SAAS,GAAGN,MAAI,CAAA;AACpD,EAAA,MAAMkB,KAAK,GAAGS,aAAW,CAACtB,SAAS,EAAE;IAAEuB,OAAO;IAAEC,UAAU;AAAEjI,IAAAA,UAAAA;AAAW,GAAC,CAAC,CAAA;AACzE,EAAA,OAAOkB,OAAO,CAACkH,aAAa,CAACd,KAAK,CAAC,CAAA;AACrC,CAAC,CAAA;AAEM,MAAMe,sBAAsB,GAAG,UAASnH,OAAO,EAAEiG,QAAQ,EAAE;EAChE,IAAI,CAAAjG,OAAO,KAAA,IAAA,IAAPA,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAPA,OAAO,CAAEoH,QAAQ,MAAK,CAAC,EAAE;AAC3B,IAAA,OAAOzG,KAAK,CAAC6F,IAAI,CAACxG,OAAO,EAAEiG,QAAQ,CAAC,CAAA;AACtC,GAAA;AACF,CAAC,CAAA;AAEM,MAAMM,0BAA0B,GAAG,UAASc,IAAI,EAAwC;EAAA,IAAtC;IAAE5B,gBAAgB;AAAE6B,IAAAA,SAAAA;AAAU,GAAC,GAAAxB,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAG,CAAA,CAAA,GAAA,EAAE,CAAA;EAC3F,OAAOuB,IAAI,IAAIA,IAAI,CAACD,QAAQ,KAAKG,IAAI,CAACC,YAAY,EAAE;IAClDH,IAAI,GAAGA,IAAI,CAACpH,UAAU,CAAA;AACxB,GAAA;EACA,IAAIoH,IAAI,IAAI,IAAI,EAAE;AAChB,IAAA,OAAA;AACF,GAAA;EAEA,IAAI5B,gBAAgB,IAAI,IAAI,EAAE;AAC5B,IAAA,IAAI4B,IAAI,CAACI,OAAO,IAAIH,SAAS,IAAI,IAAI,EAAE;AACrC,MAAA,OAAOD,IAAI,CAACI,OAAO,CAAChC,gBAAgB,CAAC,CAAA;AACvC,KAAC,MAAM;AACL,MAAA,OAAO4B,IAAI,IAAIA,IAAI,KAAKC,SAAS,EAAE;AACjC,QAAA,IAAIH,sBAAsB,CAACE,IAAI,EAAE5B,gBAAgB,CAAC,EAAE;AAClD,UAAA,OAAO4B,IAAI,CAAA;AACb,SAAA;QACAA,IAAI,GAAGA,IAAI,CAACpH,UAAU,CAAA;AACxB,OAAA;AACF,KAAA;AACF,GAAC,MAAM;AACL,IAAA,OAAOoH,IAAI,CAAA;AACb,GAAA;AACF,CAAC,CAAA;AAEM,MAAMK,gBAAgB,GAAG,UAAS1H,OAAO,EAAE;EAChD,OAAA2H,CAAAA,QAAA,GAAO3H,OAAO,MAAA,IAAA,IAAA2H,QAAA,KAAPA,KAAAA,CAAAA,IAAAA,QAAA,CAASC,iBAAiB,EAAE;AAAA,IAAA,IAAAD,QAAA,CAAA;IACjC3H,OAAO,GAAGA,OAAO,CAAC4H,iBAAiB,CAAA;AACrC,GAAA;AACA,EAAA,OAAO5H,OAAO,CAAA;AAChB,CAAC,CAAA;AAEM,MAAM6H,oBAAoB,GAAI7H,OAAO,IAC1CmF,QAAQ,CAAC2C,aAAa,KAAK9H,OAAO,IAAI+H,mBAAmB,CAAC/H,OAAO,EAAEmF,QAAQ,CAAC2C,aAAa,CAAC,CAAA;AAErF,MAAMC,mBAAmB,GAAG,UAAS/H,OAAO,EAAEqH,IAAI,EAAE;AACzD,EAAA,IAAI,CAACrH,OAAO,IAAI,CAACqH,IAAI,EAAE;AACrB,IAAA,OAAA;AACF,GAAA;AACA,EAAA,OAAOA,IAAI,EAAE;IACX,IAAIA,IAAI,KAAKrH,OAAO,EAAE;AACpB,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;IACAqH,IAAI,GAAGA,IAAI,CAACpH,UAAU,CAAA;AACxB,GAAA;AACF,CAAC,CAAA;AAEM,MAAM+H,8BAA8B,GAAG,UAASC,SAAS,EAAEC,MAAM,EAAE;EACxE,IAAI,CAACD,SAAS,EAAE;AACd,IAAA,OAAA;AACF,GAAA;AACA,EAAA,IAAIA,SAAS,CAACb,QAAQ,KAAKG,IAAI,CAACY,SAAS,EAAE;AACzC,IAAA,OAAOF,SAAS,CAAA;AAClB,GAAC,MAAM,IAAIC,MAAM,KAAK,CAAC,EAAE;IACvB,OAAOD,SAAS,CAACG,UAAU,IAAI,IAAI,GAAGH,SAAS,CAACG,UAAU,GAAGH,SAAS,CAAA;AACxE,GAAC,MAAM;IACL,OAAOA,SAAS,CAACI,UAAU,CAACC,IAAI,CAACJ,MAAM,GAAG,CAAC,CAAC,CAAA;AAC9C,GAAA;AACF,CAAC,CAAA;AAEM,MAAMK,iCAAiC,GAAG,UAASN,SAAS,EAAEC,MAAM,EAAE;AAC3E,EAAA,MAAMb,IAAI,GAAGW,8BAA8B,CAACC,SAAS,EAAEC,MAAM,CAAC,CAAA;EAC9D,OAAO3B,0BAA0B,CAACc,IAAI,CAAC,CAAA;AACzC,CAAC,CAAA;AAEM,MAAMmB,oBAAoB,GAAG,UAASnB,IAAI,EAAE;AAAA,EAAA,IAAAoB,KAAA,CAAA;EACjD,IAAI,EAAA,CAAAA,KAAA,GAACpB,IAAI,MAAA,IAAA,IAAAoB,KAAA,KAAJA,KAAAA,CAAAA,IAAAA,KAAA,CAAMxI,UAAU,CAAE,EAAA;AACrB,IAAA,OAAA;AACF,GAAA;EACA,IAAIyI,UAAU,GAAG,CAAC,CAAA;EAClBrB,IAAI,GAAGA,IAAI,CAACsB,eAAe,CAAA;AAC3B,EAAA,OAAOtB,IAAI,EAAE;AACXqB,IAAAA,UAAU,EAAE,CAAA;IACZrB,IAAI,GAAGA,IAAI,CAACsB,eAAe,CAAA;AAC7B,GAAA;AACA,EAAA,OAAOD,UAAU,CAAA;AACnB,CAAC,CAAA;AAEM,MAAME,UAAU,GAAIvB,IAAI,IAAA;AAAA,EAAA,IAAAwB,gBAAA,CAAA;AAAA,EAAA,OAAKxB,IAAI,KAAJA,IAAAA,IAAAA,IAAI,KAAAwB,KAAAA,CAAAA,IAAAA,CAAAA,gBAAA,GAAJxB,IAAI,CAAEpH,UAAU,MAAA,IAAA,IAAA4I,gBAAA,KAAhBA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,gBAAA,CAAkBC,WAAW,CAACzB,IAAI,CAAC,CAAA;AAAA,CAAA,CAAA;AAEhE,MAAM0B,QAAQ,GAAG,UAASC,IAAI,EAAiE;EAAA,IAA/D;IAAEC,eAAe;IAAEC,WAAW;AAAEC,IAAAA,sBAAAA;AAAuB,GAAC,GAAArD,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAG,CAAA,CAAA,GAAA,EAAE,CAAA;EAClG,MAAMsD,UAAU,GAAG,CAAC,MAAM;AACxB,IAAA,QAAQH,eAAe;AACrB,MAAA,KAAK,SAAS;QACZ,OAAOI,UAAU,CAACC,YAAY,CAAA;AAChC,MAAA,KAAK,MAAM;QACT,OAAOD,UAAU,CAACE,SAAS,CAAA;AAC7B,MAAA,KAAK,SAAS;QACZ,OAAOF,UAAU,CAACG,YAAY,CAAA;AAChC,MAAA;QACE,OAAOH,UAAU,CAACI,QAAQ,CAAA;AAC9B,KAAA;AACF,GAAC,GAAG,CAAA;AAEJ,EAAA,OAAOtE,QAAQ,CAACuE,gBAAgB,CAC9BV,IAAI,EACJI,UAAU,EACVF,WAAW,IAAI,IAAI,GAAGA,WAAW,GAAG,IAAI,EACxCC,sBAAsB,KAAK,IAC7B,CAAC,CAAA;AACH,CAAC,CAAA;AAEM,MAAMnK,OAAO,GAAIgB,OAAO,IAAA;AAAA,EAAA,IAAAM,gBAAA,CAAA;AAAA,EAAA,OAAKN,OAAO,KAAPA,IAAAA,IAAAA,OAAO,KAAAM,KAAAA,CAAAA,IAAAA,CAAAA,gBAAA,GAAPN,OAAO,CAAEhB,OAAO,MAAA,IAAA,IAAAsB,gBAAA,KAAhBA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,gBAAA,CAAkBC,WAAW,EAAE,CAAA;AAAA,CAAA,CAAA;AAE5D,MAAMoJ,WAAW,GAAG,UAASC,GAAG,EAAgB;AAAA,EAAA,IAAdhD,OAAO,GAAAd,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EACnD,IAAId,GAAG,EAAEC,KAAK,CAAA;AACd,EAAA,IAAI,OAAO2E,GAAG,KAAK,QAAQ,EAAE;AAC3BhD,IAAAA,OAAO,GAAGgD,GAAG,CAAA;IACbA,GAAG,GAAGhD,OAAO,CAAC5H,OAAO,CAAA;AACvB,GAAC,MAAM;AACL4H,IAAAA,OAAO,GAAG;AAAE9H,MAAAA,UAAU,EAAE8H,OAAAA;KAAS,CAAA;AACnC,GAAA;AAEA,EAAA,MAAM5G,OAAO,GAAGmF,QAAQ,CAAC0E,aAAa,CAACD,GAAG,CAAC,CAAA;AAE3C,EAAA,IAAIhD,OAAO,CAACkD,QAAQ,IAAI,IAAI,EAAE;AAC5B,IAAA,IAAIlD,OAAO,CAAC9H,UAAU,IAAI,IAAI,EAAE;AAC9B8H,MAAAA,OAAO,CAAC9H,UAAU,GAAG,EAAE,CAAA;AACzB,KAAA;AACA8H,IAAAA,OAAO,CAAC9H,UAAU,CAACiL,eAAe,GAAGnD,OAAO,CAACkD,QAAQ,CAAA;AACvD,GAAA;EAEA,IAAIlD,OAAO,CAAC9H,UAAU,EAAE;AACtB,IAAA,KAAKkG,GAAG,IAAI4B,OAAO,CAAC9H,UAAU,EAAE;AAC9BmG,MAAAA,KAAK,GAAG2B,OAAO,CAAC9H,UAAU,CAACkG,GAAG,CAAC,CAAA;AAC/BhF,MAAAA,OAAO,CAACgK,YAAY,CAAChF,GAAG,EAAEC,KAAK,CAAC,CAAA;AAClC,KAAA;AACF,GAAA;EAEA,IAAI2B,OAAO,CAACqD,KAAK,EAAE;AACjB,IAAA,KAAKjF,GAAG,IAAI4B,OAAO,CAACqD,KAAK,EAAE;AACzBhF,MAAAA,KAAK,GAAG2B,OAAO,CAACqD,KAAK,CAACjF,GAAG,CAAC,CAAA;AAC1BhF,MAAAA,OAAO,CAACiK,KAAK,CAACjF,GAAG,CAAC,GAAGC,KAAK,CAAA;AAC5B,KAAA;AACF,GAAA;EAEA,IAAI2B,OAAO,CAACsD,IAAI,EAAE;AAChB,IAAA,KAAKlF,GAAG,IAAI4B,OAAO,CAACsD,IAAI,EAAE;AACxBjF,MAAAA,KAAK,GAAG2B,OAAO,CAACsD,IAAI,CAAClF,GAAG,CAAC,CAAA;AACzBhF,MAAAA,OAAO,CAACmK,OAAO,CAACnF,GAAG,CAAC,GAAGC,KAAK,CAAA;AAC9B,KAAA;AACF,GAAA;EAEA,IAAI2B,OAAO,CAACwD,SAAS,EAAE;IACrBxD,OAAO,CAACwD,SAAS,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAEF,SAAS,IAAK;AAClDpK,MAAAA,OAAO,CAACuK,SAAS,CAACC,GAAG,CAACJ,SAAS,CAAC,CAAA;AAClC,KAAC,CAAC,CAAA;AACJ,GAAA;EAEA,IAAIxD,OAAO,CAAC6D,WAAW,EAAE;AACvBzK,IAAAA,OAAO,CAACyK,WAAW,GAAG7D,OAAO,CAAC6D,WAAW,CAAA;AAC3C,GAAA;EAEA,IAAI7D,OAAO,CAACyB,UAAU,EAAE;IACtB,EAAE,CAACtE,MAAM,CAAC6C,OAAO,CAACyB,UAAU,CAAC,CAACiC,OAAO,CAAEI,SAAS,IAAK;AACnD1K,MAAAA,OAAO,CAAC2K,WAAW,CAACD,SAAS,CAAC,CAAA;AAChC,KAAC,CAAC,CAAA;AACJ,GAAA;AAEA,EAAA,OAAO1K,OAAO,CAAA;AAChB,CAAC,CAAA;AAED,IAAI4K,aAAa,GAAG5E,SAAS,CAAA;AAEtB,MAAM6E,gBAAgB,GAAG,YAAW;EACzC,IAAID,aAAa,IAAI,IAAI,EAAE;AACzB,IAAA,OAAOA,aAAa,CAAA;AACtB,GAAA;AAEAA,EAAAA,aAAa,GAAG,EAAE,CAAA;AAClB,EAAA,KAAK,MAAM5F,GAAG,IAAI8F,UAAe,EAAE;AACjC,IAAA,MAAMhM,YAAU,GAAGgM,UAAe,CAAC9F,GAAG,CAAC,CAAA;IACvC,IAAIlG,YAAU,CAACE,OAAO,EAAE;AACtB4L,MAAAA,aAAa,CAACG,IAAI,CAACjM,YAAU,CAACE,OAAO,CAAC,CAAA;AACxC,KAAA;AACF,GAAA;AAEA,EAAA,OAAO4L,aAAa,CAAA;AACtB,CAAC,CAAA;AAEM,MAAMI,oBAAoB,GAAI3D,IAAI,IAAK4D,uBAAuB,CAAC5D,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAEe,UAAU,CAAC,CAAA;AAEhF,MAAM8C,4BAA4B,GAAG,UAAS7D,IAAI,EAAE;EACzD,OAAOwD,gBAAgB,EAAE,CAACM,QAAQ,CAACnM,OAAO,CAACqI,IAAI,CAAC,CAAC,IAAI,CAACwD,gBAAgB,EAAE,CAACM,QAAQ,CAACnM,OAAO,CAACqI,IAAI,CAACe,UAAU,CAAC,CAAC,CAAA;AAC7G,CAAC,CAAA;AAEM,MAAMgD,gBAAgB,GAAG,UAAS/D,IAAI,EAAiC;EAAA,IAA/B;AAAEgE,IAAAA,MAAAA;GAAQ,GAAAvF,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAG,CAAA,CAAA,GAAA;AAAEuF,IAAAA,MAAM,EAAE,IAAA;GAAM,CAAA;AAC1E,EAAA,IAAIA,MAAM,EAAE;IACV,OAAOJ,uBAAuB,CAAC5D,IAAI,CAAC,CAAA;AACtC,GAAC,MAAM;AACL,IAAA,OACE4D,uBAAuB,CAAC5D,IAAI,CAAC,IAAI,CAAC4D,uBAAuB,CAAC5D,IAAI,CAACe,UAAU,CAAC,IAAI8C,4BAA4B,CAAC7D,IAAI,CAAC,CAAA;AAEpH,GAAA;AACF,CAAC,CAAA;AAEM,MAAM4D,uBAAuB,GAAI5D,IAAI,IAAKiE,iBAAiB,CAACjE,IAAI,CAAC,IAAI,CAAAA,IAAI,aAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAE6C,IAAI,MAAK,OAAO,CAAA;AAE3F,MAAMoB,iBAAiB,GAAIjE,IAAI,IAAK,CAAAA,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAED,QAAQ,MAAKG,IAAI,CAACgE,YAAY,CAAA;AAExE,MAAMC,kBAAkB,GAAG,UAASnE,IAAI,EAAiB;EAAA,IAAf;AAAE1I,IAAAA,IAAAA;AAAK,GAAC,GAAAmH,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAG,CAAA,CAAA,GAAA,EAAE,CAAA;EAC5D,IAAI,CAACuB,IAAI,EAAE;AACT,IAAA,OAAA;AACF,GAAA;AACA,EAAA,IAAIoE,cAAc,CAACpE,IAAI,CAAC,EAAE;AACxB,IAAA,IAAIA,IAAI,CAAC6C,IAAI,KAAKvF,gBAAgB,EAAE;AAClC,MAAA,IAAIhG,IAAI,EAAE;QACR,OAAO0I,IAAI,CAACpH,UAAU,CAACkK,OAAO,CAACuB,gBAAgB,KAAK/M,IAAI,CAAA;AAC1D,OAAC,MAAM;AACL,QAAA,OAAO,IAAI,CAAA;AACb,OAAA;AACF,KAAA;AACF,GAAC,MAAM;AACL,IAAA,OAAO6M,kBAAkB,CAACnE,IAAI,CAACe,UAAU,CAAC,CAAA;AAC5C,GAAA;AACF,CAAC,CAAA;AAEM,MAAMuD,uBAAuB,GAAItE,IAAI,IAAKF,sBAAsB,CAACE,IAAI,EAAE/I,kBAAkB,CAAC,CAAA;AAE1F,MAAMsN,mBAAmB,GAAIvE,IAAI,IAAKoE,cAAc,CAACpE,IAAI,CAAC,IAAI,CAAAA,IAAI,aAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAE6C,IAAI,MAAK,EAAE,CAAA;AAE/E,MAAMuB,cAAc,GAAIpE,IAAI,IAAK,CAAAA,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAED,QAAQ,MAAKG,IAAI,CAACY,SAAS;;ACtRzE,MAAM0D,KAAK,GAAG;AACZC,EAAAA,aAAa,EAAE,IAAI;AAEnBC,EAAAA,QAAQA,GAAG;AACT,IAAA,IAAI,IAAI,CAACD,aAAa,IAAIE,SAAO,CAAC9K,mBAAmB,EAAE;AACrD,MAAA,OAAO,CAAC,CAAA;AACV,KAAC,MAAM;AACL,MAAA,OAAO,CAAC,CAAA;AACV,KAAA;GACD;EACD+K,SAASA,CAACC,QAAQ,EAAE;AAClB,IAAA,MAAML,KAAK,GAAGlC,WAAW,CAAC,OAAO,EAAE;AAAEwC,MAAAA,IAAI,EAAE,MAAM;AAAEC,MAAAA,QAAQ,EAAE,IAAI;AAAEC,MAAAA,MAAM,EAAE,IAAI;MAAEC,EAAE,EAAE,IAAI,CAACC,WAAAA;AAAY,KAAC,CAAC,CAAA;AAExGV,IAAAA,KAAK,CAACnF,gBAAgB,CAAC,QAAQ,EAAE,MAAM;AACrCwF,MAAAA,QAAQ,CAACL,KAAK,CAACW,KAAK,CAAC,CAAA;MACrB5D,UAAU,CAACiD,KAAK,CAAC,CAAA;AACnB,KAAC,CAAC,CAAA;IAEFjD,UAAU,CAACzD,QAAQ,CAACsH,cAAc,CAAC,IAAI,CAACF,WAAW,CAAC,CAAC,CAAA;AACrDpH,IAAAA,QAAQ,CAACuH,IAAI,CAAC/B,WAAW,CAACkB,KAAK,CAAC,CAAA;IAChCA,KAAK,CAACc,KAAK,EAAE,CAAA;AACf,GAAA;AACF,CAAC;;ACzBD,gBAAe;AACb,EAAA,CAAC,EAAE,WAAW;AACd,EAAA,CAAC,EAAE,KAAK;AACR,EAAA,EAAE,EAAE,QAAQ;AACZ,EAAA,EAAE,EAAE,QAAQ;AACZ,EAAA,EAAE,EAAE,MAAM;AACV,EAAA,EAAE,EAAE,OAAO;AACX,EAAA,EAAE,EAAE,QAAQ;AACZ,EAAA,EAAE,EAAE,GAAG;AACP,EAAA,EAAE,EAAE,GAAG;AACP,EAAA,EAAE,EAAE,GAAA;AACN,CAAC;;ACXD,aAAe;AACbC,EAAAA,qBAAqB,EAAE,KAAK;AAC5BC,EAAAA,kBAAkB,EAAE,KAAK;AACzBC,EAAAA,iBAAiB,EAAE,IAAA;AACrB,CAAC;;ACFD,sBAAe;AACb1K,EAAAA,IAAI,EAAE;AACJpD,IAAAA,OAAO,EAAE,QAAQ;AACjB+N,IAAAA,WAAW,EAAE,IAAI;IACjBC,MAAMA,CAAChN,OAAO,EAAE;AACd,MAAA,MAAMiK,KAAK,GAAGgD,MAAM,CAACC,gBAAgB,CAAClN,OAAO,CAAC,CAAA;MAC9C,OAAOiK,KAAK,CAACkD,UAAU,KAAK,MAAM,IAAIlD,KAAK,CAACkD,UAAU,IAAI,GAAG,CAAA;AAC/D,KAAA;GACD;AACDzK,EAAAA,MAAM,EAAE;AACN1D,IAAAA,OAAO,EAAE,IAAI;AACb+N,IAAAA,WAAW,EAAE,IAAI;IACjBC,MAAMA,CAAChN,OAAO,EAAE;AACd,MAAA,MAAMiK,KAAK,GAAGgD,MAAM,CAACC,gBAAgB,CAAClN,OAAO,CAAC,CAAA;AAC9C,MAAA,OAAOiK,KAAK,CAACmD,SAAS,KAAK,QAAQ,CAAA;AACrC,KAAA;GACD;AACDC,EAAAA,IAAI,EAAE;AACJC,IAAAA,YAAY,EAAE,GAAG;IACjBN,MAAMA,CAAChN,OAAO,EAAE;AACd,MAAA,MAAMyF,gBAAgB,GAAA,QAAA,CAAA1B,MAAA,CAAYzF,kBAAkB,EAAG,GAAA,CAAA,CAAA;AACvD,MAAA,MAAMqE,IAAI,GAAG3C,OAAO,CAACyH,OAAO,CAAChC,gBAAgB,CAAC,CAAA;AAC9C,MAAA,IAAI9C,IAAI,EAAE;AACR,QAAA,OAAOA,IAAI,CAAC4K,YAAY,CAAC,MAAM,CAAC,CAAA;AAClC,OAAA;AACF,KAAA;GACD;AACDvK,EAAAA,MAAM,EAAE;AACNhE,IAAAA,OAAO,EAAE,KAAK;AACd+N,IAAAA,WAAW,EAAE,IAAA;GACd;AACDS,EAAAA,MAAM,EAAE;AACNvD,IAAAA,KAAK,EAAE;AAAEwD,MAAAA,eAAe,EAAE,WAAA;AAAY,KAAA;AACxC,GAAA;AACF,CAAC;;AClCD,cAAe;AACbC,EAAAA,cAAcA,GAAG;IACf,OAAA3J,ySAAAA,CAAAA,MAAA,CAE6IJ,MAAI,CAACvB,IAAI,EAAA2B,qBAAAA,CAAAA,CAAAA,MAAA,CAAmBJ,MAAI,CAACvB,IAAI,EAAA2B,yKAAAA,CAAAA,CAAAA,MAAA,CACjCJ,MAAI,CAACjB,MAAM,EAAAqB,qBAAAA,CAAAA,CAAAA,MAAA,CAAmBJ,MAAI,CAACjB,MAAM,EAAAqB,qJAAAA,CAAAA,CAAAA,MAAA,CAC3DJ,MAAI,CAACX,MAAM,EAAAe,qBAAAA,CAAAA,CAAAA,MAAA,CAAmBJ,MAAI,CAACX,MAAM,EAAAe,+LAAAA,CAAAA,CAAAA,MAAA,CACHJ,MAAI,CAAChB,IAAI,EAAAoB,qBAAAA,CAAAA,CAAAA,MAAA,CAAmBJ,MAAI,CAAChB,IAAI,EAAAoB,2RAAAA,CAAAA,CAAAA,MAAA,CAItEJ,MAAI,CAACvE,QAAQ,EAAA2E,qBAAAA,CAAAA,CAAAA,MAAA,CAAmBJ,MAAI,CAACvE,QAAQ,EAAA2E,mJAAAA,CAAAA,CAAAA,MAAA,CACpDJ,MAAI,CAACzE,KAAK,EAAA6E,qBAAAA,CAAAA,CAAAA,MAAA,CAAmBJ,MAAI,CAACzE,KAAK,EAAA6E,iJAAAA,CAAAA,CAAAA,MAAA,CACzCJ,MAAI,CAACnE,IAAI,EAAAuE,qBAAAA,CAAAA,CAAAA,MAAA,CAAmBJ,MAAI,CAACnE,IAAI,EAAAuE,0JAAAA,CAAAA,CAAAA,MAAA,CAC5BJ,MAAI,CAACtB,OAAO,EAAA0B,qBAAAA,CAAAA,CAAAA,MAAA,CAAmBJ,MAAI,CAACtB,OAAO,8JAAA0B,MAAA,CAC3CJ,MAAI,CAACf,OAAO,yBAAAmB,MAAA,CAAmBJ,MAAI,CAACf,OAAO,oLAAAmB,MAAA,CACrBJ,MAAI,CAACd,OAAO,yBAAAkB,MAAA,CAAmBJ,MAAI,CAACd,OAAO,oLAAAkB,MAAA,CAC3CJ,MAAI,CAAClB,MAAM,yBAAAsB,MAAA,CAAmBJ,MAAI,CAAClB,MAAM,0RAAAsB,MAAA,CAIlEJ,MAAI,CAACxB,WAAW,yBAAA4B,MAAA,CAAmBJ,MAAI,CAACxB,WAAW,qWAAA4B,MAAA,CAM1CJ,MAAI,CAACV,IAAI,yBAAAc,MAAA,CAAmBJ,MAAI,CAACV,IAAI,4KAAAc,MAAA,CAC/BJ,MAAI,CAACb,IAAI,yBAAAiB,MAAA,CAAmBJ,MAAI,CAACb,IAAI,yWAAAiB,MAAA,CAO5FJ,MAAI,CAACP,cAAc,sBAAAW,MAAA,CAAiBJ,MAAI,CAACR,GAAG,8LAAAY,MAAA,CAEvDJ,MAAI,CAAChB,IAAI,kIAAAoB,MAAA,CACTJ,MAAI,CAACT,MAAM,EAAA,sGAAA,CAAA,CAAA;AAK3F,GAAA;AACF,CAAC;;AC9CD,MAAMD,IAAI,GAAG;AAAE0K,EAAAA,QAAQ,EAAE,IAAA;AAAK,CAAC;;;;;;;;;;;;;;;;;;;ACAhB,MAAMC,WAAW,CAAC;EAC/B,OAAOC,WAAWA,CAACC,UAAU,EAAE;IAC7B,MAAM;MAAEnP,IAAI;MAAEoP,QAAQ;MAAEC,UAAU;AAAEC,MAAAA,QAAAA;AAAS,KAAC,GAAGC,0BAA0B,CAACJ,UAAU,CAAC,CAAA;AAEvF,IAAA,IAAI,CAACxM,SAAS,CAAC3C,IAAI,CAAC,GAAG,YAAW;AAChC,MAAA,IAAIwP,OAAO,CAAA;AACX,MAAA,IAAIC,MAAM,CAAA;AAEV,MAAA,IAAIL,QAAQ,EAAE;AACZ,QAAA,IAAIE,QAAQ,EAAE;AAAA,UAAA,IAAAI,cAAA,CAAA;AACZD,UAAAA,MAAM,GAAAC,CAAAA,cAAA,GAAG,IAAI,CAACN,QAAQ,CAAC,MAAAM,IAAAA,IAAAA,cAAA,KAAdA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,cAAA,CAAA7H,IAAA,KAAiB,CAAC,CAAA;AAC7B,SAAC,MAAM;AACL4H,UAAAA,MAAM,GAAG,IAAI,CAACL,QAAQ,CAAC,EAAE,CAAA;AAC3B,SAAA;OACD,MAAM,IAAIC,UAAU,EAAE;AACrBI,QAAAA,MAAM,GAAG,IAAI,CAACJ,UAAU,CAAC,CAAA;AAC3B,OAAA;AAEA,MAAA,IAAIC,QAAQ,EAAE;AAAA,QAAA,IAAAK,OAAA,CAAA;QACZH,OAAO,GAAA,CAAAG,OAAA,GAAGF,MAAM,MAAA,IAAA,IAAAE,OAAA,KAANA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,OAAA,CAAS3P,IAAI,CAAC,CAAA;AACxB,QAAA,IAAIwP,OAAO,EAAE;UACX,OAAOI,OAAK,CAAC/H,IAAI,CAAC2H,OAAO,EAAEC,MAAM,EAAEtI,SAAS,CAAC,CAAA;AAC/C,SAAA;AACF,OAAC,MAAM;AACLqI,QAAAA,OAAO,GAAGC,MAAM,CAACzP,IAAI,CAAC,CAAA;QACtB,OAAO4P,OAAK,CAAC/H,IAAI,CAAC2H,OAAO,EAAEC,MAAM,EAAEtI,SAAS,CAAC,CAAA;AAC/C,OAAA;KACD,CAAA;AACH,GAAA;AACF,CAAA;AAEA,MAAMoI,0BAA0B,GAAG,UAASJ,UAAU,EAAE;AACtD,EAAA,MAAMnN,KAAK,GAAGmN,UAAU,CAACnN,KAAK,CAAC6N,4BAA4B,CAAC,CAAA;EAC5D,IAAI,CAAC7N,KAAK,EAAE;AACV,IAAA,MAAM,IAAI8N,KAAK,CAAA,uCAAA,CAAA1K,MAAA,CAAyC+J,UAAU,CAAE,CAAC,CAAA;AACvE,GAAA;AAEA,EAAA,MAAMY,IAAI,GAAG;IAAE/P,IAAI,EAAEgC,KAAK,CAAC,CAAC,CAAA;GAAG,CAAA;AAE/B,EAAA,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;AACpB+N,IAAAA,IAAI,CAACX,QAAQ,GAAGpN,KAAK,CAAC,CAAC,CAAC,CAAA;AAC1B,GAAC,MAAM;AACL+N,IAAAA,IAAI,CAACV,UAAU,GAAGrN,KAAK,CAAC,CAAC,CAAC,CAAA;AAC5B,GAAA;AAEA,EAAA,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;IACpB+N,IAAI,CAACT,QAAQ,GAAG,IAAI,CAAA;AACtB,GAAA;AAEA,EAAA,OAAOS,IAAI,CAAA;AACb,CAAC,CAAA;AAED,MAAM;AAAEH,SAAAA,OAAAA;AAAM,CAAC,GAAGI,QAAQ,CAACrN,SAAS,CAAA;AAEpC,MAAMkN,4BAA4B,GAAG,IAAII,MAAM,CAAC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC;;;AC5Da,MAAMC,WAAW,SAASjB,WAAW,CAAC;EACnD,OAAOkB,GAAGA,GAAa;AAAA,IAAA,IAAZ7J,KAAK,GAAAa,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IACnB,IAAIb,KAAK,YAAY,IAAI,EAAE;AACzB,MAAA,OAAOA,KAAK,CAAA;AACd,KAAC,MAAM;AACL,MAAA,OAAO,IAAI,CAAC8J,cAAc,CAAC9J,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAALA,KAAK,CAAE+J,QAAQ,EAAE,CAAC,CAAA;AAC/C,KAAA;AACF,GAAA;EAEA,OAAOD,cAAcA,CAACE,UAAU,EAAE;IAChC,OAAO,IAAI,IAAI,CAACA,UAAU,EAAEC,UAAU,CAACD,UAAU,CAAC,CAAC,CAAA;AACrD,GAAA;EAEA,OAAOE,cAAcA,CAACC,UAAU,EAAE;IAChC,OAAO,IAAI,IAAI,CAACC,UAAU,CAACD,UAAU,CAAC,EAAEA,UAAU,CAAC,CAAA;AACrD,GAAA;AAEAE,EAAAA,WAAWA,CAACL,UAAU,EAAEG,UAAU,EAAE;IAClC,KAAK,CAAC,GAAGtJ,SAAS,CAAC,CAAA;IACnB,IAAI,CAACmJ,UAAU,GAAGA,UAAU,CAAA;IAC5B,IAAI,CAACG,UAAU,GAAGA,UAAU,CAAA;AAC5B,IAAA,IAAI,CAACrJ,MAAM,GAAG,IAAI,CAACqJ,UAAU,CAACrJ,MAAM,CAAA;AACpC,IAAA,IAAI,CAACwJ,UAAU,GAAG,IAAI,CAACN,UAAU,CAAClJ,MAAM,CAAA;AAC1C,GAAA;EAEAyJ,kBAAkBA,CAACtH,MAAM,EAAE;IACzB,OAAOmH,UAAU,CAAC,IAAI,CAACD,UAAU,CAACK,KAAK,CAAC,CAAC,EAAEvL,IAAI,CAACwL,GAAG,CAAC,CAAC,EAAExH,MAAM,CAAC,CAAC,CAAC,CAACnC,MAAM,CAAA;AACzE,GAAA;EAEA4J,oBAAoBA,CAACC,UAAU,EAAE;IAC/B,OAAOV,UAAU,CAAC,IAAI,CAACD,UAAU,CAACQ,KAAK,CAAC,CAAC,EAAEvL,IAAI,CAACwL,GAAG,CAAC,CAAC,EAAEE,UAAU,CAAC,CAAC,CAAC,CAAC7J,MAAM,CAAA;AAC7E,GAAA;AAEA0J,EAAAA,KAAKA,GAAG;AACN,IAAA,OAAO,IAAI,CAACH,WAAW,CAACH,cAAc,CAAC,IAAI,CAACC,UAAU,CAACK,KAAK,CAAC,GAAG3J,SAAS,CAAC,CAAC,CAAA;AAC7E,GAAA;EAEA+J,MAAMA,CAAC3H,MAAM,EAAE;IACb,OAAO,IAAI,CAACuH,KAAK,CAACvH,MAAM,EAAEA,MAAM,GAAG,CAAC,CAAC,CAAA;AACvC,GAAA;EAEA4H,SAASA,CAAC7K,KAAK,EAAE;AACf,IAAA,OAAO,IAAI,CAACqK,WAAW,CAACR,GAAG,CAAC7J,KAAK,CAAC,CAACgK,UAAU,KAAK,IAAI,CAACA,UAAU,CAAA;AACnE,GAAA;AAEAc,EAAAA,MAAMA,GAAG;IACP,OAAO,IAAI,CAACd,UAAU,CAAA;AACxB,GAAA;AAEAe,EAAAA,WAAWA,GAAG;IACZ,OAAO,IAAI,CAACf,UAAU,CAAA;AACxB,GAAA;AAEAD,EAAAA,QAAQA,GAAG;IACT,OAAO,IAAI,CAACC,UAAU,CAAA;AACxB,GAAA;AACF,CAAA;AAEA,MAAMgB,YAAY,GAAG,CAAAC,CAAAA,WAAA,GAAAC,KAAK,CAACC,IAAI,MAAA,IAAA,IAAAF,WAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAVA,WAAA,CAAA1J,IAAA,CAAA2J,KAAK,EAAQ,cAAc,CAAC,CAACpK,MAAM,MAAK,CAAC,CAAA;AAC9D,MAAMsK,sBAAoB,GAAG,CAAAC,CAAAA,eAAA,IAAAC,GAAA,GAAA,GAAG,EAACC,WAAW,MAAA,IAAA,IAAAF,eAAA,KAAfA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,eAAA,CAAA9J,IAAA,CAAA+J,GAAA,EAAkB,CAAC,CAAC,KAAI,IAAI,CAAA;AACzD,MAAME,sBAAsB,GAAG,CAAAC,CAAAA,qBAAA,GAAAC,MAAM,CAACC,aAAa,MAAA,IAAA,IAAAF,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAApBA,qBAAA,CAAAlK,IAAA,CAAAmK,MAAM,EAAiB,EAAE,EAAE,MAAM,CAAC,MAAK,eAAe,CAAA;;AAErF;AACA;;AAEA,IAAIzB,UAAU,EAAEG,UAAU,CAAA;;AAE1B;AACA;AACA;AACA;AACA;AACA,IAAIY,YAAY,IAAII,sBAAoB,EAAE;EACxCnB,UAAU,GAAI3K,MAAM,IAAK4L,KAAK,CAACC,IAAI,CAAC7L,MAAM,CAAC,CAACsM,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACN,WAAW,CAAC,CAAC,CAAC,CAAC,CAAA;AAChF,CAAC,MAAM;AACLtB,EAAAA,UAAU,GAAG,UAAS3K,MAAM,EAAE;IAC5B,MAAMwM,MAAM,GAAG,EAAE,CAAA;IACjB,IAAIC,OAAO,GAAG,CAAC,CAAA;IACf,MAAM;AAAEjL,MAAAA,MAAAA;AAAO,KAAC,GAAGxB,MAAM,CAAA;IAEzB,OAAOyM,OAAO,GAAGjL,MAAM,EAAE;MACvB,IAAId,KAAK,GAAGV,MAAM,CAAC0M,UAAU,CAACD,OAAO,EAAE,CAAC,CAAA;MACxC,IAAI,MAAM,IAAI/L,KAAK,IAAIA,KAAK,IAAI,MAAM,IAAI+L,OAAO,GAAGjL,MAAM,EAAE;AAC1D;QACA,MAAMmL,KAAK,GAAG3M,MAAM,CAAC0M,UAAU,CAACD,OAAO,EAAE,CAAC,CAAA;AAC1C,QAAA,IAAI,CAACE,KAAK,GAAG,MAAM,MAAM,MAAM,EAAE;AAC/B;AACAjM,UAAAA,KAAK,GAAG,CAAC,CAACA,KAAK,GAAG,KAAK,KAAK,EAAE,KAAKiM,KAAK,GAAG,KAAK,CAAC,GAAG,OAAO,CAAA;AAC7D,SAAC,MAAM;AACL;AACA;AACAF,UAAAA,OAAO,EAAE,CAAA;AACX,SAAA;AACF,OAAA;AACAD,MAAAA,MAAM,CAAChG,IAAI,CAAC9F,KAAK,CAAC,CAAA;AACpB,KAAA;AAEA,IAAA,OAAO8L,MAAM,CAAA;GACd,CAAA;AACH,CAAA;;AAEA;AACA,IAAIN,sBAAsB,EAAE;AAC1BpB,EAAAA,UAAU,GAAI8B,KAAK,IAAKR,MAAM,CAACC,aAAa,CAAC,GAAGT,KAAK,CAACC,IAAI,CAACe,KAAK,IAAI,EAAE,CAAC,CAAC,CAAA;AAC1E,CAAC,MAAM;AACL9B,EAAAA,UAAU,GAAG,UAAS8B,KAAK,EAAE;IAC3B,MAAMC,UAAU,GAAG,CAAC,MAAM;MACxB,MAAMC,MAAM,GAAG,EAAE,CAAA;MAEjBlB,KAAK,CAACC,IAAI,CAACe,KAAK,CAAC,CAAC7G,OAAO,CAAErF,KAAK,IAAK;QACnC,IAAI8L,MAAM,GAAG,EAAE,CAAA;QACf,IAAI9L,KAAK,GAAG,MAAM,EAAE;AAClBA,UAAAA,KAAK,IAAI,OAAO,CAAA;AAChB8L,UAAAA,MAAM,IAAIJ,MAAM,CAACW,YAAY,CAACrM,KAAK,KAAK,EAAE,GAAG,KAAK,GAAG,MAAM,CAAC,CAAA;AAC5DA,UAAAA,KAAK,GAAG,MAAM,GAAGA,KAAK,GAAG,KAAK,CAAA;AAChC,SAAA;QACAoM,MAAM,CAACtG,IAAI,CAACgG,MAAM,GAAGJ,MAAM,CAACW,YAAY,CAACrM,KAAK,CAAC,CAAC,CAAA;AAClD,OAAC,CAAC,CAAA;AAEF,MAAA,OAAOoM,MAAM,CAAA;AACf,KAAC,GAAG,CAAA;AAEJ,IAAA,OAAOD,UAAU,CAACG,IAAI,CAAC,EAAE,CAAC,CAAA;GAC3B,CAAA;AACH;;AC3HA,IAAIjF,IAAE,GAAG,CAAC,CAAA;AAEK,MAAMkF,UAAU,SAAS5D,WAAW,CAAC;EAClD,OAAO6D,cAAcA,CAACC,UAAU,EAAE;IAChC,OAAO,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC3S,KAAK,CAACyS,UAAU,CAAC,CAAC,CAAA;AAC9C,GAAA;AAEApC,EAAAA,WAAWA,GAAG;IACZ,KAAK,CAAC,GAAGxJ,SAAS,CAAC,CAAA;AACnB,IAAA,IAAI,CAACwG,EAAE,GAAG,EAAEA,IAAE,CAAA;AAChB,GAAA;EAEAuF,oBAAoBA,CAACzD,MAAM,EAAE;IAC3B,OAAO,IAAI,CAACkB,WAAW,MAAKlB,MAAM,aAANA,MAAM,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAANA,MAAM,CAAEkB,WAAW,CAAA,CAAA;AACjD,GAAA;EAEAQ,SAASA,CAAC1B,MAAM,EAAE;IAChB,OAAO,IAAI,KAAKA,MAAM,CAAA;AACxB,GAAA;AAEA0D,EAAAA,OAAOA,GAAG;IACR,MAAMC,KAAK,GAAG,EAAE,CAAA;IAChB,MAAMC,QAAQ,GAAG,IAAI,CAACC,qBAAqB,EAAE,IAAI,EAAE,CAAA;AAEnD,IAAA,KAAK,MAAMjN,GAAG,IAAIgN,QAAQ,EAAE;AAC1B,MAAA,MAAM/M,KAAK,GAAG+M,QAAQ,CAAChN,GAAG,CAAC,CAAA;MAC3B+M,KAAK,CAAChH,IAAI,CAAA,EAAA,CAAAhH,MAAA,CAAIiB,GAAG,EAAA,GAAA,CAAA,CAAAjB,MAAA,CAAIkB,KAAK,CAAE,CAAC,CAAA;AAC/B,KAAA;AAEA,IAAA,OAAA,IAAA,CAAAlB,MAAA,CAAY,IAAI,CAACuL,WAAW,CAAC3Q,IAAI,EAAA,GAAA,CAAA,CAAAoF,MAAA,CAAI,IAAI,CAACuI,EAAE,CAAA,CAAAvI,MAAA,CAAGgO,KAAK,CAAChM,MAAM,GAAA,GAAA,CAAAhC,MAAA,CAAOgO,KAAK,CAACR,IAAI,CAAC,IAAI,CAAC,IAAK,EAAE,EAAA,GAAA,CAAA,CAAA;AAC3F,GAAA;EAEAU,qBAAqBA,GAAG,EAAC;AAEzBC,EAAAA,YAAYA,GAAG;AACb,IAAA,OAAON,IAAI,CAACO,SAAS,CAAC,IAAI,CAAC,CAAA;AAC7B,GAAA;AAEAC,EAAAA,aAAaA,GAAG;AACd,IAAA,OAAOvD,WAAW,CAACC,GAAG,CAAC,IAAI,CAAC,CAAA;AAC9B,GAAA;AAEAkB,EAAAA,WAAWA,GAAG;AACZ,IAAA,OAAO,IAAI,CAAC1D,EAAE,CAAC0C,QAAQ,EAAE,CAAA;AAC3B,GAAA;AACF;;AChDA;AACA;AACA;AACO,MAAMqD,cAAc,GAAG,YAAyB;AAAA,EAAA,IAAhBC,CAAC,GAAAxM,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAAA,EAAA,IAAEyM,CAAC,GAAAzM,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AACnD,EAAA,IAAIwM,CAAC,CAACvM,MAAM,KAAKwM,CAAC,CAACxM,MAAM,EAAE;AACzB,IAAA,OAAO,KAAK,CAAA;AACd,GAAA;AACA,EAAA,KAAK,IAAIyM,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGF,CAAC,CAACvM,MAAM,EAAEyM,KAAK,EAAE,EAAE;AAC7C,IAAA,MAAMvN,KAAK,GAAGqN,CAAC,CAACE,KAAK,CAAC,CAAA;AACtB,IAAA,IAAIvN,KAAK,KAAKsN,CAAC,CAACC,KAAK,CAAC,EAAE;AACtB,MAAA,OAAO,KAAK,CAAA;AACd,KAAA;AACF,GAAA;AACA,EAAA,OAAO,IAAI,CAAA;AACb,CAAC,CAAA;AAEM,MAAMC,eAAe,GAAG,YAAA;AAAA,EAAA,IAACH,CAAC,GAAAxM,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAAA,EAAA,IAAEyM,CAAC,GAAAzM,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAAA,EAAA,OAAKuM,cAAc,CAACC,CAAC,CAAC7C,KAAK,CAAC,CAAC,EAAE8C,CAAC,CAACxM,MAAM,CAAC,EAAEwM,CAAC,CAAC,CAAA;AAAA,CAAA,CAAA;AAEnF,MAAMG,WAAW,GAAG,UAASvB,KAAK,EAAW;AAClD,EAAA,MAAME,MAAM,GAAGF,KAAK,CAAC1B,KAAK,CAAC,CAAC,CAAC,CAAA;EAAA,KAAAkD,IAAAA,IAAA,GAAA7M,SAAA,CAAAC,MAAA,EADe2I,IAAI,OAAAyB,KAAA,CAAAwC,IAAA,GAAAA,CAAAA,GAAAA,IAAA,WAAAC,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA,EAAA,EAAA;AAAJlE,IAAAA,IAAI,CAAAkE,IAAA,GAAA9M,CAAAA,CAAAA,GAAAA,SAAA,CAAA8M,IAAA,CAAA,CAAA;AAAA,GAAA;AAEhDvB,EAAAA,MAAM,CAACwB,MAAM,CAAC,GAAGnE,IAAI,CAAC,CAAA;AACtB,EAAA,OAAO2C,MAAM,CAAA;AACf,CAAC,CAAA;AAEM,MAAMyB,oBAAoB,GAAG,YAAuC;AAAA,EAAA,IAA9BC,QAAQ,GAAAjN,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAAA,EAAA,IAAEkN,QAAQ,GAAAlN,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EACvE,MAAMmN,KAAK,GAAG,EAAE,CAAA;EAChB,MAAMC,OAAO,GAAG,EAAE,CAAA;AAElB,EAAA,MAAMC,cAAc,GAAG,IAAIC,GAAG,EAAE,CAAA;AAEhCL,EAAAA,QAAQ,CAACzI,OAAO,CAAErF,KAAK,IAAK;AAC1BkO,IAAAA,cAAc,CAAC3I,GAAG,CAACvF,KAAK,CAAC,CAAA;AAC3B,GAAC,CAAC,CAAA;AAEF,EAAA,MAAMoO,aAAa,GAAG,IAAID,GAAG,EAAE,CAAA;AAE/BJ,EAAAA,QAAQ,CAAC1I,OAAO,CAAErF,KAAK,IAAK;AAC1BoO,IAAAA,aAAa,CAAC7I,GAAG,CAACvF,KAAK,CAAC,CAAA;AACxB,IAAA,IAAI,CAACkO,cAAc,CAACG,GAAG,CAACrO,KAAK,CAAC,EAAE;AAC9BgO,MAAAA,KAAK,CAAClI,IAAI,CAAC9F,KAAK,CAAC,CAAA;AACnB,KAAA;AACF,GAAC,CAAC,CAAA;AAEF8N,EAAAA,QAAQ,CAACzI,OAAO,CAAErF,KAAK,IAAK;AAC1B,IAAA,IAAI,CAACoO,aAAa,CAACC,GAAG,CAACrO,KAAK,CAAC,EAAE;AAC7BiO,MAAAA,OAAO,CAACnI,IAAI,CAAC9F,KAAK,CAAC,CAAA;AACrB,KAAA;AACF,GAAC,CAAC,CAAA;EAEF,OAAO;IAAEgO,KAAK;AAAEC,IAAAA,OAAAA;GAAS,CAAA;AAC3B,CAAC;;AChDD;AACA,MAAMK,WAAW,GACf,oVAAoV,CAAA;AAE/U,MAAMC,YAAY,GAAI,YAAW;AACtC,EAAA,MAAM3H,KAAK,GAAGlC,WAAW,CAAC,OAAO,EAAE;AAAE8J,IAAAA,GAAG,EAAE,MAAM;AAAE9U,IAAAA,IAAI,EAAE,GAAG;AAAE+U,IAAAA,OAAO,EAAE,OAAA;AAAQ,GAAC,CAAC,CAAA;AAChF,EAAA,MAAMC,QAAQ,GAAGhK,WAAW,CAAC,UAAU,EAAE;AAAE8J,IAAAA,GAAG,EAAE,MAAM;AAAE9U,IAAAA,IAAI,EAAE,GAAG;AAAE+U,IAAAA,OAAO,EAAE,OAAA;AAAQ,GAAC,CAAC,CAAA;AACtF,EAAA,MAAME,IAAI,GAAGjK,WAAW,CAAC,MAAM,CAAC,CAAA;AAChCiK,EAAAA,IAAI,CAACjJ,WAAW,CAACkB,KAAK,CAAC,CAAA;AACvB+H,EAAAA,IAAI,CAACjJ,WAAW,CAACgJ,QAAQ,CAAC,CAAA;EAE1B,MAAME,eAAe,GAAI,YAAW;IAClC,IAAI;MACF,OAAO,IAAIC,QAAQ,CAACF,IAAI,CAAC,CAACN,GAAG,CAACK,QAAQ,CAACD,OAAO,CAAC,CAAA;KAChD,CAAC,OAAOK,KAAK,EAAE;AACd,MAAA,OAAO,KAAK,CAAA;AACd,KAAA;AACF,GAAC,EAAG,CAAA;EAEJ,MAAMC,mBAAmB,GAAI,YAAW;IACtC,IAAI;AACF,MAAA,OAAOnI,KAAK,CAACxG,OAAO,CAAC,qBAAqB,CAAC,CAAA;KAC5C,CAAC,OAAO0O,KAAK,EAAE;AACd,MAAA,OAAO,KAAK,CAAA;AACd,KAAA;AACF,GAAC,EAAG,CAAA;AAEJ,EAAA,IAAIF,eAAe,EAAE;IACnB,OAAO,UAAStP,MAAM,EAAE;MACtBoP,QAAQ,CAAC1O,KAAK,GAAGV,MAAM,CAAA;MACvB,OAAO,IAAIuP,QAAQ,CAACF,IAAI,CAAC,CAACK,GAAG,CAACN,QAAQ,CAACD,OAAO,CAAC,CAAA;KAChD,CAAA;GACF,MAAM,IAAIM,mBAAmB,EAAE;IAC9B,OAAO,UAASzP,MAAM,EAAE;MACtBsH,KAAK,CAAC5G,KAAK,GAAGV,MAAM,CAAA;AACpB,MAAA,IAAIsH,KAAK,CAACxG,OAAO,CAAC,WAAW,CAAC,EAAE;AAC9B,QAAA,OAAO,KAAK,CAAA;AACd,OAAC,MAAM;AACL,QAAA,OAAO,KAAK,CAAA;AACd,OAAA;KACD,CAAA;AACH,GAAC,MAAM;IACL,OAAO,UAASd,MAAM,EAAE;MACtB,MAAMuM,IAAI,GAAGvM,MAAM,CAAC2P,IAAI,EAAE,CAACrE,MAAM,CAAC,CAAC,CAAC,CAAA;AACpC,MAAA,IAAI0D,WAAW,CAACxT,IAAI,CAAC+Q,IAAI,CAAC,EAAE;AAC1B,QAAA,OAAO,KAAK,CAAA;AACd,OAAC,MAAM;AACL,QAAA,OAAO,KAAK,CAAA;AACd,OAAA;KACD,CAAA;AACH,GAAA;AACF,CAAC,EAAG;;ACnDJ,IAAIqD,iBAAiB,GAAG,IAAI,CAAA;AAC5B,IAAIC,mBAAmB,GAAG,IAAI,CAAA;AAC9B,IAAIC,kBAAkB,GAAG,IAAI,CAAA;AAC7B,IAAIC,kBAAkB,GAAG,IAAI,CAAA;AAEtB,MAAMC,oBAAoB,GAAGA,MAAM;EACxC,IAAI,CAACJ,iBAAiB,EAAE;IACtBA,iBAAiB,GAAGK,qBAAqB,EAAE,CAACzQ,MAAM,CAAC0Q,sBAAsB,EAAE,CAAC,CAAA;AAC9E,GAAA;AACA,EAAA,OAAON,iBAAiB,CAAA;AAC1B,CAAC,CAAA;AAEM,MAAMO,cAAc,GAAIC,aAAa,IAAKC,UAAsB,CAACD,aAAa,CAAC,CAAA;AAE/E,MAAMF,sBAAsB,GAAGA,MAAM;EAC1C,IAAI,CAACL,mBAAmB,EAAE;IACxBA,mBAAmB,GAAGS,MAAM,CAACC,IAAI,CAACF,UAAsB,CAAC,CAAA;AAC3D,GAAA;AACA,EAAA,OAAOR,mBAAmB,CAAA;AAC5B,CAAC,CAAA;AAEM,MAAMW,aAAa,GAAIJ,aAAa,IAAKC,eAAqB,CAACD,aAAa,CAAC,CAAA;AAE7E,MAAMH,qBAAqB,GAAGA,MAAM;EACzC,IAAI,CAACH,kBAAkB,EAAE;IACvBA,kBAAkB,GAAGQ,MAAM,CAACC,IAAI,CAACF,eAAqB,CAAC,CAAA;AACzD,GAAA;AACA,EAAA,OAAOP,kBAAkB,CAAA;AAC3B,CAAC,CAAA;AAEM,MAAMW,qBAAqB,GAAGA,MAAM;EACzC,IAAI,CAACV,kBAAkB,EAAE;AACvBA,IAAAA,kBAAkB,GAAG,EAAE,CAAA;AACvB,IAAA,KAAK,MAAMtP,GAAG,IAAI4P,UAAsB,EAAE;MACxC,MAAM;AAAE9U,QAAAA,aAAAA;AAAc,OAAC,GAAG8U,UAAsB,CAAC5P,GAAG,CAAC,CAAA;MACrD,IAAIlF,aAAa,IAAI,IAAI,EAAE;AACzBwU,QAAAA,kBAAkB,CAACvJ,IAAI,CAACjL,aAAa,CAAC,CAAA;AACxC,OAAA;AACF,KAAA;AACF,GAAA;AACA,EAAA,OAAOwU,kBAAkB,CAAA;AAC3B,CAAC;;AC3CD;AACA;AACO,MAAMW,2BAA2B,GAAG,UAASjW,OAAO,EAAEkW,UAAU,EAAE;AACvE,EAAA,MAAMC,YAAY,GAAGC,4BAA4B,CAACpW,OAAO,CAAC,CAAA;EAC1DmW,YAAY,CAAC1K,WAAW,GAAGyK,UAAU,CAACxQ,OAAO,CAAC,KAAK,EAAE1F,OAAO,CAAC,CAAA;AAC/D,CAAC,CAAA;AAED,MAAMoW,4BAA4B,GAAG,UAASpW,OAAO,EAAE;AACrD,EAAA,MAAMgB,OAAO,GAAGmF,QAAQ,CAAC0E,aAAa,CAAC,OAAO,CAAC,CAAA;AAC/C7J,EAAAA,OAAO,CAACgK,YAAY,CAAC,MAAM,EAAE,UAAU,CAAC,CAAA;EACxChK,OAAO,CAACgK,YAAY,CAAC,eAAe,EAAEhL,OAAO,CAACuB,WAAW,EAAE,CAAC,CAAA;AAC5D,EAAA,MAAM8U,KAAK,GAAGC,WAAW,EAAE,CAAA;AAC3B,EAAA,IAAID,KAAK,EAAE;AACTrV,IAAAA,OAAO,CAACgK,YAAY,CAAC,OAAO,EAAEqL,KAAK,CAAC,CAAA;AACtC,GAAA;AACAlQ,EAAAA,QAAQ,CAACoQ,IAAI,CAACC,YAAY,CAACxV,OAAO,EAAEmF,QAAQ,CAACoQ,IAAI,CAACnN,UAAU,CAAC,CAAA;AAC7D,EAAA,OAAOpI,OAAO,CAAA;AAChB,CAAC,CAAA;AAED,MAAMsV,WAAW,GAAG,YAAW;EAC7B,MAAMtV,OAAO,GAAGyV,cAAc,CAAC,gBAAgB,CAAC,IAAIA,cAAc,CAAC,WAAW,CAAC,CAAA;AAC/E,EAAA,IAAIzV,OAAO,EAAE;IACX,MAAM;MAAEqV,KAAK;AAAEK,MAAAA,OAAAA;AAAQ,KAAC,GAAG1V,OAAO,CAAA;AAClC,IAAA,OAAOqV,KAAK,IAAI,EAAE,GAAGK,OAAO,GAAGL,KAAK,CAAA;AACtC,GAAA;AACF,CAAC,CAAA;AAED,MAAMI,cAAc,GAAI9W,IAAI,IAAKwG,QAAQ,CAACoQ,IAAI,CAACI,aAAa,CAAA5R,YAAAA,CAAAA,MAAA,CAAcpF,IAAI,MAAG,CAAC;;AC3BlF,MAAMiX,gBAAgB,GAAG;AAAE,EAAA,sCAAsC,EAAE,MAAA;AAAO,CAAC,CAAA;AAEpE,MAAMC,uBAAuB,GAAG,UAASC,YAAY,EAAE;AAC5D,EAAA,MAAMpW,IAAI,GAAGoW,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAA;AAC/C,EAAA,MAAM7Q,IAAI,GAAG4Q,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAA;EAE9C,IAAIrW,IAAI,IAAIwF,IAAI,EAAE;IAChB,MAAM;AAAEwH,MAAAA,IAAAA;KAAM,GAAG,IAAIsJ,SAAS,EAAE,CAACC,eAAe,CAAC/Q,IAAI,EAAE,WAAW,CAAC,CAAA;AACnE,IAAA,IAAIwH,IAAI,CAACjC,WAAW,KAAK/K,IAAI,EAAE;AAC7B,MAAA,OAAO,CAACgN,IAAI,CAACiJ,aAAa,CAAC,GAAG,CAAC,CAAA;AACjC,KAAA;AACF,GAAC,MAAM;AACL,IAAA,OAAOjW,IAAI,KAAJA,IAAAA,IAAAA,IAAI,KAAJA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,IAAI,CAAEqG,MAAM,CAAA;AACrB,GAAA;AACF,CAAC,CAAA;AAEM,MAAMmQ,2BAA2B,GAAGC,IAAA,IAAsB;EAAA,IAArB;AAAEL,IAAAA,YAAAA;AAAa,GAAC,GAAAK,IAAA,CAAA;AAC1D,EAAA,OAAOL,YAAY,CAACM,KAAK,CAACjL,QAAQ,CAAC,OAAO,CAAC,IACzC2K,YAAY,CAACM,KAAK,CAACjL,QAAQ,CAAC,WAAW,CAAC,IACxC2K,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC5K,QAAQ,CAAC,yCAAyC,CAAC,CAAA;AACzF,CAAC,CAAA;AAEM,MAAMkL,sBAAsB,GAAG,UAASP,YAAY,EAAE;EAC3D,IAAI,EAACA,YAAY,KAAA,IAAA,IAAZA,YAAY,KAAA,KAAA,CAAA,IAAZA,YAAY,CAAEQ,OAAO,CAAE,EAAA,OAAO,KAAK,CAAA;AAExC,EAAA,KAAK,MAAMtR,GAAG,IAAI4Q,gBAAgB,EAAE;AAClC,IAAA,MAAM3Q,KAAK,GAAG2Q,gBAAgB,CAAC5Q,GAAG,CAAC,CAAA;IAEnC,IAAI;AACF8Q,MAAAA,YAAY,CAACQ,OAAO,CAACtR,GAAG,EAAEC,KAAK,CAAC,CAAA;MAChC,IAAI,CAAC6Q,YAAY,CAACC,OAAO,CAAC/Q,GAAG,CAAC,KAAKC,KAAK,EAAE,OAAO,KAAK,CAAA;KACvD,CAAC,OAAO8O,KAAK,EAAE;AACd,MAAA,OAAO,KAAK,CAAA;AACd,KAAA;AACF,GAAA;AACA,EAAA,OAAO,IAAI,CAAA;AACb,CAAC,CAAA;AAEM,MAAMwC,yBAAyB,GAAI,YAAW;EACnD,IAAI,SAAS,CAACxW,IAAI,CAACU,SAAS,CAAC+V,QAAQ,CAAC,EAAE;AACtC,IAAA,OAAQpQ,KAAK,IAAKA,KAAK,CAACqQ,OAAO,CAAA;AACjC,GAAC,MAAM;AACL,IAAA,OAAQrQ,KAAK,IAAKA,KAAK,CAACsQ,OAAO,CAAA;AACjC,GAAA;AACF,CAAC,EAAG,CAAA;AAEG,SAASC,8CAA8CA,CAACC,UAAU,EAAE;EACzE,IAAI,aAAa,CAAC7W,IAAI,CAACU,SAAS,CAACC,SAAS,CAAC,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;IACA,OAAO,CAACkW,UAAU,CAACC,SAAS,IAAID,UAAU,CAACC,SAAS,KAAK,iBAAiB,CAAA;AAC5E,GAAC,MAAM;AACL,IAAA,OAAO,KAAK,CAAA;AACd,GAAA;AACF;;AC1DO,MAAMC,KAAK,GAAIC,EAAE,IAAKC,UAAU,CAACD,EAAE,EAAE,CAAC,CAAC;;ACA9C;AACA;AACA;AACO,MAAME,UAAU,GAAG,YAAsB;AAAA,EAAA,IAAb7I,MAAM,GAAAtI,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAC5C,MAAMuL,MAAM,GAAG,EAAE,CAAA;AACjB,EAAA,KAAK,MAAMrM,GAAG,IAAIoJ,MAAM,EAAE;AACxB,IAAA,MAAMnJ,KAAK,GAAGmJ,MAAM,CAACpJ,GAAG,CAAC,CAAA;AACzBqM,IAAAA,MAAM,CAACrM,GAAG,CAAC,GAAGC,KAAK,CAAA;AACrB,GAAA;AACA,EAAA,OAAOoM,MAAM,CAAA;AACf,CAAC,CAAA;AAEM,MAAM6F,eAAe,GAAG,YAAyB;AAAA,EAAA,IAAhB5E,CAAC,GAAAxM,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAAA,EAAA,IAAEyM,CAAC,GAAAzM,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AACpD,EAAA,IAAI+O,MAAM,CAACC,IAAI,CAACxC,CAAC,CAAC,CAACvM,MAAM,KAAK8O,MAAM,CAACC,IAAI,CAACvC,CAAC,CAAC,CAACxM,MAAM,EAAE;AACnD,IAAA,OAAO,KAAK,CAAA;AACd,GAAA;AACA,EAAA,KAAK,MAAMf,GAAG,IAAIsN,CAAC,EAAE;AACnB,IAAA,MAAMrN,KAAK,GAAGqN,CAAC,CAACtN,GAAG,CAAC,CAAA;AACpB,IAAA,IAAIC,KAAK,KAAKsN,CAAC,CAACvN,GAAG,CAAC,EAAE;AACpB,MAAA,OAAO,KAAK,CAAA;AACd,KAAA;AACF,GAAA;AACA,EAAA,OAAO,IAAI,CAAA;AACb,CAAC;;ACrBM,MAAMmS,cAAc,GAAG,UAASC,KAAK,EAAE;EAC5C,IAAIA,KAAK,IAAI,IAAI,EAAE,OAAA;AAEnB,EAAA,IAAI,CAACjH,KAAK,CAACkH,OAAO,CAACD,KAAK,CAAC,EAAE;AACzBA,IAAAA,KAAK,GAAG,CAAEA,KAAK,EAAEA,KAAK,CAAE,CAAA;AAC1B,GAAA;AACA,EAAA,OAAO,CAAEE,SAAS,CAACF,KAAK,CAAC,CAAC,CAAC,CAAC,EAAEE,SAAS,CAACF,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAE,CAAA;AACnF,CAAC,CAAA;AAEM,MAAMG,gBAAgB,GAAG,UAASH,KAAK,EAAE;EAC9C,IAAIA,KAAK,IAAI,IAAI,EAAE,OAAA;EAEnB,MAAM,CAAEI,KAAK,EAAEC,GAAG,CAAE,GAAGN,cAAc,CAACC,KAAK,CAAC,CAAA;AAC5C,EAAA,OAAOM,mBAAmB,CAACF,KAAK,EAAEC,GAAG,CAAC,CAAA;AACxC,CAAC,CAAA;AAEM,MAAME,cAAc,GAAG,UAASC,SAAS,EAAEC,UAAU,EAAE;AAC5D,EAAA,IAAID,SAAS,IAAI,IAAI,IAAIC,UAAU,IAAI,IAAI,EAAE,OAAA;EAE7C,MAAM,CAAEC,SAAS,EAAEC,OAAO,CAAE,GAAGZ,cAAc,CAACS,SAAS,CAAC,CAAA;EACxD,MAAM,CAAEI,UAAU,EAAEC,QAAQ,CAAE,GAAGd,cAAc,CAACU,UAAU,CAAC,CAAA;AAC3D,EAAA,OAAOH,mBAAmB,CAACI,SAAS,EAAEE,UAAU,CAAC,IAAIN,mBAAmB,CAACK,OAAO,EAAEE,QAAQ,CAAC,CAAA;AAC7F,CAAC,CAAA;AAED,MAAMX,SAAS,GAAG,UAASrS,KAAK,EAAE;AAChC,EAAA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;AAC7B,IAAA,OAAOA,KAAK,CAAA;AACd,GAAC,MAAM;IACL,OAAOgS,UAAU,CAAChS,KAAK,CAAC,CAAA;AAC1B,GAAA;AACF,CAAC,CAAA;AAED,MAAMyS,mBAAmB,GAAG,UAASQ,IAAI,EAAEC,KAAK,EAAE;AAChD,EAAA,IAAI,OAAOD,IAAI,KAAK,QAAQ,EAAE;IAC5B,OAAOA,IAAI,KAAKC,KAAK,CAAA;AACvB,GAAC,MAAM;AACL,IAAA,OAAOjB,eAAe,CAACgB,IAAI,EAAEC,KAAK,CAAC,CAAA;AACrC,GAAA;AACF,CAAC;;ACtCc,MAAMC,uBAAuB,SAASxK,WAAW,CAAC;AAC/D0B,EAAAA,WAAWA,GAAG;IACZ,KAAK,CAAC,GAAGxJ,SAAS,CAAC,CAAA;IACnB,IAAI,CAACuS,MAAM,GAAG,IAAI,CAACA,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC,CAAA;IACpC,IAAI,CAACC,iBAAiB,GAAG,EAAE,CAAA;AAC7B,GAAA;AAEAf,EAAAA,KAAKA,GAAG;AACN,IAAA,IAAI,CAAC,IAAI,CAACgB,OAAO,EAAE;MACjB,IAAI,CAACA,OAAO,GAAG,IAAI,CAAA;MACnBrT,QAAQ,CAACuB,gBAAgB,CAAC,iBAAiB,EAAE,IAAI,CAAC2R,MAAM,EAAE,IAAI,CAAC,CAAA;AACjE,KAAA;AACF,GAAA;AAEAI,EAAAA,IAAIA,GAAG;IACL,IAAI,IAAI,CAACD,OAAO,EAAE;MAChB,IAAI,CAACA,OAAO,GAAG,KAAK,CAAA;MACpB,OAAOrT,QAAQ,CAACsB,mBAAmB,CAAC,iBAAiB,EAAE,IAAI,CAAC4R,MAAM,EAAE,IAAI,CAAC,CAAA;AAC3E,KAAA;AACF,GAAA;EAEAK,wBAAwBA,CAACC,gBAAgB,EAAE;IACzC,IAAI,CAAC,IAAI,CAACJ,iBAAiB,CAACpN,QAAQ,CAACwN,gBAAgB,CAAC,EAAE;AACtD,MAAA,IAAI,CAACJ,iBAAiB,CAACxN,IAAI,CAAC4N,gBAAgB,CAAC,CAAA;AAC7C,MAAA,OAAO,IAAI,CAACnB,KAAK,EAAE,CAAA;AACrB,KAAA;AACF,GAAA;EAEAoB,0BAA0BA,CAACD,gBAAgB,EAAE;AAC3C,IAAA,IAAI,CAACJ,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,CAACM,MAAM,CAAEC,EAAE,IAAKA,EAAE,KAAKH,gBAAgB,CAAC,CAAA;AACvF,IAAA,IAAI,IAAI,CAACJ,iBAAiB,CAACxS,MAAM,KAAK,CAAC,EAAE;AACvC,MAAA,OAAO,IAAI,CAAC0S,IAAI,EAAE,CAAA;AACpB,KAAA;AACF,GAAA;AAEAM,EAAAA,wCAAwCA,GAAG;AACzC,IAAA,OAAO,IAAI,CAACR,iBAAiB,CAAC1H,GAAG,CAAE8H,gBAAgB,IAAKA,gBAAgB,CAACK,kBAAkB,EAAE,CAAC,CAAA;AAChG,GAAA;AAEAX,EAAAA,MAAMA,GAAG;IACP,IAAI,CAACU,wCAAwC,EAAE,CAAA;AACjD,GAAA;AAEAE,EAAAA,KAAKA,GAAG;IACN,IAAI,CAACZ,MAAM,EAAE,CAAA;AACf,GAAA;AACF,CAAA;AAEO,MAAMa,uBAAuB,GAAG,IAAId,uBAAuB,EAAE,CAAA;AAE7D,MAAMe,eAAe,GAAG,YAAW;AACxC,EAAA,MAAMC,SAAS,GAAGnM,MAAM,CAACoM,YAAY,EAAE,CAAA;AACvC,EAAA,IAAID,SAAS,CAACE,UAAU,GAAG,CAAC,EAAE;AAC5B,IAAA,OAAOF,SAAS,CAAA;AAClB,GAAA;AACF,CAAC,CAAA;AAEM,MAAMG,WAAW,GAAG,YAAW;AAAA,EAAA,IAAAC,gBAAA,CAAA;AACpC,EAAA,MAAMC,QAAQ,GAAA,CAAAD,gBAAA,GAAGL,eAAe,EAAE,MAAAK,IAAAA,IAAAA,gBAAA,uBAAjBA,gBAAA,CAAmBE,UAAU,CAAC,CAAC,CAAC,CAAA;AACjD,EAAA,IAAID,QAAQ,EAAE;AACZ,IAAA,IAAI,CAACE,iBAAiB,CAACF,QAAQ,CAAC,EAAE;AAChC,MAAA,OAAOA,QAAQ,CAAA;AACjB,KAAA;AACF,GAAA;AACF,CAAC,CAAA;AAEM,MAAMG,WAAW,GAAG,UAASH,QAAQ,EAAE;AAC5C,EAAA,MAAML,SAAS,GAAGnM,MAAM,CAACoM,YAAY,EAAE,CAAA;EACvCD,SAAS,CAACS,eAAe,EAAE,CAAA;AAC3BT,EAAAA,SAAS,CAACU,QAAQ,CAACL,QAAQ,CAAC,CAAA;AAC5B,EAAA,OAAOP,uBAAuB,CAACb,MAAM,EAAE,CAAA;AACzC,CAAC,CAAA;;AAED;AACA;AACA;AACA;AACA,MAAMsB,iBAAiB,GAAIF,QAAQ,IAAKM,aAAa,CAACN,QAAQ,CAACO,cAAc,CAAC,IAAID,aAAa,CAACN,QAAQ,CAACQ,YAAY,CAAC,CAAA;AAEtH,MAAMF,aAAa,GAAI1S,IAAI,IAAK,CAACwN,MAAM,CAACqF,cAAc,CAAC7S,IAAI,CAAC;;ACjF5D;AACA;AACA;AACA;AAIO,MAAM8S,eAAe,GAAI5V,MAAM,IACpCA,MAAM,CAACG,OAAO,CAAC,IAAIkK,MAAM,CAAA,EAAA,CAAA7K,MAAA,CAAIY,gBAAgB,CAAI,EAAA,GAAG,CAAC,EAAE,EAAE,CAAC,CAACD,OAAO,CAAC,IAAIkK,MAAM,CAAA,EAAA,CAAA7K,MAAA,CAAIa,kBAAkB,CAAI,EAAA,GAAG,CAAC,EAAE,GAAG,CAAC,CAAA;AAE5G,MAAMwV,iBAAiB,GAAI7V,MAAM,IAAKA,MAAM,CAACG,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAA;AAEpE,MAAM2V,0BAA0B,GAAG,IAAIzL,MAAM,SAAA7K,MAAA,CAASa,kBAAkB,EAAA,GAAA,CAAG,CAAC,CAAA;AAE5E,MAAM0V,yBAAyB,GAAI/V,MAAM,IAC9CA,MAAAA;AACE;AAAA,CACCG,OAAO,CAAC,IAAIkK,MAAM,IAAA7K,MAAA,CAAIsW,0BAA0B,CAACE,MAAM,CAAA,EAAI,GAAG,CAAC,EAAE,GAAG,CAAA;AACrE;AAAA,CACC7V,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,CAAA;AAErB,MAAM8V,qBAAqB,GAAG,UAASC,SAAS,EAAEC,SAAS,EAAE;EAClE,IAAIzH,KAAK,EAAEC,OAAO,CAAA;AAClBuH,EAAAA,SAAS,GAAG5L,WAAW,CAACC,GAAG,CAAC2L,SAAS,CAAC,CAAA;AACtCC,EAAAA,SAAS,GAAG7L,WAAW,CAACC,GAAG,CAAC4L,SAAS,CAAC,CAAA;AAEtC,EAAA,IAAIA,SAAS,CAAC3U,MAAM,GAAG0U,SAAS,CAAC1U,MAAM,EAAE;IACvC,CAAEmN,OAAO,EAAED,KAAK,CAAE,GAAG0H,sBAAsB,CAACF,SAAS,EAAEC,SAAS,CAAC,CAAA;AACnE,GAAC,MAAM;IACL,CAAEzH,KAAK,EAAEC,OAAO,CAAE,GAAGyH,sBAAsB,CAACD,SAAS,EAAED,SAAS,CAAC,CAAA;AACnE,GAAA;EAEA,OAAO;IAAExH,KAAK;AAAEC,IAAAA,OAAAA;GAAS,CAAA;AAC3B,CAAC,CAAA;AAED,MAAMyH,sBAAsB,GAAG,UAASrI,CAAC,EAAEC,CAAC,EAAE;AAC5C,EAAA,IAAID,CAAC,CAACxC,SAAS,CAACyC,CAAC,CAAC,EAAE;AAClB,IAAA,OAAO,CAAE,EAAE,EAAE,EAAE,CAAE,CAAA;AACnB,GAAA;AAEA,EAAA,MAAMqI,KAAK,GAAGC,qBAAqB,CAACvI,CAAC,EAAEC,CAAC,CAAC,CAAA;EACzC,MAAM;AAAExM,IAAAA,MAAAA;GAAQ,GAAG6U,KAAK,CAACE,WAAW,CAAA;AAEpC,EAAA,IAAIC,KAAK,CAAA;AAET,EAAA,IAAIhV,MAAM,EAAE;IACV,MAAM;AAAEmC,MAAAA,MAAAA;AAAO,KAAC,GAAG0S,KAAK,CAAA;IACxB,MAAMxL,UAAU,GAAGkD,CAAC,CAAClD,UAAU,CAACK,KAAK,CAAC,CAAC,EAAEvH,MAAM,CAAC,CAACnE,MAAM,CAACuO,CAAC,CAAClD,UAAU,CAACK,KAAK,CAACvH,MAAM,GAAGnC,MAAM,CAAC,CAAC,CAAA;IAC5FgV,KAAK,GAAGF,qBAAqB,CAACtI,CAAC,EAAE1D,WAAW,CAACM,cAAc,CAACC,UAAU,CAAC,CAAC,CAAA;AAC1E,GAAC,MAAM;AACL2L,IAAAA,KAAK,GAAGF,qBAAqB,CAACtI,CAAC,EAAED,CAAC,CAAC,CAAA;AACrC,GAAA;AAEA,EAAA,OAAO,CAAEsI,KAAK,CAACE,WAAW,CAAC9L,QAAQ,EAAE,EAAE+L,KAAK,CAACD,WAAW,CAAC9L,QAAQ,EAAE,CAAE,CAAA;AACvE,CAAC,CAAA;AAED,MAAM6L,qBAAqB,GAAG,UAASvI,CAAC,EAAEC,CAAC,EAAE;EAC3C,IAAIyI,SAAS,GAAG,CAAC,CAAA;AACjB,EAAA,IAAIC,WAAW,GAAG3I,CAAC,CAACvM,MAAM,CAAA;AAC1B,EAAA,IAAImV,WAAW,GAAG3I,CAAC,CAACxM,MAAM,CAAA;EAE1B,OAAOiV,SAAS,GAAGC,WAAW,IAAI3I,CAAC,CAACzC,MAAM,CAACmL,SAAS,CAAC,CAAClL,SAAS,CAACyC,CAAC,CAAC1C,MAAM,CAACmL,SAAS,CAAC,CAAC,EAAE;AACpFA,IAAAA,SAAS,EAAE,CAAA;AACb,GAAA;EAEA,OAAOC,WAAW,GAAGD,SAAS,GAAG,CAAC,IAAI1I,CAAC,CAACzC,MAAM,CAACoL,WAAW,GAAG,CAAC,CAAC,CAACnL,SAAS,CAACyC,CAAC,CAAC1C,MAAM,CAACqL,WAAW,GAAG,CAAC,CAAC,CAAC,EAAE;AACpGD,IAAAA,WAAW,EAAE,CAAA;AACbC,IAAAA,WAAW,EAAE,CAAA;AACf,GAAA;EAEA,OAAO;IACLJ,WAAW,EAAExI,CAAC,CAAC7C,KAAK,CAACuL,SAAS,EAAEC,WAAW,CAAC;AAC5C/S,IAAAA,MAAM,EAAE8S,SAAAA;GACT,CAAA;AACH,CAAC;;ACvEc,MAAMG,IAAI,SAAS3J,UAAU,CAAC;EAC3C,OAAO4J,6BAA6BA,GAAe;AAAA,IAAA,IAAdC,OAAO,GAAAvV,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAC/C,IAAA,IAAI,CAACuV,OAAO,CAACtV,MAAM,EAAE;MACnB,OAAO,IAAI,IAAI,EAAE,CAAA;AACnB,KAAA;IACA,IAAIuV,IAAI,GAAGxM,GAAG,CAACuM,OAAO,CAAC,CAAC,CAAC,CAAC,CAAA;AAC1B,IAAA,IAAIvG,IAAI,GAAGwG,IAAI,CAACC,OAAO,EAAE,CAAA;IAEzBF,OAAO,CAAC5L,KAAK,CAAC,CAAC,CAAC,CAACnF,OAAO,CAAE8D,MAAM,IAAK;MACnC0G,IAAI,GAAGwG,IAAI,CAACE,mBAAmB,CAAC1M,GAAG,CAACV,MAAM,CAAC,CAAC,CAAA;AAC5CkN,MAAAA,IAAI,GAAGA,IAAI,CAAC7L,KAAK,CAACqF,IAAI,CAAC,CAAA;AACzB,KAAC,CAAC,CAAA;AAEF,IAAA,OAAOwG,IAAI,CAAA;AACb,GAAA;EAEA,OAAOxM,GAAGA,CAAC2M,MAAM,EAAE;IACjB,OAAO3M,GAAG,CAAC2M,MAAM,CAAC,CAAA;AACpB,GAAA;AAEAnM,EAAAA,WAAWA,GAAc;AAAA,IAAA,IAAbmM,MAAM,GAAA3V,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IACrB,KAAK,CAAC,GAAGA,SAAS,CAAC,CAAA;AACnB,IAAA,IAAI,CAAC2V,MAAM,GAAGC,IAAI,CAACD,MAAM,CAAC,CAAA;AAC5B,GAAA;AAEAjR,EAAAA,GAAGA,CAACxF,GAAG,EAAEC,KAAK,EAAE;IACd,OAAO,IAAI,CAAC0W,KAAK,CAACvN,MAAM,CAACpJ,GAAG,EAAEC,KAAK,CAAC,CAAC,CAAA;AACvC,GAAA;EAEAlC,MAAMA,CAACiC,GAAG,EAAE;IACV,OAAO,IAAImW,IAAI,CAACO,IAAI,CAAC,IAAI,CAACD,MAAM,EAAEzW,GAAG,CAAC,CAAC,CAAA;AACzC,GAAA;EAEAiP,GAAGA,CAACjP,GAAG,EAAE;AACP,IAAA,OAAO,IAAI,CAACyW,MAAM,CAACzW,GAAG,CAAC,CAAA;AACzB,GAAA;EAEAsO,GAAGA,CAACtO,GAAG,EAAE;AACP,IAAA,OAAOA,GAAG,IAAI,IAAI,CAACyW,MAAM,CAAA;AAC3B,GAAA;EAEAE,KAAKA,CAACF,MAAM,EAAE;AACZ,IAAA,OAAO,IAAIN,IAAI,CAACQ,KAAK,CAAC,IAAI,CAACF,MAAM,EAAEG,KAAK,CAACH,MAAM,CAAC,CAAC,CAAC,CAAA;AACpD,GAAA;EAEAhM,KAAKA,CAACqF,IAAI,EAAE;IACV,MAAM2G,MAAM,GAAG,EAAE,CAAA;IAEjBtL,KAAK,CAACC,IAAI,CAAC0E,IAAI,CAAC,CAACxK,OAAO,CAAEtF,GAAG,IAAK;AAChC,MAAA,IAAI,IAAI,CAACsO,GAAG,CAACtO,GAAG,CAAC,EAAE;QACjByW,MAAM,CAACzW,GAAG,CAAC,GAAG,IAAI,CAACyW,MAAM,CAACzW,GAAG,CAAC,CAAA;AAChC,OAAA;AACF,KAAC,CAAC,CAAA;AAEF,IAAA,OAAO,IAAImW,IAAI,CAACM,MAAM,CAAC,CAAA;AACzB,GAAA;AAEAF,EAAAA,OAAOA,GAAG;AACR,IAAA,OAAO1G,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC2G,MAAM,CAAC,CAAA;AACjC,GAAA;EAEAD,mBAAmBA,CAACF,IAAI,EAAE;AACxBA,IAAAA,IAAI,GAAGxM,GAAG,CAACwM,IAAI,CAAC,CAAA;IAChB,OAAO,IAAI,CAACC,OAAO,EAAE,CAAC1C,MAAM,CAAE7T,GAAG,IAAK,IAAI,CAACyW,MAAM,CAACzW,GAAG,CAAC,KAAKsW,IAAI,CAACG,MAAM,CAACzW,GAAG,CAAC,CAAC,CAAA;AAC9E,GAAA;EAEA8K,SAASA,CAAC2L,MAAM,EAAE;AAChB,IAAA,OAAOpJ,cAAc,CAAC,IAAI,CAACwJ,OAAO,EAAE,EAAE/M,GAAG,CAAC2M,MAAM,CAAC,CAACI,OAAO,EAAE,CAAC,CAAA;AAC9D,GAAA;AAEAC,EAAAA,OAAOA,GAAG;IACR,OAAO,IAAI,CAACP,OAAO,EAAE,CAACxV,MAAM,KAAK,CAAC,CAAA;AACpC,GAAA;AAEA8V,EAAAA,OAAOA,GAAG;AACR,IAAA,IAAI,CAAC,IAAI,CAAC1K,KAAK,EAAE;MACf,MAAME,MAAM,GAAG,EAAE,CAAA;AACjB,MAAA,KAAK,MAAMrM,GAAG,IAAI,IAAI,CAACyW,MAAM,EAAE;AAC7B,QAAA,MAAMxW,KAAK,GAAG,IAAI,CAACwW,MAAM,CAACzW,GAAG,CAAC,CAAA;QAC9BqM,MAAM,CAACtG,IAAI,CAACsG,MAAM,CAACtG,IAAI,CAAC/F,GAAG,EAAEC,KAAK,CAAC,CAAC,CAAA;AACtC,OAAA;MACA,IAAI,CAACkM,KAAK,GAAGE,MAAM,CAAC5B,KAAK,CAAC,CAAC,CAAC,CAAA;AAC9B,KAAA;IAEA,OAAO,IAAI,CAAC0B,KAAK,CAAA;AACnB,GAAA;AAEA4K,EAAAA,QAAQA,GAAG;AACT,IAAA,OAAOL,IAAI,CAAC,IAAI,CAACD,MAAM,CAAC,CAAA;AAC1B,GAAA;AAEA1L,EAAAA,MAAMA,GAAG;AACP,IAAA,OAAO,IAAI,CAACgM,QAAQ,EAAE,CAAA;AACxB,GAAA;AAEA9J,EAAAA,qBAAqBA,GAAG;IACtB,OAAO;AAAEwJ,MAAAA,MAAM,EAAE7J,IAAI,CAACO,SAAS,CAAC,IAAI,CAACsJ,MAAM,CAAA;KAAG,CAAA;AAChD,GAAA;AACF,CAAA;AAEA,MAAMrN,MAAM,GAAG,UAASpJ,GAAG,EAAEC,KAAK,EAAE;EAClC,MAAMoM,MAAM,GAAG,EAAE,CAAA;AACjBA,EAAAA,MAAM,CAACrM,GAAG,CAAC,GAAGC,KAAK,CAAA;AACnB,EAAA,OAAOoM,MAAM,CAAA;AACf,CAAC,CAAA;AAED,MAAMsK,KAAK,GAAG,UAASvN,MAAM,EAAEqN,MAAM,EAAE;AACrC,EAAA,MAAMpK,MAAM,GAAGqK,IAAI,CAACtN,MAAM,CAAC,CAAA;AAC3B,EAAA,KAAK,MAAMpJ,GAAG,IAAIyW,MAAM,EAAE;AACxB,IAAA,MAAMxW,KAAK,GAAGwW,MAAM,CAACzW,GAAG,CAAC,CAAA;AACzBqM,IAAAA,MAAM,CAACrM,GAAG,CAAC,GAAGC,KAAK,CAAA;AACrB,GAAA;AACA,EAAA,OAAOoM,MAAM,CAAA;AACf,CAAC,CAAA;AAED,MAAMqK,IAAI,GAAG,UAAStN,MAAM,EAAE4N,WAAW,EAAE;EACzC,MAAM3K,MAAM,GAAG,EAAE,CAAA;EACjB,MAAM4K,UAAU,GAAGpH,MAAM,CAACC,IAAI,CAAC1G,MAAM,CAAC,CAAC8N,IAAI,EAAE,CAAA;AAE7CD,EAAAA,UAAU,CAAC3R,OAAO,CAAEtF,GAAG,IAAK;IAC1B,IAAIA,GAAG,KAAKgX,WAAW,EAAE;AACvB3K,MAAAA,MAAM,CAACrM,GAAG,CAAC,GAAGoJ,MAAM,CAACpJ,GAAG,CAAC,CAAA;AAC3B,KAAA;AACF,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOqM,MAAM,CAAA;AACf,CAAC,CAAA;AAED,MAAMvC,GAAG,GAAG,UAASV,MAAM,EAAE;EAC3B,IAAIA,MAAM,YAAY+M,IAAI,EAAE;AAC1B,IAAA,OAAO/M,MAAM,CAAA;AACf,GAAC,MAAM;AACL,IAAA,OAAO,IAAI+M,IAAI,CAAC/M,MAAM,CAAC,CAAA;AACzB,GAAA;AACF,CAAC,CAAA;AAED,MAAMwN,KAAK,GAAG,UAASxN,MAAM,EAAE;EAC7B,IAAIA,MAAM,YAAY+M,IAAI,EAAE;IAC1B,OAAO/M,MAAM,CAACqN,MAAM,CAAA;AACtB,GAAC,MAAM;AACL,IAAA,OAAOrN,MAAM,CAAA;AACf,GAAA;AACF,CAAC;;ACjJc,MAAM+N,WAAW,CAAC;EAC/B,OAAOC,YAAYA,GAAgD;AAAA,IAAA,IAA/CC,gBAAgB,GAAAvW,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IAAA,IAAE;MAAEwW,KAAK;AAAEC,MAAAA,MAAAA;AAAO,KAAC,GAAAzW,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAG,CAAA,CAAA,GAAA,EAAE,CAAA;AAC/D,IAAA,IAAIvG,KAAK,CAAA;AACT,IAAA,IAAIgd,MAAM,EAAE;MACV,IAAID,KAAK,IAAI,IAAI,EAAE;AACjBA,QAAAA,KAAK,GAAG,CAAC,CAAA;AACX,OAAA;AACF,KAAA;IACA,MAAMjB,OAAO,GAAG,EAAE,CAAA;IAElBlL,KAAK,CAACC,IAAI,CAACiM,gBAAgB,CAAC,CAAC/R,OAAO,CAAE8D,MAAM,IAAK;AAAA,MAAA,IAAAoO,qBAAA,CAAA;AAC/C,MAAA,IAAIjd,KAAK,EAAE;AAAA,QAAA,IAAAkd,oBAAA,EAAAC,qBAAA,EAAAC,MAAA,CAAA;QACT,IAAI,CAAAF,oBAAA,GAAArO,MAAM,CAACwO,YAAY,MAAA,IAAA,IAAAH,oBAAA,KAAnBA,KAAAA,CAAAA,IAAAA,oBAAA,CAAAjW,IAAA,CAAA4H,MAAM,EAAgBkO,KAAK,CAAC,IAAAI,CAAAA,qBAAA,GAAI,CAAAC,MAAA,GAAApd,KAAK,CAACA,KAAK,CAACwG,MAAM,GAAG,CAAC,CAAC,EAAC8W,gBAAgB,MAAAH,IAAAA,IAAAA,qBAAA,eAAxCA,qBAAA,CAAAlW,IAAA,CAAAmW,MAAA,EAA2CvO,MAAM,EAAEkO,KAAK,CAAC,EAAE;AAC7F/c,UAAAA,KAAK,CAACwL,IAAI,CAACqD,MAAM,CAAC,CAAA;AAClB,UAAA,OAAA;AACF,SAAC,MAAM;AACLiN,UAAAA,OAAO,CAACtQ,IAAI,CAAC,IAAI,IAAI,CAACxL,KAAK,EAAE;YAAE+c,KAAK;AAAEC,YAAAA,MAAAA;AAAO,WAAC,CAAC,CAAC,CAAA;AAChDhd,UAAAA,KAAK,GAAG,IAAI,CAAA;AACd,SAAA;AACF,OAAA;AAEA,MAAA,IAAA,CAAAid,qBAAA,GAAIpO,MAAM,CAACwO,YAAY,cAAAJ,qBAAA,KAAA,KAAA,CAAA,IAAnBA,qBAAA,CAAAhW,IAAA,CAAA4H,MAAM,EAAgBkO,KAAK,CAAC,EAAE;QAChC/c,KAAK,GAAG,CAAE6O,MAAM,CAAE,CAAA;AACpB,OAAC,MAAM;AACLiN,QAAAA,OAAO,CAACtQ,IAAI,CAACqD,MAAM,CAAC,CAAA;AACtB,OAAA;AACF,KAAC,CAAC,CAAA;AAEF,IAAA,IAAI7O,KAAK,EAAE;AACT8b,MAAAA,OAAO,CAACtQ,IAAI,CAAC,IAAI,IAAI,CAACxL,KAAK,EAAE;QAAE+c,KAAK;AAAEC,QAAAA,MAAAA;AAAO,OAAC,CAAC,CAAC,CAAA;AAClD,KAAA;AACA,IAAA,OAAOlB,OAAO,CAAA;AAChB,GAAA;AAEA/L,EAAAA,WAAWA,GAAkC;AAAA,IAAA,IAAjC+L,OAAO,GAAAvV,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IAAA,IAAE;MAAEwW,KAAK;AAAEC,MAAAA,MAAAA;AAAO,KAAC,GAAAzW,SAAA,CAAAC,MAAA,GAAAD,CAAAA,GAAAA,SAAA,MAAAE,SAAA,CAAA;IACzC,IAAI,CAACqV,OAAO,GAAGA,OAAO,CAAA;AACtB,IAAA,IAAIkB,MAAM,EAAE;MACV,IAAI,CAACD,KAAK,GAAGA,KAAK,CAAA;AAClB,MAAA,IAAI,CAACjB,OAAO,GAAG,IAAI,CAAC/L,WAAW,CAAC8M,YAAY,CAAC,IAAI,CAACf,OAAO,EAAE;QAAEkB,MAAM;AAAED,QAAAA,KAAK,EAAE,IAAI,CAACA,KAAK,GAAG,CAAA;AAAE,OAAC,CAAC,CAAA;AAC/F,KAAA;AACF,GAAA;AAEAQ,EAAAA,UAAUA,GAAG;IACX,OAAO,IAAI,CAACzB,OAAO,CAAA;AACrB,GAAA;AAEA0B,EAAAA,QAAQA,GAAG;IACT,OAAO,IAAI,CAACT,KAAK,CAAA;AACnB,GAAA;AAEAtM,EAAAA,WAAWA,GAAG;AACZ,IAAA,MAAM8E,IAAI,GAAG,CAAE,aAAa,CAAE,CAAA;AAC9B3E,IAAAA,KAAK,CAACC,IAAI,CAAC,IAAI,CAAC0M,UAAU,EAAE,CAAC,CAACxS,OAAO,CAAE8D,MAAM,IAAK;MAChD0G,IAAI,CAAC/J,IAAI,CAACqD,MAAM,CAAC4B,WAAW,EAAE,CAAC,CAAA;AACjC,KAAC,CAAC,CAAA;AACF,IAAA,OAAO8E,IAAI,CAACvD,IAAI,CAAC,GAAG,CAAC,CAAA;AACvB,GAAA;AACF;;ACvDe,MAAMyL,SAAS,SAASpP,WAAW,CAAC;AACjD0B,EAAAA,WAAWA,GAAe;AAAA,IAAA,IAAd+L,OAAO,GAAAvV,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IACtB,KAAK,CAAC,GAAGA,SAAS,CAAC,CAAA;AACnB,IAAA,IAAI,CAACuV,OAAO,GAAG,EAAE,CAAA;IAEjBlL,KAAK,CAACC,IAAI,CAACiL,OAAO,CAAC,CAAC/Q,OAAO,CAAE8D,MAAM,IAAK;AACtC,MAAA,MAAMkN,IAAI,GAAG1J,IAAI,CAACO,SAAS,CAAC/D,MAAM,CAAC,CAAA;MACnC,IAAI,IAAI,CAACiN,OAAO,CAACC,IAAI,CAAC,IAAI,IAAI,EAAE;AAC9B,QAAA,IAAI,CAACD,OAAO,CAACC,IAAI,CAAC,GAAGlN,MAAM,CAAA;AAC7B,OAAA;AACF,KAAC,CAAC,CAAA;AACJ,GAAA;EAEA6O,IAAIA,CAAC7O,MAAM,EAAE;AACX,IAAA,MAAMkN,IAAI,GAAG1J,IAAI,CAACO,SAAS,CAAC/D,MAAM,CAAC,CAAA;AACnC,IAAA,OAAO,IAAI,CAACiN,OAAO,CAACC,IAAI,CAAC,CAAA;AAC3B,GAAA;AACF;;ACnBe,MAAM4B,YAAY,CAAC;EAChC5N,WAAWA,CAAC6N,QAAQ,EAAE;AACpB,IAAA,IAAI,CAAClE,KAAK,CAACkE,QAAQ,CAAC,CAAA;AACtB,GAAA;EAEA3S,GAAGA,CAACxK,OAAO,EAAE;AACX,IAAA,MAAMgF,GAAG,GAAGoY,MAAM,CAACpd,OAAO,CAAC,CAAA;AAC3B,IAAA,IAAI,CAACmd,QAAQ,CAACnY,GAAG,CAAC,GAAGhF,OAAO,CAAA;AAC9B,GAAA;EAEA+C,MAAMA,CAAC/C,OAAO,EAAE;AACd,IAAA,MAAMgF,GAAG,GAAGoY,MAAM,CAACpd,OAAO,CAAC,CAAA;AAC3B,IAAA,MAAMiF,KAAK,GAAG,IAAI,CAACkY,QAAQ,CAACnY,GAAG,CAAC,CAAA;AAChC,IAAA,IAAIC,KAAK,EAAE;AACT,MAAA,OAAO,IAAI,CAACkY,QAAQ,CAACnY,GAAG,CAAC,CAAA;AACzB,MAAA,OAAOC,KAAK,CAAA;AACd,KAAA;AACF,GAAA;AAEAgU,EAAAA,KAAKA,GAAgB;AAAA,IAAA,IAAfkE,QAAQ,GAAArX,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AACjB,IAAA,IAAI,CAACqX,QAAQ,GAAG,EAAE,CAAA;IAClBhN,KAAK,CAACC,IAAI,CAAC+M,QAAQ,CAAC,CAAC7S,OAAO,CAAEtK,OAAO,IAAK;AACxC,MAAA,IAAI,CAACwK,GAAG,CAACxK,OAAO,CAAC,CAAA;AACnB,KAAC,CAAC,CAAA;AACF,IAAA,OAAOmd,QAAQ,CAAA;AACjB,GAAA;AACF,CAAA;AAEA,MAAMC,MAAM,GAAIpd,OAAO,IAAKA,OAAO,CAACmK,OAAO,CAACkT,YAAY;;AC1BzC,MAAMC,SAAS,SAAS1P,WAAW,CAAC;AACjD2P,EAAAA,YAAYA,GAAG;AACb,IAAA,OAAO,IAAI,CAACC,UAAU,KAAK,IAAI,CAAA;AACjC,GAAA;AAEAC,EAAAA,YAAYA,GAAG;AACb,IAAA,OAAO,IAAI,CAACC,SAAS,KAAK,IAAI,CAAA;AAChC,GAAA;AAEAC,EAAAA,YAAYA,GAAG;AACb,IAAA,OAAO,IAAI,CAACD,SAAS,IAAI,IAAI,CAACE,SAAS,CAAA;AACzC,GAAA;AAEAC,EAAAA,SAASA,GAAG;AACV,IAAA,OAAO,IAAI,CAACH,SAAS,IAAI,CAAC,IAAI,CAACE,SAAS,CAAA;AAC1C,GAAA;AAEAE,EAAAA,UAAUA,GAAG;AACX,IAAA,IAAI,CAAC,IAAI,CAACC,OAAO,EAAE;MACjB,IAAI,CAACA,OAAO,GAAG,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QAC9C,IAAI,CAACV,UAAU,GAAG,IAAI,CAAA;QACtB,OAAO,IAAI,CAACW,OAAO,CAAC,CAACP,SAAS,EAAEvM,MAAM,KAAK;UACzC,IAAI,CAACuM,SAAS,GAAGA,SAAS,CAAA;UAC1B,IAAI,CAACJ,UAAU,GAAG,KAAK,CAAA;UACvB,IAAI,CAACE,SAAS,GAAG,IAAI,CAAA;UAErB,IAAI,IAAI,CAACE,SAAS,EAAE;YAClBK,OAAO,CAAC5M,MAAM,CAAC,CAAA;AACjB,WAAC,MAAM;YACL6M,MAAM,CAAC7M,MAAM,CAAC,CAAA;AAChB,WAAA;AACF,SAAC,CAAC,CAAA;AACJ,OAAC,CAAC,CAAA;AACJ,KAAA;IAEA,OAAO,IAAI,CAAC0M,OAAO,CAAA;AACrB,GAAA;EAEAI,OAAOA,CAACjS,QAAQ,EAAE;IAChB,OAAOA,QAAQ,CAAC,KAAK,CAAC,CAAA;AACxB,GAAA;AAEAkS,EAAAA,OAAOA,GAAG;IAAA,IAAAC,aAAA,EAAAC,oBAAA,CAAA;IACR,CAAAD,aAAA,OAAI,CAACN,OAAO,cAAAM,aAAA,KAAA,KAAA,CAAA,IAAA,CAAAC,oBAAA,GAAZD,aAAA,CAAcE,MAAM,MAAA,IAAA,IAAAD,oBAAA,KAApBA,KAAAA,CAAAA,IAAAA,oBAAA,CAAA9X,IAAA,CAAA6X,aAAuB,CAAC,CAAA;IACxB,IAAI,CAACN,OAAO,GAAG,IAAI,CAAA;IACnB,IAAI,CAACP,UAAU,GAAG,IAAI,CAAA;IACtB,IAAI,CAACE,SAAS,GAAG,IAAI,CAAA;IACrB,IAAI,CAACE,SAAS,GAAG,IAAI,CAAA;AACvB,GAAA;AACF,CAAA;AAEAN,SAAS,CAACzP,WAAW,CAAC,mBAAmB,CAAC,CAAA;AAC1CyP,SAAS,CAACzP,WAAW,CAAC,oBAAoB,CAAC;;ACnD5B,MAAM2Q,UAAU,SAAS5Q,WAAW,CAAC;EAClD0B,WAAWA,CAAClB,MAAM,EAAgB;AAAA,IAAA,IAAdxH,OAAO,GAAAd,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IAC9B,KAAK,CAAC,GAAGA,SAAS,CAAC,CAAA;IACnB,IAAI,CAACsI,MAAM,GAAGA,MAAM,CAAA;IACpB,IAAI,CAACxH,OAAO,GAAGA,OAAO,CAAA;IACtB,IAAI,CAAC6X,UAAU,GAAG,EAAE,CAAA;IACpB,IAAI,CAACC,QAAQ,GAAG,IAAI,CAAA;AACtB,GAAA;AAEAC,EAAAA,QAAQA,GAAG;AACT,IAAA,IAAI,CAAC,IAAI,CAACC,KAAK,EAAE;AAAE,MAAA,IAAI,CAACA,KAAK,GAAG,IAAI,CAACC,WAAW,EAAE,CAAA;AAAC,KAAA;AACnD,IAAA,OAAO,IAAI,CAACD,KAAK,CAAC/N,GAAG,CAAExJ,IAAI,IAAKA,IAAI,CAACyX,SAAS,CAAC,IAAI,CAAC,CAAC,CAAA;AACvD,GAAA;AAEAC,EAAAA,UAAUA,GAAG;AAAA,IAAA,IAAAC,gBAAA,CAAA;IACX,IAAI,CAACJ,KAAK,GAAG,IAAI,CAAA;IACjB,IAAI,CAACH,UAAU,GAAG,EAAE,CAAA;AACpB,IAAA,OAAA,CAAAO,gBAAA,GAAO,IAAI,CAACC,UAAU,MAAA,IAAA,IAAAD,gBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAfA,gBAAA,CAAiBD,UAAU,EAAE,CAAA;AACtC,GAAA;EAEAG,uBAAuBA,CAAC9Q,MAAM,EAAE;AAAA,IAAA,IAAA+Q,qBAAA,CAAA;AAC9B,IAAA,OAAA,CAAAA,qBAAA,GAAO,IAAI,CAACC,iBAAiB,CAAChR,MAAM,CAAC,MAAA,IAAA,IAAA+Q,qBAAA,KAA9BA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,qBAAA,CAAgCJ,UAAU,EAAE,CAAA;AACrD,GAAA;AAEAM,EAAAA,2BAA2BA,CAACC,SAAS,EAAElR,MAAM,EAAExH,OAAO,EAAE;AACtD,IAAA,IAAI2Y,IAAI,GAAG,IAAI,CAACC,sBAAsB,CAACpR,MAAM,CAAC,CAAA;AAC9C,IAAA,IAAImR,IAAI,EAAE;AACR,MAAA,IAAI,CAACE,eAAe,CAACF,IAAI,CAAC,CAAA;AAC5B,KAAC,MAAM;AACLA,MAAAA,IAAI,GAAG,IAAI,CAACG,eAAe,CAAC,GAAG5Z,SAAS,CAAC,CAAA;AACzC,MAAA,IAAI,CAAC6Z,kBAAkB,CAACJ,IAAI,EAAEnR,MAAM,CAAC,CAAA;AACvC,KAAA;AACA,IAAA,OAAOmR,IAAI,CAAA;AACb,GAAA;AAEAG,EAAAA,eAAeA,CAACJ,SAAS,EAAElR,MAAM,EAAgB;AAAA,IAAA,IAAdxH,OAAO,GAAAd,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IAC7C,IAAIsI,MAAM,YAAY+N,WAAW,EAAE;MACjCvV,OAAO,CAAC0Y,SAAS,GAAGA,SAAS,CAAA;AAC7BA,MAAAA,SAAS,GAAGM,eAAe,CAAA;AAC7B,KAAA;IAEA,MAAML,IAAI,GAAG,IAAID,SAAS,CAAClR,MAAM,EAAExH,OAAO,CAAC,CAAA;AAC3C,IAAA,OAAO,IAAI,CAAC6Y,eAAe,CAACF,IAAI,CAAC,CAAA;AACnC,GAAA;EAEAE,eAAeA,CAACF,IAAI,EAAE;IACpBA,IAAI,CAACN,UAAU,GAAG,IAAI,CAAA;AACtBM,IAAAA,IAAI,CAACb,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAAA;AAC7B,IAAA,IAAI,CAACD,UAAU,CAAC1T,IAAI,CAACwU,IAAI,CAAC,CAAA;AAC1B,IAAA,OAAOA,IAAI,CAAA;AACb,GAAA;AAEAM,EAAAA,gBAAgBA,GAAG;IACjB,IAAIC,KAAK,GAAG,EAAE,CAAA;AAEd,IAAA,IAAI,CAACrB,UAAU,CAACnU,OAAO,CAAEyV,SAAS,IAAK;AACrCD,MAAAA,KAAK,CAAC/U,IAAI,CAACgV,SAAS,CAAC,CAAA;MACrBD,KAAK,GAAGA,KAAK,CAAC/b,MAAM,CAACgc,SAAS,CAACF,gBAAgB,EAAE,CAAC,CAAA;AACpD,KAAC,CAAC,CAAA;AAEF,IAAA,OAAOC,KAAK,CAAA;AACd,GAAA;AAEAE,EAAAA,WAAWA,GAAG;AACZ,IAAA,OAAO,IAAI,CAACC,oBAAoB,CAAC,IAAI,CAAC7R,MAAM,CAAC,CAAA;AAC/C,GAAA;EAEA6R,oBAAoBA,CAAC7R,MAAM,EAAE;IAC3B,MAAM9B,EAAE,GAAG8B,MAAM,KAAA,IAAA,IAANA,MAAM,KAANA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,MAAM,CAAE9B,EAAE,CAAA;AACrB,IAAA,IAAIA,EAAE,EAAE;AACN,MAAA,OAAO,IAAI,CAACoS,QAAQ,CAAC1e,OAAO,CAAC2V,aAAa,CAAA,iBAAA,CAAA5R,MAAA,CAAmBuI,EAAE,EAAA,IAAA,CAAI,CAAC,CAAA;AACtE,KAAA;AACF,GAAA;EAEA8S,iBAAiBA,CAAChR,MAAM,EAAE;IACxB,KAAK,MAAMmR,IAAI,IAAI,IAAI,CAACM,gBAAgB,EAAE,EAAE;AAC1C,MAAA,IAAIN,IAAI,CAACnR,MAAM,KAAKA,MAAM,EAAE;AAC1B,QAAA,OAAOmR,IAAI,CAAA;AACb,OAAA;AACF,KAAA;AACF,GAAA;AAEAW,EAAAA,YAAYA,GAAG;AACb,IAAA,IAAI,IAAI,CAACxB,QAAQ,KAAK,IAAI,EAAE;AAC1B,MAAA,IAAI,IAAI,CAACyB,oBAAoB,EAAE,EAAE;AAC/B,QAAA,IAAI,CAAC,IAAI,CAACC,SAAS,EAAE;AAAE,UAAA,IAAI,CAACA,SAAS,GAAG,EAAE,CAAA;AAAC,SAAA;QAC3C,OAAO,IAAI,CAACA,SAAS,CAAA;AACvB,OAAA;AACF,KAAC,MAAM;AACL,MAAA,OAAO,IAAI,CAAC1B,QAAQ,CAACwB,YAAY,EAAE,CAAA;AACrC,KAAA;AACF,GAAA;AAEAC,EAAAA,oBAAoBA,GAAG;AACrB,IAAA,OAAO,IAAI,CAACE,gBAAgB,KAAK,KAAK,CAAA;AACxC,GAAA;AAEAC,EAAAA,iBAAiBA,GAAG;IAClB,IAAI,CAACD,gBAAgB,GAAG,IAAI,CAAA;AAC9B,GAAA;AAEAE,EAAAA,kBAAkBA,GAAG;IACnB,IAAI,CAACF,gBAAgB,GAAG,KAAK,CAAA;AAC/B,GAAA;EAEAb,sBAAsBA,CAACpR,MAAM,EAAE;AAAA,IAAA,IAAAoS,kBAAA,CAAA;AAC7B,IAAA,OAAA,CAAAA,kBAAA,GAAO,IAAI,CAACN,YAAY,EAAE,MAAA,IAAA,IAAAM,kBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAnBA,kBAAA,CAAsBpS,MAAM,CAAC4B,WAAW,EAAE,CAAC,CAAA;AACpD,GAAA;AAEA2P,EAAAA,kBAAkBA,CAACJ,IAAI,EAAEnR,MAAM,EAAE;AAC/B,IAAA,MAAMqS,KAAK,GAAG,IAAI,CAACP,YAAY,EAAE,CAAA;AACjC,IAAA,IAAIO,KAAK,EAAE;MACTA,KAAK,CAACrS,MAAM,CAAC4B,WAAW,EAAE,CAAC,GAAGuP,IAAI,CAAA;AACpC,KAAA;AACF,GAAA;AAEAmB,EAAAA,yBAAyBA,GAAG;AAC1B,IAAA,MAAMD,KAAK,GAAG,IAAI,CAACP,YAAY,EAAE,CAAA;AACjC,IAAA,IAAIO,KAAK,EAAE;MACT,MAAMX,KAAK,GAAG,IAAI,CAACD,gBAAgB,EAAE,CAAC9b,MAAM,CAAC,IAAI,CAAC,CAAA;AAClD,MAAA,MAAM4c,UAAU,GAAGb,KAAK,CAACjP,GAAG,CAAE0O,IAAI,IAAKA,IAAI,CAACnR,MAAM,CAAC4B,WAAW,EAAE,CAAC,CAAA;AACjE,MAAA,KAAK,MAAMhL,GAAG,IAAIyb,KAAK,EAAE;AACvB,QAAA,IAAI,CAACE,UAAU,CAACxV,QAAQ,CAACnG,GAAG,CAAC,EAAE;UAC7B,OAAOyb,KAAK,CAACzb,GAAG,CAAC,CAAA;AACnB,SAAA;AACF,OAAA;AACF,KAAA;AACF,GAAA;AACF,CAAA;AAEO,MAAM4a,eAAe,SAASpB,UAAU,CAAC;AAC9ClP,EAAAA,WAAWA,GAAG;IACZ,KAAK,CAAC,GAAGxJ,SAAS,CAAC,CAAA;AACnB,IAAA,IAAI,CAAC8a,WAAW,GAAG,IAAI,CAACxS,MAAM,CAAA;AAC9B,IAAA,IAAI,CAACkR,SAAS,GAAG,IAAI,CAAC1Y,OAAO,CAAC0Y,SAAS,CAAA;AACvC,IAAA,OAAO,IAAI,CAAC1Y,OAAO,CAAC0Y,SAAS,CAAA;AAC/B,GAAA;AAEAuB,EAAAA,aAAaA,GAAG;AACd,IAAA,IAAI,CAAC,IAAI,CAACpC,UAAU,CAAC1Y,MAAM,EAAE;AAC3BoK,MAAAA,KAAK,CAACC,IAAI,CAAC,IAAI,CAACwQ,WAAW,CAAC9D,UAAU,EAAE,CAAC,CAACxS,OAAO,CAAE8D,MAAM,IAAK;AAC5D,QAAA,IAAI,CAACiR,2BAA2B,CAAC,IAAI,CAACC,SAAS,EAAElR,MAAM,EAAE,IAAI,CAACxH,OAAO,CAAC,CAAA;AACxE,OAAC,CAAC,CAAA;AACJ,KAAA;IACA,OAAO,IAAI,CAAC6X,UAAU,CAAA;AACxB,GAAA;AAEAI,EAAAA,WAAWA,GAAG;AACZ,IAAA,MAAM7e,OAAO,GAAG,IAAI,CAAC8gB,sBAAsB,EAAE,CAAA;IAE7C,IAAI,CAACD,aAAa,EAAE,CAACvW,OAAO,CAAEiV,IAAI,IAAK;AACrCpP,MAAAA,KAAK,CAACC,IAAI,CAACmP,IAAI,CAACZ,QAAQ,EAAE,CAAC,CAACrU,OAAO,CAAEjD,IAAI,IAAK;AAC5CrH,QAAAA,OAAO,CAAC2K,WAAW,CAACtD,IAAI,CAAC,CAAA;AAC3B,OAAC,CAAC,CAAA;AACJ,KAAC,CAAC,CAAA;IAEF,OAAO,CAAErH,OAAO,CAAE,CAAA;AACpB,GAAA;AAEA8gB,EAAAA,sBAAsBA,GAAsC;AAAA,IAAA,IAArCxE,KAAK,GAAAxW,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,MAAG,IAAI,CAAC8a,WAAW,CAAC7D,QAAQ,EAAE,CAAA;AACxD,IAAA,OAAO,IAAI,CAAC8D,aAAa,EAAE,CAAC,CAAC,CAAC,CAACC,sBAAsB,CAACxE,KAAK,CAAC,CAAA;AAC9D,GAAA;AACF;;;;ACrKA,MAAM;EACJyE,OAAO;EACPC,cAAc;EACdC,QAAQ;EACR/G,cAAc;AACdgH,EAAAA,wBAAAA;AACD,CAAA,GAAGrM,MAAM,CAAA;AAEV,IAAI;EAAEsM,MAAM;EAAEC,IAAI;AAAEC,EAAAA,MAAAA;AAAM,CAAE,GAAGxM,MAAM,CAAC;AACtC,IAAI;EAAEtG,KAAK;AAAE+S,EAAAA,SAAAA;AAAW,CAAA,GAAG,OAAOC,OAAO,KAAK,WAAW,IAAIA,OAAO,CAAA;AAEpE,IAAI,CAACJ,MAAM,EAAE;AACXA,EAAAA,MAAM,GAAG,SAAAA,MAAaA,CAAAK,CAAI,EAAA;AACxB,IAAA,OAAOA,CAAC,CAAA;AACT,GAAA,CAAA;AACH,CAAA;AAEA,IAAI,CAACJ,IAAI,EAAE;AACTA,EAAAA,IAAI,GAAG,SAAAA,IAAaA,CAAAI,CAAI,EAAA;AACtB,IAAA,OAAOA,CAAC,CAAA;AACT,GAAA,CAAA;AACH,CAAA;AAEA,IAAI,CAACjT,KAAK,EAAE;AACVA,EAAAA,KAAK,GAAG,SAAAA,KAAAA,CACNkT,IAAyC,EACzCC,OAAY,EACE;IAAA,KAAA/O,IAAAA,IAAA,GAAA7M,SAAA,CAAAC,MAAA,EAAX2I,IAAW,OAAAyB,KAAA,CAAAwC,IAAA,GAAAA,CAAAA,GAAAA,IAAA,WAAAC,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA,EAAA,EAAA;AAAXlE,MAAAA,IAAW,CAAAkE,IAAA,GAAA9M,CAAAA,CAAAA,GAAAA,SAAA,CAAA8M,IAAA,CAAA,CAAA;AAAA,KAAA;AAEd,IAAA,OAAO6O,IAAI,CAAClT,KAAK,CAACmT,OAAO,EAAEhT,IAAI,CAAC,CAAA;AACjC,GAAA,CAAA;AACH,CAAA;AAEA,IAAI,CAAC4S,SAAS,EAAE;AACdA,EAAAA,SAAS,GAAG,SAAAA,SAAaA,CAAAK,IAA+B,EAAgB;IAAA,KAAAC,IAAAA,KAAA,GAAA9b,SAAA,CAAAC,MAAA,EAAX2I,IAAW,OAAAyB,KAAA,CAAAyR,KAAA,GAAAA,CAAAA,GAAAA,KAAA,WAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAXnT,MAAAA,IAAW,CAAAmT,KAAA,GAAA/b,CAAAA,CAAAA,GAAAA,SAAA,CAAA+b,KAAA,CAAA,CAAA;AAAA,KAAA;AACtE,IAAA,OAAO,IAAIF,IAAI,CAAC,GAAGjT,IAAI,CAAC,CAAA;AACzB,GAAA,CAAA;AACH,CAAA;AAEA,MAAMoT,YAAY,GAAGC,OAAO,CAAC5R,KAAK,CAAC7O,SAAS,CAACgJ,OAAO,CAAC,CAAA;AAErD,MAAM0X,gBAAgB,GAAGD,OAAO,CAAC5R,KAAK,CAAC7O,SAAS,CAAC2gB,WAAW,CAAC,CAAA;AAC7D,MAAMC,QAAQ,GAAGH,OAAO,CAAC5R,KAAK,CAAC7O,SAAS,CAAC6gB,GAAG,CAAC,CAAA;AAC7C,MAAMC,SAAS,GAAGL,OAAO,CAAC5R,KAAK,CAAC7O,SAAS,CAACyJ,IAAI,CAAC,CAAA;AAE/C,MAAMsX,WAAW,GAAGN,OAAO,CAAC5R,KAAK,CAAC7O,SAAS,CAACuR,MAAM,CAAC,CAAA;AAEnD,MAAMyP,iBAAiB,GAAGP,OAAO,CAACpR,MAAM,CAACrP,SAAS,CAACf,WAAW,CAAC,CAAA;AAC/D,MAAMgiB,cAAc,GAAGR,OAAO,CAACpR,MAAM,CAACrP,SAAS,CAAC0N,QAAQ,CAAC,CAAA;AACzD,MAAMwT,WAAW,GAAGT,OAAO,CAACpR,MAAM,CAACrP,SAAS,CAACX,KAAK,CAAC,CAAA;AACnD,MAAM8hB,aAAa,GAAGV,OAAO,CAACpR,MAAM,CAACrP,SAAS,CAACoD,OAAO,CAAC,CAAA;AACvD,MAAMge,aAAa,GAAGX,OAAO,CAACpR,MAAM,CAACrP,SAAS,CAACqhB,OAAO,CAAC,CAAA;AACvD,MAAMC,UAAU,GAAGb,OAAO,CAACpR,MAAM,CAACrP,SAAS,CAAC4S,IAAI,CAAC,CAAA;AAEjD,MAAM2O,oBAAoB,GAAGd,OAAO,CAAClN,MAAM,CAACvT,SAAS,CAACwhB,cAAc,CAAC,CAAA;AAErE,MAAMC,UAAU,GAAGhB,OAAO,CAACnT,MAAM,CAACtN,SAAS,CAACvB,IAAI,CAAC,CAAA;AAEjD,MAAMijB,eAAe,GAAGC,WAAW,CAACC,SAAS,CAAC,CAAA;AAE9C;;;;;AAKG;AACH,SAASnB,OAAOA,CACdN,IAAyC,EAAA;EAEzC,OAAO,UAACC,OAAY,EAAuB;IACzC,IAAIA,OAAO,YAAY9S,MAAM,EAAE;MAC7B8S,OAAO,CAACyB,SAAS,GAAG,CAAC,CAAA;AACvB,KAAA;IAAC,KAAAC,IAAAA,KAAA,GAAAtd,SAAA,CAAAC,MAAA,EAHsB2I,IAAW,OAAAyB,KAAA,CAAAiT,KAAA,GAAAA,CAAAA,GAAAA,KAAA,WAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAX3U,MAAAA,IAAW,CAAA2U,KAAA,GAAAvd,CAAAA,CAAAA,GAAAA,SAAA,CAAAud,KAAA,CAAA,CAAA;AAAA,KAAA;AAKlC,IAAA,OAAO9U,KAAK,CAACkT,IAAI,EAAEC,OAAO,EAAEhT,IAAI,CAAC,CAAA;AAClC,GAAA,CAAA;AACH,CAAA;AAEA;;;;;AAKG;AACH,SAASuU,WAAWA,CAClBtB,IAA+B,EAAA;EAE/B,OAAO,YAAA;AAAA,IAAA,KAAA,IAAA2B,KAAA,GAAAxd,SAAA,CAAAC,MAAA,EAAI2I,IAAW,GAAAyB,IAAAA,KAAA,CAAAmT,KAAA,GAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAX7U,MAAAA,IAAW,CAAA6U,KAAA,CAAAzd,GAAAA,SAAA,CAAAyd,KAAA,CAAA,CAAA;AAAA,KAAA;AAAA,IAAA,OAAQjC,SAAS,CAACK,IAAI,EAAEjT,IAAI,CAAC,CAAA;AAAA,GAAA,CAAA;AACrD,CAAA;AAEA;;;;;;;AAOG;AACH,SAAS8U,QAAQA,CACfC,GAAwB,EACxBtS,KAAqB,EACoD;AAAA,EAAA,IAAzEuS,iBAAA,GAAA5d,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAwDwc,iBAAiB,CAAA;AAEzE,EAAA,IAAItB,cAAc,EAAE;AAClB;AACA;AACA;AACAA,IAAAA,cAAc,CAACyC,GAAG,EAAE,IAAI,CAAC,CAAA;AAC3B,GAAA;AAEA,EAAA,IAAIE,CAAC,GAAGxS,KAAK,CAACpL,MAAM,CAAA;EACpB,OAAO4d,CAAC,EAAE,EAAE;AACV,IAAA,IAAI3jB,OAAO,GAAGmR,KAAK,CAACwS,CAAC,CAAC,CAAA;AACtB,IAAA,IAAI,OAAO3jB,OAAO,KAAK,QAAQ,EAAE;AAC/B,MAAA,MAAM4jB,SAAS,GAAGF,iBAAiB,CAAC1jB,OAAO,CAAC,CAAA;MAC5C,IAAI4jB,SAAS,KAAK5jB,OAAO,EAAE;AACzB;AACA,QAAA,IAAI,CAACihB,QAAQ,CAAC9P,KAAK,CAAC,EAAE;AACnBA,UAAAA,KAAe,CAACwS,CAAC,CAAC,GAAGC,SAAS,CAAA;AACjC,SAAA;AAEA5jB,QAAAA,OAAO,GAAG4jB,SAAS,CAAA;AACrB,OAAA;AACF,KAAA;AAEAH,IAAAA,GAAG,CAACzjB,OAAO,CAAC,GAAG,IAAI,CAAA;AACrB,GAAA;AAEA,EAAA,OAAOyjB,GAAG,CAAA;AACZ,CAAA;AAEA;;;;;AAKG;AACH,SAASI,UAAUA,CAAI1S,KAAU,EAAA;AAC/B,EAAA,KAAK,IAAIqB,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGrB,KAAK,CAACpL,MAAM,EAAEyM,KAAK,EAAE,EAAE;AACjD,IAAA,MAAMsR,eAAe,GAAGjB,oBAAoB,CAAC1R,KAAK,EAAEqB,KAAK,CAAC,CAAA;IAE1D,IAAI,CAACsR,eAAe,EAAE;AACpB3S,MAAAA,KAAK,CAACqB,KAAK,CAAC,GAAG,IAAI,CAAA;AACrB,KAAA;AACF,GAAA;AAEA,EAAA,OAAOrB,KAAK,CAAA;AACd,CAAA;AAEA;;;;;AAKG;AACH,SAAS4S,KAAKA,CAAgC3V,MAAS,EAAA;AACrD,EAAA,MAAM4V,SAAS,GAAG3C,MAAM,CAAC,IAAI,CAAC,CAAA;EAE9B,KAAK,MAAM,CAAC4C,QAAQ,EAAEhf,KAAK,CAAC,IAAI8b,OAAO,CAAC3S,MAAM,CAAC,EAAE;AAC/C,IAAA,MAAM0V,eAAe,GAAGjB,oBAAoB,CAACzU,MAAM,EAAE6V,QAAQ,CAAC,CAAA;AAE9D,IAAA,IAAIH,eAAe,EAAE;AACnB,MAAA,IAAI3T,KAAK,CAACkH,OAAO,CAACpS,KAAK,CAAC,EAAE;AACxB+e,QAAAA,SAAS,CAACC,QAAQ,CAAC,GAAGJ,UAAU,CAAC5e,KAAK,CAAC,CAAA;AACzC,OAAC,MAAM,IACLA,KAAK,IACL,OAAOA,KAAK,KAAK,QAAQ,IACzBA,KAAK,CAACqK,WAAW,KAAKuF,MAAM,EAC5B;AACAmP,QAAAA,SAAS,CAACC,QAAQ,CAAC,GAAGF,KAAK,CAAC9e,KAAK,CAAC,CAAA;AACpC,OAAC,MAAM;AACL+e,QAAAA,SAAS,CAACC,QAAQ,CAAC,GAAGhf,KAAK,CAAA;AAC7B,OAAA;AACF,KAAA;AACF,GAAA;AAEA,EAAA,OAAO+e,SAAS,CAAA;AAClB,CAAA;AAEA;;;;;;AAMG;AACH,SAASE,YAAYA,CACnB9V,MAAS,EACT/M,IAAY,EAAA;EAEZ,OAAO+M,MAAM,KAAK,IAAI,EAAE;AACtB,IAAA,MAAM+V,IAAI,GAAGjD,wBAAwB,CAAC9S,MAAM,EAAE/M,IAAI,CAAC,CAAA;AAEnD,IAAA,IAAI8iB,IAAI,EAAE;MACR,IAAIA,IAAI,CAAClQ,GAAG,EAAE;AACZ,QAAA,OAAO8N,OAAO,CAACoC,IAAI,CAAClQ,GAAG,CAAC,CAAA;AAC1B,OAAA;AAEA,MAAA,IAAI,OAAOkQ,IAAI,CAAClf,KAAK,KAAK,UAAU,EAAE;AACpC,QAAA,OAAO8c,OAAO,CAACoC,IAAI,CAAClf,KAAK,CAAC,CAAA;AAC5B,OAAA;AACF,KAAA;AAEAmJ,IAAAA,MAAM,GAAG8L,cAAc,CAAC9L,MAAM,CAAC,CAAA;AACjC,GAAA;AAEA,EAAA,SAASgW,aAAaA,GAAA;AACpB,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;AAEA,EAAA,OAAOA,aAAa,CAAA;AACtB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7MAC,MAAS,CAACC,OAAO,CAAC,uBAAuB,EAAE,UAAUjd,IAAI,EAAE6C,IAAI,EAAE;EAC/D,MAAMqa,uBAAuB,GAAG,aAAa,CAAA;EAC7C,IAAIA,uBAAuB,CAACxkB,IAAI,CAACmK,IAAI,CAACsa,QAAQ,CAAC,EAAE;IAC/Cta,IAAI,CAACua,aAAa,GAAG,IAAI,CAAA;AAC3B,GAAA;AACF,CAAC,CAAC,CAAA;AAEF,MAAMC,0BAA0B,GAAG,4CAA4C,CAACra,KAAK,CAAC,GAAG,CAAC,CAAA;AAC1F,MAAMsa,2BAA2B,GAAG,aAAa,CAACta,KAAK,CAAC,GAAG,CAAC,CAAA;AAC5D,MAAMua,0BAA0B,GAAG,6BAA6B,CAACva,KAAK,CAAC,GAAG,CAAC,CAAA;AAE5D,MAAMwa,aAAa,SAASjX,WAAW,CAAC;AACrD,EAAA,OAAOkX,OAAOA,CAAC9kB,OAAO,EAAEkF,IAAI,EAAE0B,OAAO,EAAE;AACrC,IAAA,MAAMme,gBAAgB,GAAG,IAAI,IAAI,CAAC7f,IAAI,EAAE0B,OAAO,CAAC,CAACoe,QAAQ,EAAE,CAAA;AAC3D,IAAA,MAAMC,aAAa,GAAGF,gBAAgB,CAACG,OAAO,GAAGH,gBAAgB,CAACG,OAAO,EAAE,GAAGH,gBAAgB,CAACI,SAAS,CAAA;IACxGnlB,OAAO,CAAColB,SAAS,GAAGH,aAAa,CAAA;AACnC,GAAA;AAEA,EAAA,OAAOD,QAAQA,CAAC9f,IAAI,EAAE0B,OAAO,EAAE;IAC7B,MAAMye,SAAS,GAAG,IAAI,IAAI,CAACngB,IAAI,EAAE0B,OAAO,CAAC,CAAA;IACzCye,SAAS,CAACL,QAAQ,EAAE,CAAA;AACpB,IAAA,OAAOK,SAAS,CAAA;AAClB,GAAA;EAEA/V,WAAWA,CAACpK,IAAI,EAAoF;IAAA,IAAlF;MAAEogB,iBAAiB;MAAEC,kBAAkB;MAAEC,iBAAiB;AAAEC,MAAAA,aAAAA;AAAc,KAAC,GAAA3f,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAG,CAAA,CAAA,GAAA,EAAE,CAAA;IAChG,KAAK,CAAC,GAAGA,SAAS,CAAC,CAAA;AACnB,IAAA,IAAI,CAACwf,iBAAiB,GAAGA,iBAAiB,IAAIZ,0BAA0B,CAAA;AACxE,IAAA,IAAI,CAACa,kBAAkB,GAAGA,kBAAkB,IAAIZ,2BAA2B,CAAA;AAC3E,IAAA,IAAI,CAACa,iBAAiB,GAAGA,iBAAiB,IAAIZ,0BAA0B,CAAA;AACxE,IAAA,IAAI,CAACa,aAAa,GAAGA,aAAa,IAAI,EAAE,CAAA;AACxC,IAAA,IAAI,CAAC/Y,IAAI,GAAGgZ,wBAAwB,CAACxgB,IAAI,CAAC,CAAA;AAC5C,GAAA;AAEA8f,EAAAA,QAAQA,GAAG;IACT,IAAI,CAACW,gBAAgB,EAAE,CAAA;IACvB,IAAI,CAACC,2BAA2B,EAAE,CAAA;AAClC,IAAA,MAAMC,YAAY,GAAGhR,MAAM,CAACiR,MAAM,CAAC,EAAE,EAAElR,SAAgB,EAAE,IAAI,CAAC6Q,aAAa,CAAC,CAAA;AAC5EpB,IAAAA,MAAS,CAAC0B,SAAS,CAACF,YAAY,CAAC,CAAA;IACjC,IAAI,CAACnZ,IAAI,GAAG2X,MAAS,CAACW,QAAQ,CAAC,IAAI,CAACtY,IAAI,CAAC,CAAA;IAEzC,OAAO,IAAI,CAACA,IAAI,CAAA;AAClB,GAAA;AAEAwY,EAAAA,OAAOA,GAAG;AACR,IAAA,OAAO,IAAI,CAACxY,IAAI,CAAC0Y,SAAS,CAAA;AAC5B,GAAA;AAEAY,EAAAA,OAAOA,GAAG;IACR,OAAO,IAAI,CAACtZ,IAAI,CAAA;AAClB,GAAA;;AAEA;;AAEAiZ,EAAAA,gBAAgBA,GAAG;AACjB,IAAA,MAAMM,MAAM,GAAGld,QAAQ,CAAC,IAAI,CAAC2D,IAAI,CAAC,CAAA;IAClC,MAAMwZ,aAAa,GAAG,EAAE,CAAA;AAExB,IAAA,OAAOD,MAAM,CAACE,QAAQ,EAAE,EAAE;AACxB,MAAA,MAAM9e,IAAI,GAAG4e,MAAM,CAACG,WAAW,CAAA;MAC/B,QAAQ/e,IAAI,CAACD,QAAQ;QACnB,KAAKG,IAAI,CAACC,YAAY;AACpB,UAAA,IAAI,IAAI,CAAC6e,kBAAkB,CAAChf,IAAI,CAAC,EAAE;AACjC6e,YAAAA,aAAa,CAACnb,IAAI,CAAC1D,IAAI,CAAC,CAAA;AAC1B,WAAC,MAAM;AACL,YAAA,IAAI,CAACif,eAAe,CAACjf,IAAI,CAAC,CAAA;AAC5B,WAAA;AACA,UAAA,MAAA;QACF,KAAKE,IAAI,CAACgE,YAAY;AACpB2a,UAAAA,aAAa,CAACnb,IAAI,CAAC1D,IAAI,CAAC,CAAA;AACxB,UAAA,MAAA;AACJ,OAAA;AACF,KAAA;IAEA6e,aAAa,CAAC5b,OAAO,CAAEjD,IAAI,IAAKuB,UAAU,CAACvB,IAAI,CAAC,CAAC,CAAA;IAEjD,OAAO,IAAI,CAACqF,IAAI,CAAA;AAClB,GAAA;EAEA4Z,eAAeA,CAACtmB,OAAO,EAAE;AACvB,IAAA,IAAIA,OAAO,CAACumB,YAAY,CAAC,MAAM,CAAC,EAAE;MAChC,IAAI,IAAI,CAAChB,kBAAkB,CAACpa,QAAQ,CAACnL,OAAO,CAACwmB,QAAQ,CAAC,EAAE;AACtDxmB,QAAAA,OAAO,CAACymB,eAAe,CAAC,MAAM,CAAC,CAAA;AACjC,OAAA;AACF,KAAA;IAEAtW,KAAK,CAACC,IAAI,CAACpQ,OAAO,CAAClB,UAAU,CAAC,CAACwL,OAAO,CAAC6L,IAAA,IAAc;MAAA,IAAb;AAAExX,QAAAA,IAAAA;AAAK,OAAC,GAAAwX,IAAA,CAAA;AAC9C,MAAA,IAAI,CAAC,IAAI,CAACmP,iBAAiB,CAACna,QAAQ,CAACxM,IAAI,CAAC,IAAIA,IAAI,CAACgkB,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;AAC7E3iB,QAAAA,OAAO,CAACymB,eAAe,CAAC9nB,IAAI,CAAC,CAAA;AAC/B,OAAA;AACF,KAAC,CAAC,CAAA;AAEF,IAAA,OAAOqB,OAAO,CAAA;AAChB,GAAA;AAEA4lB,EAAAA,2BAA2BA,GAAG;AAC5BzV,IAAAA,KAAK,CAACC,IAAI,CAAC,IAAI,CAAC1D,IAAI,CAACga,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAACpc,OAAO,CAAEqc,WAAW,IAAK;AACvE,MAAA,MAAMC,eAAe,GAAGD,WAAW,CAACE,sBAAsB,CAAA;AAC1D,MAAA,IAAID,eAAe,EAAE;AACnB,QAAA,IAAI5nB,OAAO,CAAC4nB,eAAe,CAAC,KAAK,IAAI,EAAE;AACrCA,UAAAA,eAAe,CAACjc,WAAW,CAACgc,WAAW,CAAC,CAAA;AAC1C,SAAA;AACF,OAAA;AACF,KAAC,CAAC,CAAA;IAEF,OAAO,IAAI,CAACja,IAAI,CAAA;AAClB,GAAA;EAEA2Z,kBAAkBA,CAACrmB,OAAO,EAAE;AAC1B,IAAA,IAAI,CAAAA,OAAO,KAAPA,IAAAA,IAAAA,OAAO,KAAPA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,OAAO,CAAEoH,QAAQ,MAAKG,IAAI,CAACC,YAAY,EAAE,OAAA;AAC7C,IAAA,OAAO,IAAI,CAACsf,kBAAkB,CAAC9mB,OAAO,CAAC,IAAI,IAAI,CAAC+mB,uBAAuB,CAAC/mB,OAAO,CAAC,CAAA;AAClF,GAAA;EAEA8mB,kBAAkBA,CAAC9mB,OAAO,EAAE;IAC1B,OAAO,IAAI,CAACwlB,iBAAiB,CAACra,QAAQ,CAACnM,OAAO,CAACgB,OAAO,CAAC,CAAC,CAAA;AAC1D,GAAA;EAEA+mB,uBAAuBA,CAAC/mB,OAAO,EAAE;AAC/B,IAAA,OAAOA,OAAO,CAACuN,YAAY,CAAC,qBAAqB,CAAC,KAAK,OAAO,IAAI,CAAC5B,uBAAuB,CAAC3L,OAAO,CAAC,CAAA;AACrG,GAAA;AACF,CAAA;AAEA,MAAM0lB,wBAAwB,GAAG,YAAoB;AAAA,EAAA,IAAXxgB,IAAI,GAAAY,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AACjD;EACAZ,IAAI,GAAGA,IAAI,CAACR,OAAO,CAAC,qBAAqB,EAAE,SAAS,CAAC,CAAA;EACrD,MAAMsiB,GAAG,GAAG7hB,QAAQ,CAAC8hB,cAAc,CAACC,kBAAkB,CAAC,EAAE,CAAC,CAAA;AAC1DF,EAAAA,GAAG,CAAC5hB,eAAe,CAACggB,SAAS,GAAGlgB,IAAI,CAAA;AAEpCiL,EAAAA,KAAK,CAACC,IAAI,CAAC4W,GAAG,CAACzR,IAAI,CAACmR,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAACpc,OAAO,CAAEtK,OAAO,IAAK;AAClEgnB,IAAAA,GAAG,CAACta,IAAI,CAAC/B,WAAW,CAAC3K,OAAO,CAAC,CAAA;AAC/B,GAAC,CAAC,CAAA;EAEF,OAAOgnB,GAAG,CAACta,IAAI,CAAA;AACjB,CAAC;;ACnID,MAAM;AAAEya,OAAAA,KAAAA;AAAI,CAAC,GAAGvS,MAAM,CAAA;AAEP,MAAMwS,cAAc,SAAS5I,UAAU,CAAC;AACrDlP,EAAAA,WAAWA,GAAG;IACZ,KAAK,CAAC,GAAGxJ,SAAS,CAAC,CAAA;AACnB,IAAA,IAAI,CAACvE,UAAU,GAAG,IAAI,CAAC6M,MAAM,CAAA;AAC7B,IAAA,IAAI,CAAC7M,UAAU,CAAC8lB,sBAAsB,GAAG,IAAI,CAAA;AAC7C,IAAA,IAAI,CAACC,eAAe,GAAG,IAAI,CAAC1gB,OAAO,CAAC2gB,KAAK,CAAA;AAC3C,GAAA;AAEAC,EAAAA,kBAAkBA,GAAG;AACnB,IAAA,OAAO,EAAE,CAAA;AACX,GAAA;AAEA3I,EAAAA,WAAWA,GAAG;AACZ,IAAA,IAAI4I,YAAY,CAAA;AAChB,IAAA,MAAMC,MAAM,GAAGD,YAAY,GAAG9d,WAAW,CAAC;AACxC3K,MAAAA,OAAO,EAAE,QAAQ;AACjBoL,MAAAA,SAAS,EAAE,IAAI,CAACud,YAAY,EAAE;AAC9Bzd,MAAAA,IAAI,EAAE,IAAI,CAAC6L,OAAO,EAAE;AACpBjM,MAAAA,QAAQ,EAAE,KAAA;AACZ,KAAC,CAAC,CAAA;AAEF,IAAA,MAAMuD,IAAI,GAAG,IAAI,CAACua,OAAO,EAAE,CAAA;AAC3B,IAAA,IAAIva,IAAI,EAAE;MACRoa,YAAY,GAAG9d,WAAW,CAAC;AAAE3K,QAAAA,OAAO,EAAE,GAAG;AAAE8K,QAAAA,QAAQ,EAAE,KAAK;AAAEhL,QAAAA,UAAU,EAAE;UAAEuO,IAAI;AAAEwa,UAAAA,QAAQ,EAAE,CAAC,CAAA;AAAE,SAAA;AAAE,OAAC,CAAC,CAAA;AACjGH,MAAAA,MAAM,CAAC/c,WAAW,CAAC8c,YAAY,CAAC,CAAA;AAClC,KAAA;AAEA,IAAA,IAAI,IAAI,CAAClmB,UAAU,CAACumB,UAAU,EAAE,EAAE;AAChCjD,MAAAA,aAAa,CAACC,OAAO,CAAC2C,YAAY,EAAE,IAAI,CAAClmB,UAAU,CAACwmB,UAAU,EAAE,CAAC,CAAA;AACnE,KAAC,MAAM;MACL,IAAI,CAACP,kBAAkB,EAAE,CAACld,OAAO,CAAEjD,IAAI,IAAK;AAC1CogB,QAAAA,YAAY,CAAC9c,WAAW,CAACtD,IAAI,CAAC,CAAA;AAChC,OAAC,CAAC,CAAA;AACJ,KAAA;IAEAogB,YAAY,CAAC9c,WAAW,CAAC,IAAI,CAACqd,oBAAoB,EAAE,CAAC,CAAA;AAErD,IAAA,IAAI,IAAI,CAACzmB,UAAU,CAAC0mB,SAAS,EAAE,EAAE;AAC/B,MAAA,IAAI,CAACC,eAAe,GAAGve,WAAW,CAAC;AACjC3K,QAAAA,OAAO,EAAE,UAAU;AACnBF,QAAAA,UAAU,EAAE;UACVqpB,KAAK,EAAEhB,KAAG,CAACtlB,kBAAkB;AAC7BoD,UAAAA,KAAK,EAAE,IAAI,CAAC1D,UAAU,CAAC6mB,iBAAiB,EAAE;AAC1C1Y,UAAAA,GAAG,EAAE,GAAA;SACN;AACDxF,QAAAA,IAAI,EAAE;AACJme,UAAAA,WAAW,EAAE,IAAI;AACjBhL,UAAAA,YAAY,EAAE,CAAE,iBAAiB,EAAE,IAAI,CAAC9b,UAAU,CAAC+K,EAAE,CAAE,CAACiF,IAAI,CAAC,GAAG,CAAA;AAClE,SAAA;AACF,OAAC,CAAC,CAAA;AAEFmW,MAAAA,MAAM,CAAC/c,WAAW,CAAC,IAAI,CAACud,eAAe,CAAC,CAAA;AAC1C,KAAA;AAEA,IAAA,OAAO,CAAEI,oBAAkB,CAAC,MAAM,CAAC,EAAEZ,MAAM,EAAEY,oBAAkB,CAAC,OAAO,CAAC,CAAE,CAAA;AAC5E,GAAA;AAEAN,EAAAA,oBAAoBA,GAAG;IACrB,MAAMO,UAAU,GAAG5e,WAAW,CAAC;AAAE3K,MAAAA,OAAO,EAAE,YAAY;MAAEoL,SAAS,EAAE+c,KAAG,CAAC3lB,iBAAAA;AAAkB,KAAC,CAAC,CAAA;IAC3F,MAAM9C,OAAO,GAAG,IAAI,CAAC4oB,eAAe,CAACkB,UAAU,EAAE,CAAA;AACjD,IAAA,IAAI9pB,OAAO,EAAE;MACX6pB,UAAU,CAAChe,SAAS,CAACC,GAAG,CAAA,EAAA,CAAAzG,MAAA,CAAIojB,KAAG,CAAC3lB,iBAAiB,EAAA,UAAA,CAAU,CAAC,CAAA;MAC5D+mB,UAAU,CAAC9d,WAAW,GAAG/L,OAAO,CAAA;AAClC,KAAC,MAAM;MACL,IAAIC,IAAI,EAAEC,IAAI,CAAA;AACd,MAAA,MAAM6pB,aAAa,GAAG,IAAI,CAACC,gBAAgB,EAAE,CAAA;MAC7C,IAAID,aAAa,CAAC9pB,IAAI,EAAE;AACtBA,QAAAA,IAAI,GAAG,IAAI,CAAC4C,UAAU,CAAConB,WAAW,EAAE,CAAA;AACtC,OAAA;MACA,IAAIF,aAAa,CAAC7pB,IAAI,EAAE;AACtBA,QAAAA,IAAI,GAAG,IAAI,CAAC2C,UAAU,CAACqnB,oBAAoB,EAAE,CAAA;AAC/C,OAAA;AAEA,MAAA,IAAIjqB,IAAI,EAAE;QACR,MAAMkqB,WAAW,GAAGlf,WAAW,CAAC;AAAE3K,UAAAA,OAAO,EAAE,MAAM;UAAEoL,SAAS,EAAE+c,KAAG,CAACvlB,cAAc;AAAE6I,UAAAA,WAAW,EAAE9L,IAAAA;AAAK,SAAC,CAAC,CAAA;AACtG4pB,QAAAA,UAAU,CAAC5d,WAAW,CAACke,WAAW,CAAC,CAAA;AACrC,OAAA;AAEA,MAAA,IAAIjqB,IAAI,EAAE;AACR,QAAA,IAAID,IAAI,EAAE;UACR4pB,UAAU,CAAC5d,WAAW,CAACxF,QAAQ,CAAC2jB,cAAc,CAAC,GAAG,CAAC,CAAC,CAAA;AACtD,SAAA;QACA,MAAMC,WAAW,GAAGpf,WAAW,CAAC;AAAE3K,UAAAA,OAAO,EAAE,MAAM;UAAEoL,SAAS,EAAE+c,KAAG,CAACrlB,cAAc;AAAE2I,UAAAA,WAAW,EAAE7L,IAAAA;AAAK,SAAC,CAAC,CAAA;AACtG2pB,QAAAA,UAAU,CAAC5d,WAAW,CAACoe,WAAW,CAAC,CAAA;AACrC,OAAA;AACF,KAAA;AAEA,IAAA,OAAOR,UAAU,CAAA;AACnB,GAAA;AAEAZ,EAAAA,YAAYA,GAAG;IACb,MAAMqB,KAAK,GAAG,CAAE7B,KAAG,CAAC5lB,UAAU,EAAA,EAAA,CAAAwC,MAAA,CAAKojB,KAAG,CAAC5lB,UAAU,EAAAwC,IAAAA,CAAAA,CAAAA,MAAA,CAAK,IAAI,CAACxC,UAAU,CAAC0nB,OAAO,EAAE,CAAI,CAAA,CAAA;IACnF,MAAMC,SAAS,GAAG,IAAI,CAAC3nB,UAAU,CAAC4nB,YAAY,EAAE,CAAA;AAChD,IAAA,IAAID,SAAS,EAAE;AACbF,MAAAA,KAAK,CAACje,IAAI,CAAAhH,EAAAA,CAAAA,MAAA,CAAIojB,KAAG,CAAC5lB,UAAU,EAAAwC,IAAAA,CAAAA,CAAAA,MAAA,CAAKmlB,SAAS,CAAE,CAAC,CAAA;AAC/C,KAAA;AACA,IAAA,OAAOF,KAAK,CAACzX,IAAI,CAAC,GAAG,CAAC,CAAA;AACxB,GAAA;AAEAwE,EAAAA,OAAOA,GAAG;AACR,IAAA,MAAM7L,IAAI,GAAG;MACXkf,cAAc,EAAExX,IAAI,CAACO,SAAS,CAAC,IAAI,CAAC5Q,UAAU,CAAC;AAC/C8nB,MAAAA,eAAe,EAAE,IAAI,CAAC9nB,UAAU,CAAC+nB,cAAc,EAAE;AACjDC,MAAAA,MAAM,EAAE,IAAI,CAAChoB,UAAU,CAAC+K,EAAAA;KACzB,CAAA;IAED,MAAM;AAAExN,MAAAA,UAAAA;KAAY,GAAG,IAAI,CAACwoB,eAAe,CAAA;AAC3C,IAAA,IAAI,CAACxoB,UAAU,CAACgd,OAAO,EAAE,EAAE;MACzB5R,IAAI,CAACsf,cAAc,GAAG5X,IAAI,CAACO,SAAS,CAACrT,UAAU,CAAC,CAAA;AAClD,KAAA;AAEA,IAAA,IAAI,IAAI,CAACyC,UAAU,CAAC0mB,SAAS,EAAE,EAAE;MAC/B/d,IAAI,CAACuf,aAAa,GAAG,KAAK,CAAA;AAC5B,KAAA;AAEA,IAAA,OAAOvf,IAAI,CAAA;AACb,GAAA;AAEA0d,EAAAA,OAAOA,GAAG;AACR,IAAA,IAAI,CAAC8B,mBAAmB,CAAC,IAAI,CAACnoB,UAAU,CAACwmB,UAAU,EAAE,EAAE,GAAG,CAAC,EAAE;MAC3D,MAAM1a,IAAI,GAAG,IAAI,CAAC9L,UAAU,CAACqmB,OAAO,EAAE,CAAA;AACtC,MAAA,IAAIva,IAAI,IAAIgX,MAAS,CAACsF,gBAAgB,CAAC,GAAG,EAAE,MAAM,EAAEtc,IAAI,CAAC,EAAE;AACzD,QAAA,OAAOA,IAAI,CAAA;AACb,OAAA;AACF,KAAA;AACF,GAAA;AAEAqb,EAAAA,gBAAgBA,GAAG;AAAA,IAAA,IAAAkB,qBAAA,CAAA;IACjB,MAAMzd,IAAI,GAAG,IAAI,CAAC5K,UAAU,CAAC0nB,OAAO,EAAE,CAAA;AACtC,IAAA,MAAMR,aAAa,GAAGxR,UAAU,EAAA2S,qBAAA,GAAChV,WAAkB,CAACzI,IAAI,CAAC,MAAAyd,IAAAA,IAAAA,qBAAA,uBAAxBA,qBAAA,CAA0BlrB,OAAO,CAAC,CAAA;IACnE,IAAIyN,IAAI,KAAK,MAAM,EAAE;MACnBsc,aAAa,CAAC9pB,IAAI,GAAG,IAAI,CAAA;AAC3B,KAAA;AACA,IAAA,OAAO8pB,aAAa,CAAA;AACtB,GAAA;AAEAoB,EAAAA,mBAAmBA,GAAG;AAAA,IAAA,IAAAC,iBAAA,CAAA;AACpB,IAAA,OAAA,CAAAA,iBAAA,GAAO,IAAI,CAAC9J,WAAW,EAAE,MAAA8J,IAAAA,IAAAA,iBAAA,uBAAlBA,iBAAA,CAAoBnU,aAAa,CAAC,UAAU,CAAC,CAAA;AACtD,GAAA;;AAEA;;AAEAoU,EAAAA,iCAAiCA,GAAG;IAClC,MAAM9kB,KAAK,GAAG,IAAI,CAAC1D,UAAU,CAAC6mB,iBAAiB,EAAE,CAAA;AACjD,IAAA,MAAMF,eAAe,GAAG,IAAI,CAAC2B,mBAAmB,EAAE,CAAA;AAClD,IAAA,IAAI3B,eAAe,EAAE;MACnBA,eAAe,CAACjjB,KAAK,GAAGA,KAAK,CAAA;AAC/B,KAAA;AACF,GAAA;AACF,CAAA;AAEA,MAAMqjB,oBAAkB,GAAI3pB,IAAI,IAC9BgL,WAAW,CAAC;AACV3K,EAAAA,OAAO,EAAE,MAAM;AACfyL,EAAAA,WAAW,EAAE9F,gBAAgB;AAC7BuF,EAAAA,IAAI,EAAE;AACJwB,IAAAA,gBAAgB,EAAE/M,IAAI;AACtB8qB,IAAAA,aAAa,EAAE,KAAA;AACjB,GAAA;AACF,CAAC,CAAC,CAAA;AAEJ,MAAMC,mBAAmB,GAAG,UAASxkB,IAAI,EAAElG,OAAO,EAAE;AAClD,EAAA,MAAMgrB,GAAG,GAAGrgB,WAAW,CAAC,KAAK,CAAC,CAAA;EAC9Bkb,aAAa,CAACC,OAAO,CAACkF,GAAG,EAAE9kB,IAAI,IAAI,EAAE,CAAC,CAAA;AACtC,EAAA,OAAO8kB,GAAG,CAACrU,aAAa,CAAC3W,OAAO,CAAC,CAAA;AACnC,CAAC;;ACzKc,MAAMirB,yBAAyB,SAAS7C,cAAc,CAAC;AACpE9X,EAAAA,WAAWA,GAAG;IACZ,KAAK,CAAC,GAAGxJ,SAAS,CAAC,CAAA;AACnB,IAAA,IAAI,CAACvE,UAAU,CAAC2oB,eAAe,GAAG,IAAI,CAAA;AACxC,GAAA;AAEA1C,EAAAA,kBAAkBA,GAAG;AACnB,IAAA,IAAI,CAAC2C,KAAK,GAAGxgB,WAAW,CAAC;AACvB3K,MAAAA,OAAO,EAAE,KAAK;AACdF,MAAAA,UAAU,EAAE;AACVsrB,QAAAA,GAAG,EAAE,EAAA;OACN;AACDlgB,MAAAA,IAAI,EAAE;AACJme,QAAAA,WAAW,EAAE,IAAA;AACf,OAAA;AACF,KAAC,CAAC,CAAA;AAEF,IAAA,IAAI,CAACgC,OAAO,CAAC,IAAI,CAACF,KAAK,CAAC,CAAA;AACxB,IAAA,OAAO,CAAE,IAAI,CAACA,KAAK,CAAE,CAAA;AACvB,GAAA;AAEAnC,EAAAA,oBAAoBA,GAAG;IACrB,MAAMO,UAAU,GAAG,KAAK,CAACP,oBAAoB,CAAC,GAAGliB,SAAS,CAAC,CAAA;AAC3D,IAAA,IAAI,CAACyiB,UAAU,CAAC9d,WAAW,EAAE;MAC3B8d,UAAU,CAACve,YAAY,CAAC,uBAAuB,EAAE4K,MAAW,CAACpS,kBAAkB,CAAC,CAAA;AAClF,KAAA;AACA,IAAA,OAAO+lB,UAAU,CAAA;AACnB,GAAA;EAEA8B,OAAOA,CAACF,KAAK,EAAE;IACb,IAAI,CAACA,KAAK,EAAE;AAAA,MAAA,IAAAL,iBAAA,CAAA;AAAEK,MAAAA,KAAK,IAAAL,iBAAA,GAAG,IAAI,CAAC9J,WAAW,EAAE,MAAA8J,IAAAA,IAAAA,iBAAA,uBAAlBA,iBAAA,CAAoBnU,aAAa,CAAC,KAAK,CAAC,CAAA;AAAC,KAAA;AAC/D,IAAA,IAAIwU,KAAK,EAAE;AACT,MAAA,OAAO,IAAI,CAACG,wBAAwB,CAACH,KAAK,CAAC,CAAA;AAC7C,KAAA;AACF,GAAA;EAEAG,wBAAwBA,CAACH,KAAK,EAAE;IAC9B,MAAMhnB,GAAG,GAAG,IAAI,CAAC5B,UAAU,CAACgpB,MAAM,EAAE,CAAA;IACpC,MAAMC,UAAU,GAAG,IAAI,CAACjpB,UAAU,CAACkpB,aAAa,EAAE,CAAA;AAClDN,IAAAA,KAAK,CAACC,GAAG,GAAGI,UAAU,IAAIrnB,GAAG,CAAA;IAE7B,IAAIqnB,UAAU,KAAKrnB,GAAG,EAAE;AACtBgnB,MAAAA,KAAK,CAAC1D,eAAe,CAAC,iCAAiC,CAAC,CAAA;AAC1D,KAAC,MAAM;AACL,MAAA,MAAMiE,oBAAoB,GAAG9Y,IAAI,CAACO,SAAS,CAAC;AAAEiY,QAAAA,GAAG,EAAEjnB,GAAAA;AAAI,OAAC,CAAC,CAAA;AACzDgnB,MAAAA,KAAK,CAACngB,YAAY,CAAC,iCAAiC,EAAE0gB,oBAAoB,CAAC,CAAA;AAC7E,KAAA;IAEA,MAAMC,KAAK,GAAG,IAAI,CAACppB,UAAU,CAACqpB,QAAQ,EAAE,CAAA;IACxC,MAAMC,MAAM,GAAG,IAAI,CAACtpB,UAAU,CAACupB,SAAS,EAAE,CAAA;IAC1C,MAAMC,GAAG,GAAG,IAAI,CAACxpB,UAAU,CAACgM,YAAY,CAAC,KAAK,CAAC,CAAA;IAE/C,IAAIod,KAAK,IAAI,IAAI,EAAE;MACjBR,KAAK,CAACQ,KAAK,GAAGA,KAAK,CAAA;AACrB,KAAA;IACA,IAAIE,MAAM,IAAI,IAAI,EAAE;MAClBV,KAAK,CAACU,MAAM,GAAGA,MAAM,CAAA;AACvB,KAAA;IACA,IAAIE,GAAG,IAAI,IAAI,EAAE;MACfZ,KAAK,CAACY,GAAG,GAAGA,GAAG,CAAA;AACjB,KAAA;IAEA,MAAMC,QAAQ,GAAG,CAAE,cAAc,EAAE,IAAI,CAACzpB,UAAU,CAAC+K,EAAE,EAAE6d,KAAK,CAACC,GAAG,EAAED,KAAK,CAACQ,KAAK,EAAER,KAAK,CAACU,MAAM,CAAE,CAACtZ,IAAI,CAAC,GAAG,CAAC,CAAA;AACvG4Y,IAAAA,KAAK,CAAChgB,OAAO,CAACkT,YAAY,GAAG2N,QAAQ,CAAA;AACvC,GAAA;;AAEA;;AAEAC,EAAAA,6BAA6BA,GAAG;AAC9B,IAAA,IAAI,CAACZ,OAAO,CAAC,IAAI,CAACF,KAAK,CAAC,CAAA;AACxB,IAAA,OAAO,IAAI,CAACE,OAAO,EAAE,CAAA;AACvB,GAAA;AACF;;AC7EA;AACA;AACA;AACA;AASe,MAAMa,SAAS,SAAS1M,UAAU,CAAC;AAChDlP,EAAAA,WAAWA,GAAG;IACZ,KAAK,CAAC,GAAGxJ,SAAS,CAAC,CAAA;AACnB,IAAA,IAAI,CAACyhB,KAAK,GAAG,IAAI,CAACnZ,MAAM,CAAA;IACxB,IAAI,CAACtP,UAAU,GAAG,IAAI,CAACyoB,KAAK,CAAC4D,aAAa,EAAE,CAAA;AAC5C,IAAA,IAAI,CAACC,UAAU,GAAG,IAAI,CAACxkB,OAAO,CAACwkB,UAAU,CAAA;AACzC,IAAA,IAAI,CAACC,OAAO,GAAG,IAAI,CAACzkB,OAAO,CAACykB,OAAO,CAAA;AAEnC,IAAA,IAAI,IAAI,CAAC9D,KAAK,CAAChmB,UAAU,EAAE;AACzB,MAAA,IAAI,CAACA,UAAU,GAAG,IAAI,CAACgmB,KAAK,CAAChmB,UAAU,CAAA;AACzC,KAAC,MAAM;MACL,IAAI,CAACgD,MAAM,GAAG,IAAI,CAACgjB,KAAK,CAACvY,QAAQ,EAAE,CAAA;AACrC,KAAA;AACF,GAAA;AAEA6P,EAAAA,WAAWA,GAAG;AACZ,IAAA,IAAID,KAAK,GAAG,IAAI,CAACrd,UAAU,GAAG,IAAI,CAAC+pB,qBAAqB,EAAE,GAAG,IAAI,CAACC,iBAAiB,EAAE,CAAA;AACrF,IAAA,MAAMvrB,OAAO,GAAG,IAAI,CAAC6J,aAAa,EAAE,CAAA;AACpC,IAAA,IAAI7J,OAAO,EAAE;AACX,MAAA,MAAMynB,YAAY,GAAG/f,gBAAgB,CAAC1H,OAAO,CAAC,CAAA;MAC9CmQ,KAAK,CAACC,IAAI,CAACwO,KAAK,CAAC,CAACtU,OAAO,CAAEjD,IAAI,IAAK;AAClCogB,QAAAA,YAAY,CAAC9c,WAAW,CAACtD,IAAI,CAAC,CAAA;AAChC,OAAC,CAAC,CAAA;MACFuX,KAAK,GAAG,CAAE5e,OAAO,CAAE,CAAA;AACrB,KAAA;AACA,IAAA,OAAO4e,KAAK,CAAA;AACd,GAAA;AAEA0M,EAAAA,qBAAqBA,GAAG;AACtB,IAAA,MAAMhc,WAAW,GAAG,IAAI,CAAC/N,UAAU,CAACiqB,aAAa,EAAE,GAAGvB,yBAAyB,GAAG7C,cAAc,CAAA;AAEhG,IAAA,MAAM7H,IAAI,GAAG,IAAI,CAACG,eAAe,CAACpQ,WAAW,EAAE,IAAI,CAACiY,KAAK,CAAChmB,UAAU,EAAE;MAAEgmB,KAAK,EAAE,IAAI,CAACA,KAAAA;AAAM,KAAC,CAAC,CAAA;AAC5F,IAAA,OAAOhI,IAAI,CAACZ,QAAQ,EAAE,CAAA;AACxB,GAAA;AAEA4M,EAAAA,iBAAiBA,GAAG;AAAA,IAAA,IAAAE,gBAAA,CAAA;IAClB,IAAAA,CAAAA,gBAAA,GAAI,IAAI,CAACL,UAAU,MAAAK,IAAAA,IAAAA,gBAAA,KAAfA,KAAAA,CAAAA,IAAAA,gBAAA,CAAiB9rB,SAAS,EAAE;MAC9B,OAAO,CAAEwF,QAAQ,CAAC2jB,cAAc,CAAC,IAAI,CAACvkB,MAAM,CAAC,CAAE,CAAA;AACjD,KAAC,MAAM;MACL,MAAMqa,KAAK,GAAG,EAAE,CAAA;MAChB,MAAM8M,QAAQ,GAAG,IAAI,CAACnnB,MAAM,CAAC8F,KAAK,CAAC,IAAI,CAAC,CAAA;AACxC,MAAA,KAAK,IAAImI,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGkZ,QAAQ,CAAC3lB,MAAM,EAAEyM,KAAK,EAAE,EAAE;AACpD,QAAA,MAAMmZ,SAAS,GAAGD,QAAQ,CAAClZ,KAAK,CAAC,CAAA;QACjC,IAAIA,KAAK,GAAG,CAAC,EAAE;AACb,UAAA,MAAMxS,OAAO,GAAG2J,WAAW,CAAC,IAAI,CAAC,CAAA;AACjCiV,UAAAA,KAAK,CAAC7T,IAAI,CAAC/K,OAAO,CAAC,CAAA;AACrB,SAAA;QAEA,IAAI2rB,SAAS,CAAC5lB,MAAM,EAAE;AACpB,UAAA,MAAMsB,IAAI,GAAGlC,QAAQ,CAAC2jB,cAAc,CAAC,IAAI,CAAC8C,cAAc,CAACD,SAAS,CAAC,CAAC,CAAA;AACpE/M,UAAAA,KAAK,CAAC7T,IAAI,CAAC1D,IAAI,CAAC,CAAA;AAClB,SAAA;AACF,OAAA;AACA,MAAA,OAAOuX,KAAK,CAAA;AACd,KAAA;AACF,GAAA;AAEA/U,EAAAA,aAAaA,GAAG;AACd,IAAA,IAAI7J,OAAO,EAAEgF,GAAG,EAAEC,KAAK,CAAA;IACvB,MAAM4mB,MAAM,GAAG,EAAE,CAAA;AAEjB,IAAA,KAAK7mB,GAAG,IAAI,IAAI,CAAClG,UAAU,EAAE;AAC3BmG,MAAAA,KAAK,GAAG,IAAI,CAACnG,UAAU,CAACkG,GAAG,CAAC,CAAA;AAC5B,MAAA,MAAM4P,MAAM,GAAGG,aAAa,CAAC/P,GAAG,CAAC,CAAA;AACjC,MAAA,IAAI4P,MAAM,EAAE;QACV,IAAIA,MAAM,CAAC5V,OAAO,EAAE;AAClB,UAAA,IAAIyoB,YAAY,CAAA;AAChB,UAAA,MAAMqE,cAAc,GAAGniB,WAAW,CAACiL,MAAM,CAAC5V,OAAO,CAAC,CAAA;AAElD,UAAA,IAAIyoB,YAAY,EAAE;AAChBA,YAAAA,YAAY,CAAC9c,WAAW,CAACmhB,cAAc,CAAC,CAAA;AACxCrE,YAAAA,YAAY,GAAGqE,cAAc,CAAA;AAC/B,WAAC,MAAM;YACL9rB,OAAO,GAAGynB,YAAY,GAAGqE,cAAc,CAAA;AACzC,WAAA;AACF,SAAA;QAEA,IAAIlX,MAAM,CAACmX,aAAa,EAAE;AACxBF,UAAAA,MAAM,CAACjX,MAAM,CAACmX,aAAa,CAAC,GAAG9mB,KAAK,CAAA;AACtC,SAAA;QAEA,IAAI2P,MAAM,CAAC3K,KAAK,EAAE;AAChB,UAAA,KAAKjF,GAAG,IAAI4P,MAAM,CAAC3K,KAAK,EAAE;AACxBhF,YAAAA,KAAK,GAAG2P,MAAM,CAAC3K,KAAK,CAACjF,GAAG,CAAC,CAAA;AACzB6mB,YAAAA,MAAM,CAAC7mB,GAAG,CAAC,GAAGC,KAAK,CAAA;AACrB,WAAA;AACF,SAAA;AACF,OAAA;AACF,KAAA;IAEA,IAAI4P,MAAM,CAACC,IAAI,CAAC+W,MAAM,CAAC,CAAC9lB,MAAM,EAAE;MAC9B,IAAI,CAAC/F,OAAO,EAAE;AAAEA,QAAAA,OAAO,GAAG2J,WAAW,CAAC,MAAM,CAAC,CAAA;AAAC,OAAA;MAC9C,KAAK3E,GAAG,IAAI6mB,MAAM,EAAE;AAClB5mB,QAAAA,KAAK,GAAG4mB,MAAM,CAAC7mB,GAAG,CAAC,CAAA;AACnBhF,QAAAA,OAAO,CAACiK,KAAK,CAACjF,GAAG,CAAC,GAAGC,KAAK,CAAA;AAC5B,OAAA;AACF,KAAA;AACA,IAAA,OAAOjF,OAAO,CAAA;AAChB,GAAA;AAEA8gB,EAAAA,sBAAsBA,GAAG;AACvB,IAAA,KAAK,MAAM9b,GAAG,IAAI,IAAI,CAAClG,UAAU,EAAE;AACjC,MAAA,MAAMmG,KAAK,GAAG,IAAI,CAACnG,UAAU,CAACkG,GAAG,CAAC,CAAA;AAClC,MAAA,MAAM4P,MAAM,GAAGG,aAAa,CAAC/P,GAAG,CAAC,CAAA;AACjC,MAAA,IAAI4P,MAAM,EAAE;QACV,IAAIA,MAAM,CAACtH,YAAY,EAAE;UACvB,MAAMxO,UAAU,GAAG,EAAE,CAAA;AACrBA,UAAAA,UAAU,CAACkG,GAAG,CAAC,GAAGC,KAAK,CAAA;AACvB,UAAA,OAAO0E,WAAW,CAACiL,MAAM,CAACtH,YAAY,EAAExO,UAAU,CAAC,CAAA;AACrD,SAAA;AACF,OAAA;AACF,KAAA;AACF,GAAA;EAEA8sB,cAAcA,CAACrnB,MAAM,EAAE;AACrB,IAAA,IAAI,IAAI,CAAC8mB,OAAO,CAACW,MAAM,EAAE;MACvBznB,MAAM,GAAGA,MAAM,CAACG,OAAO,CAAC,KAAK,EAAEE,kBAAkB,CAAC,CAAA;AACpD,KAAA;AAEAL,IAAAA,MAAM,GAAGA,MAAM,CACZG,OAAO,CAAC,gBAAgB,EAAAX,KAAAA,CAAAA,MAAA,CAAQa,kBAAkB,EAAK,KAAA,CAAA,CAAC,CACxDF,OAAO,CAAC,QAAQ,EAAA,EAAA,CAAAX,MAAA,CAAKa,kBAAkB,EAAA,GAAA,CAAG,CAAC,CAC3CF,OAAO,CAAC,QAAQ,EAAAX,GAAAA,CAAAA,MAAA,CAAMa,kBAAkB,CAAE,CAAC,CAAA;IAE9C,IAAI,IAAI,CAACymB,OAAO,CAACY,OAAO,IAAI,IAAI,CAACZ,OAAO,CAACa,iBAAiB,EAAE;MAC1D3nB,MAAM,GAAGA,MAAM,CAACG,OAAO,CAAC,KAAK,EAAEE,kBAAkB,CAAC,CAAA;AACpD,KAAA;AAEA,IAAA,OAAOL,MAAM,CAAA;AACf,GAAA;AACF;;AC9IA;AACA;AACA;AAKe,MAAM4nB,QAAQ,SAAS3N,UAAU,CAAC;AAC/ClP,EAAAA,WAAWA,GAAG;IACZ,KAAK,CAAC,GAAGxJ,SAAS,CAAC,CAAA;AACnB,IAAA,IAAI,CAACpG,IAAI,GAAG,IAAI,CAAC0O,MAAM,CAAA;AACvB,IAAA,IAAI,CAACgd,UAAU,GAAG,IAAI,CAACxkB,OAAO,CAACwkB,UAAU,CAAA;AAC3C,GAAA;AAEAvM,EAAAA,WAAWA,GAAG;IACZ,MAAMD,KAAK,GAAG,EAAE,CAAA;IAChB,MAAMwN,MAAM,GAAGjQ,WAAW,CAACC,YAAY,CAAC,IAAI,CAACiQ,SAAS,EAAE,CAAC,CAAA;AACzD,IAAA,MAAMlJ,SAAS,GAAGiJ,MAAM,CAACrmB,MAAM,GAAG,CAAC,CAAA;AAEnC,IAAA,KAAK,IAAIyM,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG4Z,MAAM,CAACrmB,MAAM,EAAEyM,KAAK,EAAE,EAAE;AAClD,MAAA,MAAM+U,KAAK,GAAG6E,MAAM,CAAC5Z,KAAK,CAAC,CAAA;MAC3B,MAAM6Y,OAAO,GAAG,EAAE,CAAA;MAClB,IAAI7Y,KAAK,KAAK,CAAC,EAAE;QACf6Y,OAAO,CAACY,OAAO,GAAG,IAAI,CAAA;AACxB,OAAA;MACA,IAAIzZ,KAAK,KAAK2Q,SAAS,EAAE;QACvBkI,OAAO,CAACW,MAAM,GAAG,IAAI,CAAA;AACvB,OAAA;AACA,MAAA,IAAIM,kBAAkB,CAACC,aAAa,CAAC,EAAE;QACrClB,OAAO,CAACa,iBAAiB,GAAG,IAAI,CAAA;AAClC,OAAA;MAEA,MAAM3M,IAAI,GAAG,IAAI,CAACF,2BAA2B,CAAC6L,SAAS,EAAE3D,KAAK,EAAE;QAAE6D,UAAU,EAAE,IAAI,CAACA,UAAU;AAAEC,QAAAA,OAAAA;AAAQ,OAAC,CAAC,CAAA;AACzGzM,MAAAA,KAAK,CAAC7T,IAAI,CAAC,GAAGoF,KAAK,CAACC,IAAI,CAACmP,IAAI,CAACZ,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAA;MAEhD,IAAI4N,aAAa,GAAGhF,KAAK,CAAA;AAC3B,KAAA;AACA,IAAA,OAAO3I,KAAK,CAAA;AACd,GAAA;AAEAyN,EAAAA,SAASA,GAAG;IACV,OAAOlc,KAAK,CAACC,IAAI,CAAC,IAAI,CAAC1Q,IAAI,CAAC2sB,SAAS,EAAE,CAAC,CAACxT,MAAM,CAAE0O,KAAK,IAAK,CAACA,KAAK,CAAChB,YAAY,CAAC,YAAY,CAAC,CAAC,CAAA;AAC/F,GAAA;AACF,CAAA;AAEA,MAAM+F,kBAAkB,GAAI/E,KAAK,IAAK,KAAK,CAACxnB,IAAI,CAACwnB,KAAK,KAAA,IAAA,IAALA,KAAK,KAALA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAK,CAAEvY,QAAQ,EAAE,CAAC;;ACxCnE,MAAM;AAAEmY,OAAAA,KAAAA;AAAI,CAAC,GAAGvS,MAAM,CAAA;AAEP,MAAM4X,SAAS,SAAShO,UAAU,CAAC;AAChDlP,EAAAA,WAAWA,GAAG;IACZ,KAAK,CAAC,GAAGxJ,SAAS,CAAC,CAAA;AACnB,IAAA,IAAI,CAAC2mB,KAAK,GAAG,IAAI,CAACre,MAAM,CAAA;IACxB,IAAI,CAACtP,UAAU,GAAG,IAAI,CAAC2tB,KAAK,CAACtB,aAAa,EAAE,CAAA;AAC9C,GAAA;AAEAtM,EAAAA,WAAWA,GAAG;AACZ,IAAA,MAAM6N,OAAO,GAAGvnB,QAAQ,CAACwnB,aAAa,CAAC,OAAO,CAAC,CAAA;AAC/C,IAAA,MAAM/N,KAAK,GAAG,CAAE8N,OAAO,CAAE,CAAA;AACzB,IAAA,IAAI,IAAI,CAACD,KAAK,CAAC3Q,OAAO,EAAE,EAAE;AACxB8C,MAAAA,KAAK,CAAC7T,IAAI,CAACpB,WAAW,CAAC,IAAI,CAAC,CAAC,CAAA;AAC/B,KAAC,MAAM;AAAA,MAAA,IAAAijB,eAAA,CAAA;AACL,MAAA,MAAMxB,UAAU,GAAAwB,CAAAA,eAAA,GAAGlY,cAAc,CAAC,IAAI,CAAC+X,KAAK,CAACI,gBAAgB,EAAE,CAAC,MAAA,IAAA,IAAAD,eAAA,KAA7CA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,eAAA,CAA+CltB,IAAI,CAAA;AACtE,MAAA,MAAMotB,QAAQ,GAAG,IAAI,CAACzN,2BAA2B,CAAC8M,QAAQ,EAAE,IAAI,CAACM,KAAK,CAAC/sB,IAAI,EAAE;AAAE0rB,QAAAA,UAAAA;AAAW,OAAC,CAAC,CAAA;AAC5FxM,MAAAA,KAAK,CAAC7T,IAAI,CAAC,GAAGoF,KAAK,CAACC,IAAI,CAAC0c,QAAQ,CAACnO,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAA;AACpD,MAAA,IAAI,IAAI,CAACoO,4BAA4B,EAAE,EAAE;AACvCnO,QAAAA,KAAK,CAAC7T,IAAI,CAACpB,WAAW,CAAC,IAAI,CAAC,CAAC,CAAA;AAC/B,OAAA;AACF,KAAA;AAEA,IAAA,IAAI,IAAI,CAAC7K,UAAU,CAACiH,MAAM,EAAE;AAC1B,MAAA,OAAO6Y,KAAK,CAAA;AACd,KAAC,MAAM;AACL,MAAA,IAAI9f,YAAU,CAAA;MACd,MAAM;AAAEE,QAAAA,OAAAA;AAAQ,OAAC,GAAG4V,UAAsB,CAAC7V,OAAO,CAAA;AAClD,MAAA,IAAI,IAAI,CAAC0tB,KAAK,CAACO,KAAK,EAAE,EAAE;AACtBluB,QAAAA,YAAU,GAAG;AAAE2U,UAAAA,GAAG,EAAE,KAAA;SAAO,CAAA;AAC7B,OAAA;MAEA,MAAMzT,OAAO,GAAG2J,WAAW,CAAC;QAAE3K,OAAO;AAAEF,oBAAAA,YAAAA;AAAW,OAAC,CAAC,CAAA;MACpD8f,KAAK,CAACtU,OAAO,CAAEjD,IAAI,IAAKrH,OAAO,CAAC2K,WAAW,CAACtD,IAAI,CAAC,CAAC,CAAA;MAClD,OAAO,CAAErH,OAAO,CAAE,CAAA;AACpB,KAAA;AACF,GAAA;EAEA8gB,sBAAsBA,CAACxE,KAAK,EAAE;IAC5B,MAAMxd,UAAU,GAAG,EAAE,CAAA;AACrB,IAAA,IAAIsL,SAAS,CAAA;AACb,IAAA,MAAMuK,aAAa,GAAG,IAAI,CAAC7V,UAAU,CAACwd,KAAK,CAAC,CAAA;IAE5C,MAAM;MAAEtd,OAAO;AAAES,MAAAA,cAAc,GAAG,EAAA;AAAG,KAAC,GAAGiV,cAAc,CAACC,aAAa,CAAC,CAAA;IAEtE,IAAI2H,KAAK,KAAK,CAAC,IAAI,IAAI,CAACmQ,KAAK,CAACO,KAAK,EAAE,EAAE;AACrCnY,MAAAA,MAAM,CAACiR,MAAM,CAAChnB,UAAU,EAAE;AAAE2U,QAAAA,GAAG,EAAE,KAAA;AAAM,OAAC,CAAC,CAAA;AAC3C,KAAA;IAEA,IAAIkB,aAAa,KAAK,mBAAmB,EAAE;MACzC,MAAM/V,IAAI,GAAG,IAAI,CAAC6tB,KAAK,CAACQ,qBAAqB,EAAE,CAAA;AAC/C7iB,MAAAA,SAAS,MAAArG,MAAA,CAAMojB,KAAG,CAAC/mB,iBAAiB,EAAA2D,GAAAA,CAAAA,CAAAA,MAAA,CAAIojB,KAAG,CAAC/mB,iBAAiB,EAAA,IAAA,CAAA,CAAA2D,MAAA,CAAKnF,IAAI,CAAE,CAAA;AAC1E,KAAA;AAEAiW,IAAAA,MAAM,CAACkM,OAAO,CAAC,IAAI,CAAC0L,KAAK,CAAChtB,cAAc,CAAC,CAAC6K,OAAO,CAAC6L,IAAA,IAAqB;AAAA,MAAA,IAApB,CAAExX,IAAI,EAAEsG,KAAK,CAAE,GAAAkR,IAAA,CAAA;AAChE,MAAA,IAAI1W,cAAc,CAAC0L,QAAQ,CAACxM,IAAI,CAAC,EAAE;AACjCG,QAAAA,UAAU,CAACH,IAAI,CAAC,GAAGsG,KAAK,CAAA;AAC1B,OAAA;AACF,KAAC,CAAC,CAAA;AAEF,IAAA,OAAO0E,WAAW,CAAC;MAAE3K,OAAO;MAAEoL,SAAS;AAAEtL,MAAAA,UAAAA;AAAW,KAAC,CAAC,CAAA;AACxD,GAAA;;AAEA;AACA;AACAiuB,EAAAA,4BAA4BA,GAAG;IAC7B,OAAO,OAAO,CAAChtB,IAAI,CAAC,IAAI,CAAC0sB,KAAK,CAACzd,QAAQ,EAAE,CAAC,CAAA;AAC5C,GAAA;AACF;;AChEe,MAAMke,YAAY,SAAS1O,UAAU,CAAC;EACnD,OAAO2O,MAAMA,CAAChoB,QAAQ,EAAE;AACtB,IAAA,MAAMnF,OAAO,GAAG2J,WAAW,CAAC,KAAK,CAAC,CAAA;AAClC,IAAA,MAAM4V,IAAI,GAAG,IAAI,IAAI,CAACpa,QAAQ,EAAE;AAAEnF,MAAAA,OAAAA;AAAQ,KAAC,CAAC,CAAA;IAC5Cuf,IAAI,CAAC4N,MAAM,EAAE,CAAA;IACb5N,IAAI,CAAC6N,IAAI,EAAE,CAAA;AACX,IAAA,OAAOptB,OAAO,CAAA;AAChB,GAAA;AAEAsP,EAAAA,WAAWA,GAAG;IACZ,KAAK,CAAC,GAAGxJ,SAAS,CAAC,CAAA;AACnB,IAAA,IAAI,CAAC9F,OAAO,GAAG,IAAI,CAAC4G,OAAO,CAAC5G,OAAO,CAAA;AACnC,IAAA,IAAI,CAACqtB,YAAY,GAAG,IAAInQ,YAAY,EAAE,CAAA;AACtC,IAAA,IAAI,CAACoQ,WAAW,CAAC,IAAI,CAAClf,MAAM,CAAC,CAAA;AAC/B,GAAA;EAEAkf,WAAWA,CAACnoB,QAAQ,EAAE;IACpB,IAAI,CAACA,QAAQ,CAAC2K,SAAS,CAAC,IAAI,CAAC3K,QAAQ,CAAC,EAAE;AACtC,MAAA,IAAI,CAACA,QAAQ,GAAG,IAAI,CAACiJ,MAAM,GAAGjJ,QAAQ,CAAA;AACxC,KAAA;AACF,GAAA;AAEAgoB,EAAAA,MAAMA,GAAG;IACP,IAAI,CAAC1O,UAAU,GAAG,EAAE,CAAA;AAEpB,IAAA,IAAI,CAAC8O,aAAa,GAAG5jB,WAAW,CAAC,KAAK,CAAC,CAAA;IAEvC,IAAI,CAAC,IAAI,CAACxE,QAAQ,CAAC2W,OAAO,EAAE,EAAE;AAC5B,MAAA,MAAMT,OAAO,GAAGc,WAAW,CAACC,YAAY,CAAC,IAAI,CAACjX,QAAQ,CAACqoB,SAAS,EAAE,EAAE;AAAEjR,QAAAA,MAAM,EAAE,IAAA;AAAK,OAAC,CAAC,CAAA;MAErFpM,KAAK,CAACC,IAAI,CAACiL,OAAO,CAAC,CAAC/Q,OAAO,CAAE8D,MAAM,IAAK;QACtC,MAAMmR,IAAI,GAAG,IAAI,CAACF,2BAA2B,CAACmN,SAAS,EAAEpe,MAAM,CAAC,CAAA;QAChE+B,KAAK,CAACC,IAAI,CAACmP,IAAI,CAACZ,QAAQ,EAAE,CAAC,CAAC9N,GAAG,CAAExJ,IAAI,IAAK,IAAI,CAACkmB,aAAa,CAAC5iB,WAAW,CAACtD,IAAI,CAAC,CAAC,CAAA;AACjF,OAAC,CAAC,CAAA;AACJ,KAAA;AACF,GAAA;AAEAomB,EAAAA,QAAQA,GAAG;IACT,OAAOC,qBAAqB,CAAC,IAAI,CAACH,aAAa,EAAE,IAAI,CAACvtB,OAAO,CAAC,CAAA;AAChE,GAAA;AAEAotB,EAAAA,IAAIA,GAAG;AACL,IAAA,MAAMD,MAAM,GAAGA,CAACntB,OAAO,EAAE2tB,gBAAgB,KAAK;MAC5C,OAAO3tB,OAAO,CAAC4tB,SAAS,EAAE;AACxB5tB,QAAAA,OAAO,CAAC8I,WAAW,CAAC9I,OAAO,CAAC4tB,SAAS,CAAC,CAAA;AACxC,OAAA;AACA5tB,MAAAA,OAAO,CAAC2K,WAAW,CAACgjB,gBAAgB,CAAC,CAAA;KACtC,CAAA;AAED,IAAA,MAAMvnB,KAAK,GAAGS,aAAW,CAAC,oBAAoB,EAAE;AAAEE,MAAAA,UAAU,EAAE,KAAK;AAAEjI,MAAAA,UAAU,EAAE;AAAEquB,QAAAA,MAAAA;AAAO,OAAA;AAAE,KAAC,CAAC,CAAA;AAC9F,IAAA,IAAI,CAACntB,OAAO,CAACkH,aAAa,CAACd,KAAK,CAAC,CAAA;AAEjC,IAAA,MAAMynB,QAAQ,GAAG,IAAI,CAACC,6BAA6B,EAAE,CAAA;IACrD1nB,KAAK,CAAC+mB,MAAM,CAAC,IAAI,CAACntB,OAAO,EAAE6tB,QAAQ,CAAC,CAAA;AACpC,IAAA,OAAO,IAAI,CAACE,OAAO,EAAE,CAAA;AACvB,GAAA;;AAEA;;AAEAA,EAAAA,OAAOA,GAAG;IACR,IAAI,CAACV,YAAY,CAACpU,KAAK,CAAC+U,kBAAkB,CAAC,IAAI,CAAChuB,OAAO,CAAC,CAAC,CAAA;IACzD,OAAO8W,KAAK,CAAC,MAAM,IAAI,CAAC4J,yBAAyB,EAAE,CAAC,CAAA;AACtD,GAAA;AAEAoN,EAAAA,6BAA6BA,GAAG;AAC9B,IAAA,MAAMD,QAAQ,GAAG1oB,QAAQ,CAAC8oB,sBAAsB,EAAE,CAAA;AAElD9d,IAAAA,KAAK,CAACC,IAAI,CAAC,IAAI,CAACmd,aAAa,CAACllB,UAAU,CAAC,CAACiC,OAAO,CAAEjD,IAAI,IAAK;MAC1DwmB,QAAQ,CAACljB,WAAW,CAACtD,IAAI,CAACyX,SAAS,CAAC,IAAI,CAAC,CAAC,CAAA;AAC5C,KAAC,CAAC,CAAA;AAEF3O,IAAAA,KAAK,CAACC,IAAI,CAAC4d,kBAAkB,CAACH,QAAQ,CAAC,CAAC,CAACvjB,OAAO,CAAEtK,OAAO,IAAK;MAC5D,MAAMkuB,aAAa,GAAG,IAAI,CAACb,YAAY,CAACtqB,MAAM,CAAC/C,OAAO,CAAC,CAAA;AACvD,MAAA,IAAIkuB,aAAa,EAAE;QACjBluB,OAAO,CAACC,UAAU,CAACkuB,YAAY,CAACD,aAAa,EAAEluB,OAAO,CAAC,CAAA;AACzD,OAAA;AACF,KAAC,CAAC,CAAA;AAEF,IAAA,OAAO6tB,QAAQ,CAAA;AACjB,GAAA;AACF,CAAA;AAEA,MAAMG,kBAAkB,GAAIhuB,OAAO,IAAKA,OAAO,CAAC0mB,gBAAgB,CAAC,uBAAuB,CAAC,CAAA;AAEzF,MAAMgH,qBAAqB,GAAGA,CAAC1tB,OAAO,EAAEouB,YAAY,KAClDC,YAAY,CAACruB,OAAO,CAAColB,SAAS,CAAC,KAAKiJ,YAAY,CAACD,YAAY,CAAChJ,SAAS,CAAC,CAAA;AAE1E,MAAMiJ,YAAY,GAAInpB,IAAI,IAAKA,IAAI,CAACR,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}