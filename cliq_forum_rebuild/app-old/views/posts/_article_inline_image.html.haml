-# locals: image:, position:, post:
- return unless image&.attached?
- variant = safe_variant(image, resize_to_fit: [960, 540])
- modifier = position == 1 ? "lead" : "support"
%figure{ class: "post-article-inline post-article-inline--#{modifier}" }
  = button_tag type: "button",
                class: "post-image-lightbox",
                data: { controller: "image-lightbox",
                        action: "click->image-lightbox#open",
                        image_lightbox_url_value: url_for(image) } do
    = image_tag variant,
                alt: "#{post.title} supporting image #{position}",
                class: "post-article-inline__image img-fluid rounded",
                loading: "lazy"
