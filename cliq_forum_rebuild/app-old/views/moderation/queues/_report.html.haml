- reportable = report.reportable
- subject_path = case reportable
- when Post
    post_id_slug_post_path(post_id: reportable.id, slug: reportable.slug)
- when Reply
    post_id_slug_post_path(post_id: reportable.post.id, slug: reportable.post.slug)
- end

%div.card.mb-3{ id: dom_id(report) }
  .card-body
    .d-flex.justify-content-between.align-items-start.flex-wrap.gap-3
      .flex-grow-1
        %h3.h6.mb-1= report.reason.humanize
        %p.mb-2= simple_format(report.note)
        %p.small.text-muted
          Reported #{time_ago_in_words(report.created_at)} ago Â· SLA #{distance_of_time_in_words(Time.current, report.sla_expires_at)} remaining
      - if subject_path
        = link_to "View", subject_path, class: "btn btn-outline-secondary btn-sm", target: "_top"

    .mt-3.d-flex.flex-wrap.gap-2
      = button_to "Dismiss",
                  moderation_actions_path,
                  method: :post,
                  params: { action: { report_id: report.id, action_type: "dismiss", note: nil } },
                  class: "btn btn-sm btn-outline-secondary"
      = button_to "Warn",
                  moderation_actions_path,
                  method: :post,
                  params: { action: { report_id: report.id, action_type: "warn" } },
                  class: "btn btn-sm btn-warning"
      = button_to "Remove",
                  moderation_actions_path,
                  method: :post,
                  params: { action: { report_id: report.id, action_type: "remove" } },
                  class: "btn btn-sm btn-danger"
      = button_to "Escalate",
                  moderation_actions_path,
                  method: :post,
                  params: { action: { report_id: report.id, action_type: "escalate" } },
                  class: "btn btn-sm btn-outline-primary"
